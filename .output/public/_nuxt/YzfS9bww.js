const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B8swy9pQ.js","./amap.a-3npL8s.css","./Bv5w8D2R.js","./B_puPOsM.js","./index.D3gN1PgG.css","./gwfihsp7.js","./CxtXSHuL.js","./error-404.2GhCpCfF.css","./CBFmicdt.js","./error-500.DqdIhFrl.css"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function o(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function c(d){if(d.ep)return;d.ep=!0;const u=o(d);fetch(d.href,u)}})();function kh(t){const n=Object.create(null);for(const o of t.split(","))n[o]=1;return o=>o in n}const Me={},ws=[],vn=()=>{},Ff=()=>!1,Ko=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Eh=t=>t.startsWith("onUpdate:"),ri=Object.assign,Mh=(t,n)=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)},x_=Object.prototype.hasOwnProperty,Ce=(t,n)=>x_.call(t,n),Yt=Array.isArray,ks=t=>qo(t)==="[object Map]",Nf=t=>qo(t)==="[object Set]",w_=t=>qo(t)==="[object RegExp]",Xt=t=>typeof t=="function",De=t=>typeof t=="string",hr=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",zf=t=>(Pe(t)||Xt(t))&&Xt(t.then)&&Xt(t.catch),Gf=Object.prototype.toString,qo=t=>Gf.call(t),k_=t=>qo(t).slice(8,-1),jf=t=>qo(t)==="[object Object]",vu=t=>De(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Es=kh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lu=t=>{const n=Object.create(null);return(o=>n[o]||(n[o]=t(o)))},E_=/-\w/g,Wi=Lu(t=>t.replace(E_,n=>n.slice(1).toUpperCase())),M_=/\B([A-Z])/g,zr=Lu(t=>t.replace(M_,"-$1").toLowerCase()),bu=Lu(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pl=Lu(t=>t?`on${bu(t)}`:""),ur=(t,n)=>!Object.is(t,n),Ms=(t,...n)=>{for(let o=0;o<t.length;o++)t[o](...n)},Hf=(t,n,o,c=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:c,value:o})},Ph=t=>{const n=parseFloat(t);return isNaN(n)?t:n},Uf=t=>{const n=De(t)?Number(t):NaN;return isNaN(n)?t:n};let oc;const Cu=()=>oc||(oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xu(t){if(Yt(t)){const n={};for(let o=0;o<t.length;o++){const c=t[o],d=De(c)?S_(c):xu(c);if(d)for(const u in d)n[u]=d[u]}return n}else if(De(t)||Pe(t))return t}const P_=/;(?![^(]*\))/g,B_=/:([^]+)/,T_=/\/\*[^]*?\*\//g;function S_(t){const n={};return t.replace(T_,"").split(P_).forEach(o=>{if(o){const c=o.split(B_);c.length>1&&(n[c[0].trim()]=c[1].trim())}}),n}function wu(t){let n="";if(De(t))n=t;else if(Yt(t))for(let o=0;o<t.length;o++){const c=wu(t[o]);c&&(n+=c+" ")}else if(Pe(t))for(const o in t)t[o]&&(n+=o+" ");return n.trim()}function A_(t){if(!t)return null;let{class:n,style:o}=t;return n&&!De(n)&&(t.class=wu(n)),o&&(t.style=xu(o)),t}const D_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",R_=kh(D_);function Zf(t){return!!t||t===""}const Vf=t=>!!(t&&t.__v_isRef===!0),O_=t=>De(t)?t:t==null?"":Yt(t)||Pe(t)&&(t.toString===Gf||!Xt(t.toString))?Vf(t)?O_(t.value):JSON.stringify(t,Kf,2):String(t),Kf=(t,n)=>Vf(n)?Kf(t,n.value):ks(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((o,[c,d],u)=>(o[Bl(c,u)+" =>"]=d,o),{})}:Nf(n)?{[`Set(${n.size})`]:[...n.values()].map(o=>Bl(o))}:hr(n)?Bl(n):Pe(n)&&!Yt(n)&&!jf(n)?String(n):n,Bl=(t,n="")=>{var o;return hr(t)?`Symbol(${(o=t.description)!=null?o:n})`:t};let ki;class qf{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ki,!n&&ki&&(this.index=(ki.scopes||(ki.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,o;if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].pause();for(n=0,o=this.effects.length;n<o;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,o;if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].resume();for(n=0,o=this.effects.length;n<o;n++)this.effects[n].resume()}}run(n){if(this._active){const o=ki;try{return ki=this,n()}finally{ki=o}}}on(){++this._on===1&&(this.prevScope=ki,ki=this)}off(){this._on>0&&--this._on===0&&(ki=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let o,c;for(o=0,c=this.effects.length;o<c;o++)this.effects[o].stop();for(this.effects.length=0,o=0,c=this.cleanups.length;o<c;o++)this.cleanups[o]();if(this.cleanups.length=0,this.scopes){for(o=0,c=this.scopes.length;o<c;o++)this.scopes[o].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const d=this.parent.scopes.pop();d&&d!==this&&(this.parent.scopes[this.index]=d,d.index=this.index)}this.parent=void 0}}}function I_(t){return new qf(t)}function Wf(){return ki}let Te;const Tl=new WeakSet;class $f{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ki&&ki.active&&ki.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Tl.has(this)&&(Tl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ac(this),Xf(this);const n=Te,o=sn;Te=this,sn=!0;try{return this.fn()}finally{Qf(this),Te=n,sn=o,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)Sh(n);this.deps=this.depsTail=void 0,ac(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Tl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yl(this)&&this.run()}get dirty(){return Yl(this)}}let Yf=0,So,Ao;function Jf(t,n=!1){if(t.flags|=8,n){t.next=Ao,Ao=t;return}t.next=So,So=t}function Bh(){Yf++}function Th(){if(--Yf>0)return;if(Ao){let n=Ao;for(Ao=void 0;n;){const o=n.next;n.next=void 0,n.flags&=-9,n=o}}let t;for(;So;){let n=So;for(So=void 0;n;){const o=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(c){t||(t=c)}n=o}}if(t)throw t}function Xf(t){for(let n=t.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function Qf(t){let n,o=t.depsTail,c=o;for(;c;){const d=c.prevDep;c.version===-1?(c===o&&(o=d),Sh(c),F_(c)):n=c,c.dep.activeLink=c.prevActiveLink,c.prevActiveLink=void 0,c=d}t.deps=n,t.depsTail=o}function Yl(t){for(let n=t.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(td(n.dep.computed)||n.dep.version!==n.version))return!0;return!!t._dirty}function td(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===No)||(t.globalVersion=No,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Yl(t))))return;t.flags|=2;const n=t.dep,o=Te,c=sn;Te=t,sn=!0;try{Xf(t);const d=t.fn(t._value);(n.version===0||ur(d,t._value))&&(t.flags|=128,t._value=d,n.version++)}catch(d){throw n.version++,d}finally{Te=o,sn=c,Qf(t),t.flags&=-3}}function Sh(t,n=!1){const{dep:o,prevSub:c,nextSub:d}=t;if(c&&(c.nextSub=d,t.prevSub=void 0),d&&(d.prevSub=c,t.nextSub=void 0),o.subs===t&&(o.subs=c,!c&&o.computed)){o.computed.flags&=-5;for(let u=o.computed.deps;u;u=u.nextDep)Sh(u,!0)}!n&&!--o.sc&&o.map&&o.map.delete(o.key)}function F_(t){const{prevDep:n,nextDep:o}=t;n&&(n.nextDep=o,t.prevDep=void 0),o&&(o.prevDep=n,t.nextDep=void 0)}let sn=!0;const ed=[];function jn(){ed.push(sn),sn=!1}function Hn(){const t=ed.pop();sn=t===void 0?!0:t}function ac(t){const{cleanup:n}=t;if(t.cleanup=void 0,n){const o=Te;Te=void 0;try{n()}finally{Te=o}}}let No=0;class N_{constructor(n,o){this.sub=n,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ah{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(n){if(!Te||!sn||Te===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==Te)o=this.activeLink=new N_(Te,this),Te.deps?(o.prevDep=Te.depsTail,Te.depsTail.nextDep=o,Te.depsTail=o):Te.deps=Te.depsTail=o,id(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){const c=o.nextDep;c.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=c),o.prevDep=Te.depsTail,o.nextDep=void 0,Te.depsTail.nextDep=o,Te.depsTail=o,Te.deps===o&&(Te.deps=c)}return o}trigger(n){this.version++,No++,this.notify(n)}notify(n){Bh();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{Th()}}}function id(t){if(t.dep.sc++,t.sub.flags&4){const n=t.dep.computed;if(n&&!t.dep.subs){n.flags|=20;for(let c=n.deps;c;c=c.nextDep)id(c)}const o=t.dep.subs;o!==t&&(t.prevSub=o,o&&(o.nextSub=t)),t.dep.subs=t}}const eu=new WeakMap,Rr=Symbol(""),Jl=Symbol(""),zo=Symbol("");function _i(t,n,o){if(sn&&Te){let c=eu.get(t);c||eu.set(t,c=new Map);let d=c.get(o);d||(c.set(o,d=new Ah),d.map=c,d.key=o),d.track()}}function Fn(t,n,o,c,d,u){const f=eu.get(t);if(!f){No++;return}const _=y=>{y&&y.trigger()};if(Bh(),n==="clear")f.forEach(_);else{const y=Yt(t),k=y&&vu(o);if(y&&o==="length"){const b=Number(c);f.forEach((w,B)=>{(B==="length"||B===zo||!hr(B)&&B>=b)&&_(w)})}else switch((o!==void 0||f.has(void 0))&&_(f.get(o)),k&&_(f.get(zo)),n){case"add":y?k&&_(f.get("length")):(_(f.get(Rr)),ks(t)&&_(f.get(Jl)));break;case"delete":y||(_(f.get(Rr)),ks(t)&&_(f.get(Jl)));break;case"set":ks(t)&&_(f.get(Rr));break}}Th()}function z_(t,n){const o=eu.get(t);return o&&o.get(n)}function ys(t){const n=ge(t);return n===t?n:(_i(n,"iterate",zo),Ri(t)?n:n.map(on))}function ku(t){return _i(t=ge(t),"iterate",zo),t}function rr(t,n){return Ln(t)?lr(t)?Rs(on(n)):Rs(n):on(n)}const G_={__proto__:null,[Symbol.iterator](){return Sl(this,Symbol.iterator,t=>rr(this,t))},concat(...t){return ys(this).concat(...t.map(n=>Yt(n)?ys(n):n))},entries(){return Sl(this,"entries",t=>(t[1]=rr(this,t[1]),t))},every(t,n){return An(this,"every",t,n,void 0,arguments)},filter(t,n){return An(this,"filter",t,n,o=>o.map(c=>rr(this,c)),arguments)},find(t,n){return An(this,"find",t,n,o=>rr(this,o),arguments)},findIndex(t,n){return An(this,"findIndex",t,n,void 0,arguments)},findLast(t,n){return An(this,"findLast",t,n,o=>rr(this,o),arguments)},findLastIndex(t,n){return An(this,"findLastIndex",t,n,void 0,arguments)},forEach(t,n){return An(this,"forEach",t,n,void 0,arguments)},includes(...t){return Al(this,"includes",t)},indexOf(...t){return Al(this,"indexOf",t)},join(t){return ys(this).join(t)},lastIndexOf(...t){return Al(this,"lastIndexOf",t)},map(t,n){return An(this,"map",t,n,void 0,arguments)},pop(){return Co(this,"pop")},push(...t){return Co(this,"push",t)},reduce(t,...n){return uc(this,"reduce",t,n)},reduceRight(t,...n){return uc(this,"reduceRight",t,n)},shift(){return Co(this,"shift")},some(t,n){return An(this,"some",t,n,void 0,arguments)},splice(...t){return Co(this,"splice",t)},toReversed(){return ys(this).toReversed()},toSorted(t){return ys(this).toSorted(t)},toSpliced(...t){return ys(this).toSpliced(...t)},unshift(...t){return Co(this,"unshift",t)},values(){return Sl(this,"values",t=>rr(this,t))}};function Sl(t,n,o){const c=ku(t),d=c[n]();return c!==t&&!Ri(t)&&(d._next=d.next,d.next=()=>{const u=d._next();return u.done||(u.value=o(u.value)),u}),d}const j_=Array.prototype;function An(t,n,o,c,d,u){const f=ku(t),_=f!==t&&!Ri(t),y=f[n];if(y!==j_[n]){const w=y.apply(t,u);return _?on(w):w}let k=o;f!==t&&(_?k=function(w,B){return o.call(this,rr(t,w),B,t)}:o.length>2&&(k=function(w,B){return o.call(this,w,B,t)}));const b=y.call(f,k,c);return _&&d?d(b):b}function uc(t,n,o,c){const d=ku(t);let u=o;return d!==t&&(Ri(t)?o.length>3&&(u=function(f,_,y){return o.call(this,f,_,y,t)}):u=function(f,_,y){return o.call(this,f,rr(t,_),y,t)}),d[n](u,...c)}function Al(t,n,o){const c=ge(t);_i(c,"iterate",zo);const d=c[n](...o);return(d===-1||d===!1)&&Eu(o[0])?(o[0]=ge(o[0]),c[n](...o)):d}function Co(t,n,o=[]){jn(),Bh();const c=ge(t)[n].apply(t,o);return Th(),Hn(),c}const H_=kh("__proto__,__v_isRef,__isVue"),nd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(hr));function U_(t){hr(t)||(t=String(t));const n=ge(this);return _i(n,"has",t),n.hasOwnProperty(t)}class rd{constructor(n=!1,o=!1){this._isReadonly=n,this._isShallow=o}get(n,o,c){if(o==="__v_skip")return n.__v_skip;const d=this._isReadonly,u=this._isShallow;if(o==="__v_isReactive")return!d;if(o==="__v_isReadonly")return d;if(o==="__v_isShallow")return u;if(o==="__v_raw")return c===(d?u?Q_:ud:u?ad:od).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(c)?n:void 0;const f=Yt(n);if(!d){let y;if(f&&(y=G_[o]))return y;if(o==="hasOwnProperty")return U_}const _=Reflect.get(n,o,qe(n)?n:c);if((hr(o)?nd.has(o):H_(o))||(d||_i(n,"get",o),u))return _;if(qe(_)){const y=f&&vu(o)?_:_.value;return d&&Pe(y)?Ql(y):y}return Pe(_)?d?Ql(_):cr(_):_}}class sd extends rd{constructor(n=!1){super(!1,n)}set(n,o,c,d){let u=n[o];const f=Yt(n)&&vu(o);if(!this._isShallow){const k=Ln(u);if(!Ri(c)&&!Ln(c)&&(u=ge(u),c=ge(c)),!f&&qe(u)&&!qe(c))return k||(u.value=c),!0}const _=f?Number(o)<n.length:Ce(n,o),y=Reflect.set(n,o,c,qe(n)?n:d);return n===ge(d)&&(_?ur(c,u)&&Fn(n,"set",o,c):Fn(n,"add",o,c)),y}deleteProperty(n,o){const c=Ce(n,o);n[o];const d=Reflect.deleteProperty(n,o);return d&&c&&Fn(n,"delete",o,void 0),d}has(n,o){const c=Reflect.has(n,o);return(!hr(o)||!nd.has(o))&&_i(n,"has",o),c}ownKeys(n){return _i(n,"iterate",Yt(n)?"length":Rr),Reflect.ownKeys(n)}}class Z_ extends rd{constructor(n=!1){super(!0,n)}set(n,o){return!0}deleteProperty(n,o){return!0}}const V_=new sd,K_=new Z_,q_=new sd(!0);const Xl=t=>t,Na=t=>Reflect.getPrototypeOf(t);function W_(t,n,o){return function(...c){const d=this.__v_raw,u=ge(d),f=ks(u),_=t==="entries"||t===Symbol.iterator&&f,y=t==="keys"&&f,k=d[t](...c),b=o?Xl:n?Rs:on;return!n&&_i(u,"iterate",y?Jl:Rr),{next(){const{value:w,done:B}=k.next();return B?{value:w,done:B}:{value:_?[b(w[0]),b(w[1])]:b(w),done:B}},[Symbol.iterator](){return this}}}}function za(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function $_(t,n){const o={get(d){const u=this.__v_raw,f=ge(u),_=ge(d);t||(ur(d,_)&&_i(f,"get",d),_i(f,"get",_));const{has:y}=Na(f),k=n?Xl:t?Rs:on;if(y.call(f,d))return k(u.get(d));if(y.call(f,_))return k(u.get(_));u!==f&&u.get(d)},get size(){const d=this.__v_raw;return!t&&_i(ge(d),"iterate",Rr),d.size},has(d){const u=this.__v_raw,f=ge(u),_=ge(d);return t||(ur(d,_)&&_i(f,"has",d),_i(f,"has",_)),d===_?u.has(d):u.has(d)||u.has(_)},forEach(d,u){const f=this,_=f.__v_raw,y=ge(_),k=n?Xl:t?Rs:on;return!t&&_i(y,"iterate",Rr),_.forEach((b,w)=>d.call(u,k(b),k(w),f))}};return ri(o,t?{add:za("add"),set:za("set"),delete:za("delete"),clear:za("clear")}:{add(d){!n&&!Ri(d)&&!Ln(d)&&(d=ge(d));const u=ge(this);return Na(u).has.call(u,d)||(u.add(d),Fn(u,"add",d,d)),this},set(d,u){!n&&!Ri(u)&&!Ln(u)&&(u=ge(u));const f=ge(this),{has:_,get:y}=Na(f);let k=_.call(f,d);k||(d=ge(d),k=_.call(f,d));const b=y.call(f,d);return f.set(d,u),k?ur(u,b)&&Fn(f,"set",d,u):Fn(f,"add",d,u),this},delete(d){const u=ge(this),{has:f,get:_}=Na(u);let y=f.call(u,d);y||(d=ge(d),y=f.call(u,d)),_&&_.call(u,d);const k=u.delete(d);return y&&Fn(u,"delete",d,void 0),k},clear(){const d=ge(this),u=d.size!==0,f=d.clear();return u&&Fn(d,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(d=>{o[d]=W_(d,t,n)}),o}function Dh(t,n){const o=$_(t,n);return(c,d,u)=>d==="__v_isReactive"?!t:d==="__v_isReadonly"?t:d==="__v_raw"?c:Reflect.get(Ce(o,d)&&d in c?o:c,d,u)}const Y_={get:Dh(!1,!1)},J_={get:Dh(!1,!0)},X_={get:Dh(!0,!1)};const od=new WeakMap,ad=new WeakMap,ud=new WeakMap,Q_=new WeakMap;function tg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eg(t){return t.__v_skip||!Object.isExtensible(t)?0:tg(k_(t))}function cr(t){return Ln(t)?t:Rh(t,!1,V_,Y_,od)}function zn(t){return Rh(t,!1,q_,J_,ad)}function Ql(t){return Rh(t,!0,K_,X_,ud)}function Rh(t,n,o,c,d){if(!Pe(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const u=eg(t);if(u===0)return t;const f=d.get(t);if(f)return f;const _=new Proxy(t,u===2?c:o);return d.set(t,_),_}function lr(t){return Ln(t)?lr(t.__v_raw):!!(t&&t.__v_isReactive)}function Ln(t){return!!(t&&t.__v_isReadonly)}function Ri(t){return!!(t&&t.__v_isShallow)}function Eu(t){return t?!!t.__v_raw:!1}function ge(t){const n=t&&t.__v_raw;return n?ge(n):t}function ig(t){return!Ce(t,"__v_skip")&&Object.isExtensible(t)&&Hf(t,"__v_skip",!0),t}const on=t=>Pe(t)?cr(t):t,Rs=t=>Pe(t)?Ql(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function Gn(t){return ld(t,!1)}function Go(t){return ld(t,!0)}function ld(t,n){return qe(t)?t:new ng(t,n)}class ng{constructor(n,o){this.dep=new Ah,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?n:ge(n),this._value=o?n:on(n),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(n){const o=this._rawValue,c=this.__v_isShallow||Ri(n)||Ln(n);n=c?n:ge(n),ur(n,o)&&(this._rawValue=n,this._value=c?n:on(n),this.dep.trigger())}}function Ae(t){return qe(t)?t.value:t}function rg(t){return Xt(t)?t():Ae(t)}const sg={get:(t,n,o)=>n==="__v_raw"?t:Ae(Reflect.get(t,n,o)),set:(t,n,o,c)=>{const d=t[n];return qe(d)&&!qe(o)?(d.value=o,!0):Reflect.set(t,n,o,c)}};function hd(t){return lr(t)?t:new Proxy(t,sg)}class og{constructor(n,o,c){this._object=n,this._key=o,this._defaultValue=c,this.__v_isRef=!0,this._value=void 0,this._raw=ge(n);let d=!0,u=n;if(!Yt(n)||!vu(String(o)))do d=!Eu(u)||Ri(u);while(d&&(u=u.__v_raw));this._shallow=d}get value(){let n=this._object[this._key];return this._shallow&&(n=Ae(n)),this._value=n===void 0?this._defaultValue:n}set value(n){if(this._shallow&&qe(this._raw[this._key])){const o=this._object[this._key];if(qe(o)){o.value=n;return}}this._object[this._key]=n}get dep(){return z_(this._raw,this._key)}}class ag{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ug(t,n,o){return qe(t)?t:Xt(t)?new ag(t):Pe(t)&&arguments.length>1?lg(t,n,o):Gn(t)}function lg(t,n,o){return new og(t,n,o)}class hg{constructor(n,o,c){this.fn=n,this.setter=o,this._value=void 0,this.dep=new Ah(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=No-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=c}notify(){if(this.flags|=16,!(this.flags&8)&&Te!==this)return Jf(this,!0),!0}get value(){const n=this.dep.track();return td(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function cg(t,n,o=!1){let c,d;return Xt(t)?c=t:(c=t.get,d=t.set),new hg(c,d,o)}const Ga={},iu=new WeakMap;let Tr;function fg(t,n=!1,o=Tr){if(o){let c=iu.get(o);c||iu.set(o,c=[]),c.push(t)}}function dg(t,n,o=Me){const{immediate:c,deep:d,once:u,scheduler:f,augmentJob:_,call:y}=o,k=$=>d?$:Ri($)||d===!1||d===0?Nn($,1):Nn($);let b,w,B,P,H=!1,z=!1;if(qe(t)?(w=()=>t.value,H=Ri(t)):lr(t)?(w=()=>k(t),H=!0):Yt(t)?(z=!0,H=t.some($=>lr($)||Ri($)),w=()=>t.map($=>{if(qe($))return $.value;if(lr($))return k($);if(Xt($))return y?y($,2):$()})):Xt(t)?n?w=y?()=>y(t,2):t:w=()=>{if(B){jn();try{B()}finally{Hn()}}const $=Tr;Tr=b;try{return y?y(t,3,[P]):t(P)}finally{Tr=$}}:w=vn,n&&d){const $=w,rt=d===!0?1/0:d;w=()=>Nn($(),rt)}const ht=Wf(),tt=()=>{b.stop(),ht&&ht.active&&Mh(ht.effects,b)};if(u&&n){const $=n;n=(...rt)=>{$(...rt),tt()}}let X=z?new Array(t.length).fill(Ga):Ga;const G=$=>{if(!(!(b.flags&1)||!b.dirty&&!$))if(n){const rt=b.run();if(d||H||(z?rt.some((pt,kt)=>ur(pt,X[kt])):ur(rt,X))){B&&B();const pt=Tr;Tr=b;try{const kt=[rt,X===Ga?void 0:z&&X[0]===Ga?[]:X,P];X=rt,y?y(n,3,kt):n(...kt)}finally{Tr=pt}}}else b.run()};return _&&_(G),b=new $f(w),b.scheduler=f?()=>f(G,!1):G,P=$=>fg($,!1,b),B=b.onStop=()=>{const $=iu.get(b);if($){if(y)y($,4);else for(const rt of $)rt();iu.delete(b)}},n?c?G(!0):X=b.run():f?f(G.bind(null,!0),!0):b.run(),tt.pause=b.pause.bind(b),tt.resume=b.resume.bind(b),tt.stop=tt,tt}function Nn(t,n=1/0,o){if(n<=0||!Pe(t)||t.__v_skip||(o=o||new Map,(o.get(t)||0)>=n))return t;if(o.set(t,n),n--,qe(t))Nn(t.value,n,o);else if(Yt(t))for(let c=0;c<t.length;c++)Nn(t[c],n,o);else if(Nf(t)||ks(t))t.forEach(c=>{Nn(c,n,o)});else if(jf(t)){for(const c in t)Nn(t[c],n,o);for(const c of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,c)&&Nn(t[c],n,o)}return t}function Wo(t,n,o,c){try{return c?t(...c):t()}catch(d){js(d,n,o)}}function an(t,n,o,c){if(Xt(t)){const d=Wo(t,n,o,c);return d&&zf(d)&&d.catch(u=>{js(u,n,o)}),d}if(Yt(t)){const d=[];for(let u=0;u<t.length;u++)d.push(an(t[u],n,o,c));return d}}function js(t,n,o,c=!0){const d=n?n.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:f}=n&&n.appContext.config||Me;if(n){let _=n.parent;const y=n.proxy,k=`https://vuejs.org/error-reference/#runtime-${o}`;for(;_;){const b=_.ec;if(b){for(let w=0;w<b.length;w++)if(b[w](t,y,k)===!1)return}_=_.parent}if(u){jn(),Wo(u,null,10,[t,y,k]),Hn();return}}pg(t,o,d,c,f)}function pg(t,n,o,c=!0,d=!1){if(d)throw t;console.error(t)}const bi=[];let gn=-1;const Ps=[];let sr=null,Ls=0;const cd=Promise.resolve();let nu=null;function jo(t){const n=nu||cd;return t?n.then(this?t.bind(this):t):n}function _g(t){let n=gn+1,o=bi.length;for(;n<o;){const c=n+o>>>1,d=bi[c],u=Ho(d);u<t||u===t&&d.flags&2?n=c+1:o=c}return n}function Oh(t){if(!(t.flags&1)){const n=Ho(t),o=bi[bi.length-1];!o||!(t.flags&2)&&n>=Ho(o)?bi.push(t):bi.splice(_g(n),0,t),t.flags|=1,fd()}}function fd(){nu||(nu=cd.then(dd))}function th(t){Yt(t)?Ps.push(...t):sr&&t.id===-1?sr.splice(Ls+1,0,t):t.flags&1||(Ps.push(t),t.flags|=1),fd()}function lc(t,n,o=gn+1){for(;o<bi.length;o++){const c=bi[o];if(c&&c.flags&2){if(t&&c.id!==t.uid)continue;bi.splice(o,1),o--,c.flags&4&&(c.flags&=-2),c(),c.flags&4||(c.flags&=-2)}}}function ru(t){if(Ps.length){const n=[...new Set(Ps)].sort((o,c)=>Ho(o)-Ho(c));if(Ps.length=0,sr){sr.push(...n);return}for(sr=n,Ls=0;Ls<sr.length;Ls++){const o=sr[Ls];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}sr=null,Ls=0}}const Ho=t=>t.id==null?t.flags&2?-1:1/0:t.id;function dd(t){try{for(gn=0;gn<bi.length;gn++){const n=bi[gn];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Wo(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;gn<bi.length;gn++){const n=bi[gn];n&&(n.flags&=-2)}gn=-1,bi.length=0,ru(),nu=null,(bi.length||Ps.length)&&dd()}}let Di=null,pd=null;function su(t){const n=Di;return Di=t,pd=t&&t.type.__scopeId||null,n}function _d(t,n=Di,o){if(!n||t._n)return t;const c=(...d)=>{c._d&&hu(-1);const u=su(n);let f;try{f=t(...d)}finally{su(u),c._d&&hu(1)}return f};return c._n=!0,c._c=!0,c._d=!0,c}function mL(t,n){if(Di===null)return t;const o=Tu(Di),c=t.dirs||(t.dirs=[]);for(let d=0;d<n.length;d++){let[u,f,_,y=Me]=n[d];u&&(Xt(u)&&(u={mounted:u,updated:u}),u.deep&&Nn(f),c.push({dir:u,instance:o,value:f,oldValue:void 0,arg:_,modifiers:y}))}return t}function mn(t,n,o,c){const d=t.dirs,u=n&&n.dirs;for(let f=0;f<d.length;f++){const _=d[f];u&&(_.oldValue=u[f].value);let y=_.dir[c];y&&(jn(),an(y,o,8,[t.el,_,t,n]),Hn())}}const gg=Symbol("_vte"),gd=t=>t.__isTeleport,In=Symbol("_leaveCb"),ja=Symbol("_enterCb");function mg(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fh(()=>{t.isMounted=!0}),Jo(()=>{t.isUnmounting=!0}),t}const Vi=[Function,Array],md={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Vi,onEnter:Vi,onAfterEnter:Vi,onEnterCancelled:Vi,onBeforeLeave:Vi,onLeave:Vi,onAfterLeave:Vi,onLeaveCancelled:Vi,onBeforeAppear:Vi,onAppear:Vi,onAfterAppear:Vi,onAppearCancelled:Vi},yd=t=>{const n=t.subTree;return n.component?yd(n.component):n},yg={name:"BaseTransition",props:md,setup(t,{slots:n}){const o=Hs(),c=mg();return()=>{const d=n.default&&bd(n.default(),!0);if(!d||!d.length)return;const u=vd(d),f=ge(t),{mode:_}=f;if(c.isLeaving)return Dl(u);const y=hc(u);if(!y)return Dl(u);let k=eh(y,f,c,o,w=>k=w);y.type!==Je&&Os(y,k);let b=o.subTree&&hc(o.subTree);if(b&&b.type!==Je&&!nn(b,y)&&yd(o).type!==Je){let w=eh(b,f,c,o);if(Os(b,w),_==="out-in"&&y.type!==Je)return c.isLeaving=!0,w.afterLeave=()=>{c.isLeaving=!1,o.job.flags&8||o.update(),delete w.afterLeave,b=void 0},Dl(u);_==="in-out"&&y.type!==Je?w.delayLeave=(B,P,H)=>{const z=Ld(c,b);z[String(b.key)]=b,B[In]=()=>{P(),B[In]=void 0,delete k.delayedLeave,b=void 0},k.delayedLeave=()=>{H(),delete k.delayedLeave,b=void 0}}:b=void 0}else b&&(b=void 0);return u}}};function vd(t){let n=t[0];if(t.length>1){for(const o of t)if(o.type!==Je){n=o;break}}return n}const vg=yg;function Ld(t,n){const{leavingVNodes:o}=t;let c=o.get(n.type);return c||(c=Object.create(null),o.set(n.type,c)),c}function eh(t,n,o,c,d){const{appear:u,mode:f,persisted:_=!1,onBeforeEnter:y,onEnter:k,onAfterEnter:b,onEnterCancelled:w,onBeforeLeave:B,onLeave:P,onAfterLeave:H,onLeaveCancelled:z,onBeforeAppear:ht,onAppear:tt,onAfterAppear:X,onAppearCancelled:G}=n,$=String(t.key),rt=Ld(o,t),pt=(wt,xt)=>{wt&&an(wt,c,9,xt)},kt=(wt,xt)=>{const Pt=xt[1];pt(wt,xt),Yt(wt)?wt.every(mt=>mt.length<=1)&&Pt():wt.length<=1&&Pt()},zt={mode:f,persisted:_,beforeEnter(wt){let xt=y;if(!o.isMounted)if(u)xt=ht||y;else return;wt[In]&&wt[In](!0);const Pt=rt[$];Pt&&nn(t,Pt)&&Pt.el[In]&&Pt.el[In](),pt(xt,[wt])},enter(wt){let xt=k,Pt=b,mt=w;if(!o.isMounted)if(u)xt=tt||k,Pt=X||b,mt=G||w;else return;let Gt=!1;const Qt=wt[ja]=pe=>{Gt||(Gt=!0,pe?pt(mt,[wt]):pt(Pt,[wt]),zt.delayedLeave&&zt.delayedLeave(),wt[ja]=void 0)};xt?kt(xt,[wt,Qt]):Qt()},leave(wt,xt){const Pt=String(t.key);if(wt[ja]&&wt[ja](!0),o.isUnmounting)return xt();pt(B,[wt]);let mt=!1;const Gt=wt[In]=Qt=>{mt||(mt=!0,xt(),Qt?pt(z,[wt]):pt(H,[wt]),wt[In]=void 0,rt[Pt]===t&&delete rt[Pt])};rt[Pt]=t,P?kt(P,[wt,Gt]):Gt()},clone(wt){const xt=eh(wt,n,o,c,d);return d&&d(xt),xt}};return zt}function Dl(t){if(Yo(t))return t=Un(t),t.children=null,t}function hc(t){if(!Yo(t))return gd(t.type)&&t.children?vd(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:n,children:o}=t;if(o){if(n&16)return o[0];if(n&32&&Xt(o.default))return o.default()}}function Os(t,n){t.shapeFlag&6&&t.component?(t.transition=n,Os(t.component.subTree,n)):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function bd(t,n=!1,o){let c=[],d=0;for(let u=0;u<t.length;u++){let f=t[u];const _=o==null?f.key:String(o)+String(f.key!=null?f.key:u);f.type===Si?(f.patchFlag&128&&d++,c=c.concat(bd(f.children,n,_))):(n||f.type!==Je)&&c.push(_!=null?Un(f,{key:_}):f)}if(d>1)for(let u=0;u<c.length;u++)c[u].patchFlag=-2;return c}function $o(t,n){return Xt(t)?ri({name:t.name},n,{setup:t}):t}function Ih(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ou=new WeakMap;function Bs(t,n,o,c,d=!1){if(Yt(t)){t.forEach((H,z)=>Bs(H,n&&(Yt(n)?n[z]:n),o,c,d));return}if(Or(c)&&!d){c.shapeFlag&512&&c.type.__asyncResolved&&c.component.subTree.component&&Bs(t,n,o,c.component.subTree);return}const u=c.shapeFlag&4?Tu(c.component):c.el,f=d?null:u,{i:_,r:y}=t,k=n&&n.r,b=_.refs===Me?_.refs={}:_.refs,w=_.setupState,B=ge(w),P=w===Me?Ff:H=>Ce(B,H);if(k!=null&&k!==y){if(cc(n),De(k))b[k]=null,P(k)&&(w[k]=null);else if(qe(k)){k.value=null;const H=n;H.k&&(b[H.k]=null)}}if(Xt(y))Wo(y,_,12,[f,b]);else{const H=De(y),z=qe(y);if(H||z){const ht=()=>{if(t.f){const tt=H?P(y)?w[y]:b[y]:y.value;if(d)Yt(tt)&&Mh(tt,u);else if(Yt(tt))tt.includes(u)||tt.push(u);else if(H)b[y]=[u],P(y)&&(w[y]=b[y]);else{const X=[u];y.value=X,t.k&&(b[t.k]=X)}}else H?(b[y]=f,P(y)&&(w[y]=f)):z&&(y.value=f,t.k&&(b[t.k]=f))};if(f){const tt=()=>{ht(),ou.delete(t)};tt.id=-1,ou.set(t,tt),ni(tt,o)}else cc(t),ht()}}}function cc(t){const n=ou.get(t);n&&(n.flags|=8,ou.delete(t))}let fc=!1;const vs=()=>{fc||(console.error("Hydration completed but contains mismatches."),fc=!0)},Lg=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",bg=t=>t.namespaceURI.includes("MathML"),Ha=t=>{if(t.nodeType===1){if(Lg(t))return"svg";if(bg(t))return"mathml"}},xs=t=>t.nodeType===8;function Cg(t){const{mt:n,p:o,o:{patchProp:c,createText:d,nextSibling:u,parentNode:f,remove:_,insert:y,createComment:k}}=t,b=(G,$)=>{if(!$.hasChildNodes()){o(null,G,$),ru(),$._vnode=G;return}w($.firstChild,G,null,null,null),ru(),$._vnode=G},w=(G,$,rt,pt,kt,zt=!1)=>{zt=zt||!!$.dynamicChildren;const wt=xs(G)&&G.data==="[",xt=()=>z(G,$,rt,pt,kt,wt),{type:Pt,ref:mt,shapeFlag:Gt,patchFlag:Qt}=$;let pe=G.nodeType;$.el=G,Qt===-2&&(zt=!1,$.dynamicChildren=null);let St=null;switch(Pt){case Fr:pe!==3?$.children===""?(y($.el=d(""),f(G),G),St=G):St=xt():(G.data!==$.children&&(vs(),G.data=$.children),St=u(G));break;case Je:X(G)?(St=u(G),tt($.el=G.content.firstChild,G,rt)):pe!==8||wt?St=xt():St=u(G);break;case Ro:if(wt&&(G=u(G),pe=G.nodeType),pe===1||pe===3){St=G;const qt=!$.children.length;for(let _t=0;_t<$.staticCount;_t++)qt&&($.children+=St.nodeType===1?St.outerHTML:St.data),_t===$.staticCount-1&&($.anchor=St),St=u(St);return wt?u(St):St}else xt();break;case Si:wt?St=H(G,$,rt,pt,kt,zt):St=xt();break;default:if(Gt&1)(pe!==1||$.type.toLowerCase()!==G.tagName.toLowerCase())&&!X(G)?St=xt():St=B(G,$,rt,pt,kt,zt);else if(Gt&6){$.slotScopeIds=kt;const qt=f(G);if(wt?St=ht(G):xs(G)&&G.data==="teleport start"?St=ht(G,G.data,"teleport end"):St=u(G),n($,qt,null,rt,pt,Ha(qt),zt),Or($)&&!$.type.__asyncResolved){let _t;wt?(_t=He(Si),_t.anchor=St?St.previousSibling:qt.lastChild):_t=G.nodeType===3?np(""):He("div"),_t.el=G,$.component.subTree=_t}}else Gt&64?pe!==8?St=xt():St=$.type.hydrate(G,$,rt,pt,kt,zt,t,P):Gt&128&&(St=$.type.hydrate(G,$,rt,pt,Ha(f(G)),kt,zt,t,w))}return mt!=null&&Bs(mt,null,pt,$),St},B=(G,$,rt,pt,kt,zt)=>{zt=zt||!!$.dynamicChildren;const{type:wt,props:xt,patchFlag:Pt,shapeFlag:mt,dirs:Gt,transition:Qt}=$,pe=wt==="input"||wt==="option";if(pe||Pt!==-1){Gt&&mn($,null,rt,"created");let St=!1;if(X(G)){St=Vd(null,Qt)&&rt&&rt.vnode.props&&rt.vnode.props.appear;const _t=G.content.firstChild;if(St){const me=_t.getAttribute("class");me&&(_t.$cls=me),Qt.beforeEnter(_t)}tt(_t,G,rt),$.el=G=_t}if(mt&16&&!(xt&&(xt.innerHTML||xt.textContent))){let _t=P(G.firstChild,$,G,rt,pt,kt,zt);for(;_t;){Ua(G,1)||vs();const me=_t;_t=_t.nextSibling,_(me)}}else if(mt&8){let _t=$.children;_t[0]===`
`&&(G.tagName==="PRE"||G.tagName==="TEXTAREA")&&(_t=_t.slice(1));const{textContent:me}=G;me!==_t&&me!==_t.replace(/\r\n|\r/g,`
`)&&(Ua(G,0)||vs(),G.textContent=$.children)}if(xt){if(pe||!zt||Pt&48){const _t=G.tagName.includes("-");for(const me in xt)(pe&&(me.endsWith("value")||me==="indeterminate")||Ko(me)&&!Es(me)||me[0]==="."||_t)&&c(G,me,null,xt[me],void 0,rt)}else if(xt.onClick)c(G,"onClick",null,xt.onClick,void 0,rt);else if(Pt&4&&lr(xt.style))for(const _t in xt.style)xt.style[_t]}let qt;(qt=xt&&xt.onVnodeBeforeMount)&&Ei(qt,rt,$),Gt&&mn($,null,rt,"beforeMount"),((qt=xt&&xt.onVnodeMounted)||Gt||St)&&Yd(()=>{qt&&Ei(qt,rt,$),St&&Qt.enter(G),Gt&&mn($,null,rt,"mounted")},pt)}return G.nextSibling},P=(G,$,rt,pt,kt,zt,wt)=>{wt=wt||!!$.dynamicChildren;const xt=$.children,Pt=xt.length;for(let mt=0;mt<Pt;mt++){const Gt=wt?xt[mt]:xt[mt]=Ai(xt[mt]),Qt=Gt.type===Fr;G?(Qt&&!wt&&mt+1<Pt&&Ai(xt[mt+1]).type===Fr&&(y(d(G.data.slice(Gt.children.length)),rt,u(G)),G.data=Gt.children),G=w(G,Gt,pt,kt,zt,wt)):Qt&&!Gt.children?y(Gt.el=d(""),rt):(Ua(rt,1)||vs(),o(null,Gt,rt,null,pt,kt,Ha(rt),zt))}return G},H=(G,$,rt,pt,kt,zt)=>{const{slotScopeIds:wt}=$;wt&&(kt=kt?kt.concat(wt):wt);const xt=f(G),Pt=P(u(G),$,xt,rt,pt,kt,zt);return Pt&&xs(Pt)&&Pt.data==="]"?u($.anchor=Pt):(vs(),y($.anchor=k("]"),xt,Pt),Pt)},z=(G,$,rt,pt,kt,zt)=>{if(Ua(G.parentElement,1)||vs(),$.el=null,zt){const Pt=ht(G);for(;;){const mt=u(G);if(mt&&mt!==Pt)_(mt);else break}}const wt=u(G),xt=f(G);return _(G),o(null,$,xt,wt,rt,pt,Ha(xt),kt),rt&&(rt.vnode.el=$.el,Bu(rt,$.el)),wt},ht=(G,$="[",rt="]")=>{let pt=0;for(;G;)if(G=u(G),G&&xs(G)&&(G.data===$&&pt++,G.data===rt)){if(pt===0)return u(G);pt--}return G},tt=(G,$,rt)=>{const pt=$.parentNode;pt&&pt.replaceChild(G,$);let kt=rt;for(;kt;)kt.vnode.el===$&&(kt.vnode.el=kt.subTree.el=G),kt=kt.parent},X=G=>G.nodeType===1&&G.tagName==="TEMPLATE";return[b,w]}const dc="data-allow-mismatch",xg={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ua(t,n){if(n===0||n===1)for(;t&&!t.hasAttribute(dc);)t=t.parentElement;const o=t&&t.getAttribute(dc);if(o==null)return!1;if(o==="")return!0;{const c=o.split(",");return n===0&&c.includes("children")?!0:c.includes(xg[n])}}Cu().requestIdleCallback;Cu().cancelIdleCallback;function wg(t,n){if(xs(t)&&t.data==="["){let o=1,c=t.nextSibling;for(;c;){if(c.nodeType===1){if(n(c)===!1)break}else if(xs(c))if(c.data==="]"){if(--o===0)break}else c.data==="["&&o++;c=c.nextSibling}}else n(t)}const Or=t=>!!t.type.__asyncLoader;function pc(t){Xt(t)&&(t={loader:t});const{loader:n,loadingComponent:o,errorComponent:c,delay:d=200,hydrate:u,timeout:f,suspensible:_=!0,onError:y}=t;let k=null,b,w=0;const B=()=>(w++,k=null,P()),P=()=>{let H;return k||(H=k=n().catch(z=>{if(z=z instanceof Error?z:new Error(String(z)),y)return new Promise((ht,tt)=>{y(z,()=>ht(B()),()=>tt(z),w+1)});throw z}).then(z=>H!==k&&k?k:(z&&(z.__esModule||z[Symbol.toStringTag]==="Module")&&(z=z.default),b=z,z)))};return $o({name:"AsyncComponentWrapper",__asyncLoader:P,__asyncHydrate(H,z,ht){let tt=!1;(z.bu||(z.bu=[])).push(()=>tt=!0);const X=()=>{tt||ht()},G=u?()=>{const $=u(X,rt=>wg(H,rt));$&&(z.bum||(z.bum=[])).push($)}:X;b?G():P().then(()=>!z.isUnmounted&&G())},get __asyncResolved(){return b},setup(){const H=hi;if(Ih(H),b)return()=>Za(b,H);const z=G=>{k=null,js(G,H,13,!c)};if(_&&H.suspense||Ns)return P().then(G=>()=>Za(G,H)).catch(G=>(z(G),()=>c?He(c,{error:G}):null));const ht=Gn(!1),tt=Gn(),X=Gn(!!d);return d&&setTimeout(()=>{X.value=!1},d),f!=null&&setTimeout(()=>{if(!ht.value&&!tt.value){const G=new Error(`Async component timed out after ${f}ms.`);z(G),tt.value=G}},f),P().then(()=>{ht.value=!0,H.parent&&Yo(H.parent.vnode)&&H.parent.update()}).catch(G=>{z(G),tt.value=G}),()=>{if(ht.value&&b)return Za(b,H);if(tt.value&&c)return He(c,{error:tt.value});if(o&&!X.value)return Za(o,H)}}})}function Za(t,n){const{ref:o,props:c,children:d,ce:u}=n.vnode,f=He(t,c,d);return f.ref=o,f.ce=u,delete n.vnode.ce,f}const Yo=t=>t.type.__isKeepAlive,kg={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:n}){const o=Hs(),c=o.ctx;if(!c.renderer)return()=>{const X=n.default&&n.default();return X&&X.length===1?X[0]:X};const d=new Map,u=new Set;let f=null;const _=o.suspense,{renderer:{p:y,m:k,um:b,o:{createElement:w}}}=c,B=w("div");c.activate=(X,G,$,rt,pt)=>{const kt=X.component;k(X,G,$,0,_),y(kt.vnode,X,G,$,kt,_,rt,X.slotScopeIds,pt),ni(()=>{kt.isDeactivated=!1,kt.a&&Ms(kt.a);const zt=X.props&&X.props.onVnodeMounted;zt&&Ei(zt,kt.parent,X)},_)},c.deactivate=X=>{const G=X.component;uu(G.m),uu(G.a),k(X,B,null,1,_),ni(()=>{G.da&&Ms(G.da);const $=X.props&&X.props.onVnodeUnmounted;$&&Ei($,G.parent,X),G.isDeactivated=!0},_)};function P(X){Rl(X),b(X,o,_,!0)}function H(X){d.forEach((G,$)=>{const rt=lh(G.type);rt&&!X(rt)&&z($)})}function z(X){const G=d.get(X);G&&(!f||!nn(G,f))?P(G):f&&Rl(f),d.delete(X),u.delete(X)}Ss(()=>[t.include,t.exclude],([X,G])=>{X&&H($=>Eo(X,$)),G&&H($=>!Eo(G,$))},{flush:"post",deep:!0});let ht=null;const tt=()=>{ht!=null&&(lu(o.subTree.type)?ni(()=>{d.set(ht,Va(o.subTree))},o.subTree.suspense):d.set(ht,Va(o.subTree)))};return Fh(tt),kd(tt),Jo(()=>{d.forEach(X=>{const{subTree:G,suspense:$}=o,rt=Va(G);if(X.type===rt.type&&X.key===rt.key){Rl(rt);const pt=rt.component.da;pt&&ni(pt,$);return}P(X)})}),()=>{if(ht=null,!n.default)return f=null;const X=n.default(),G=X[0];if(X.length>1)return f=null,X;if(!Fs(G)||!(G.shapeFlag&4)&&!(G.shapeFlag&128))return f=null,G;let $=Va(G);if($.type===Je)return f=null,$;const rt=$.type,pt=lh(Or($)?$.type.__asyncResolved||{}:rt),{include:kt,exclude:zt,max:wt}=t;if(kt&&(!pt||!Eo(kt,pt))||zt&&pt&&Eo(zt,pt))return $.shapeFlag&=-257,f=$,G;const xt=$.key==null?rt:$.key,Pt=d.get(xt);return $.el&&($=Un($),G.shapeFlag&128&&(G.ssContent=$)),ht=xt,Pt?($.el=Pt.el,$.component=Pt.component,$.transition&&Os($,$.transition),$.shapeFlag|=512,u.delete(xt),u.add(xt)):(u.add(xt),wt&&u.size>parseInt(wt,10)&&z(u.values().next().value)),$.shapeFlag|=256,f=$,lu(G.type)?G:$}}},Eg=kg;function Eo(t,n){return Yt(t)?t.some(o=>Eo(o,n)):De(t)?t.split(",").includes(n):w_(t)?(t.lastIndex=0,t.test(n)):!1}function Cd(t,n){wd(t,"a",n)}function xd(t,n){wd(t,"da",n)}function wd(t,n,o=hi){const c=t.__wdc||(t.__wdc=()=>{let d=o;for(;d;){if(d.isDeactivated)return;d=d.parent}return t()});if(Mu(n,c,o),o){let d=o.parent;for(;d&&d.parent;)Yo(d.parent.vnode)&&Mg(c,n,o,d),d=d.parent}}function Mg(t,n,o,c){const d=Mu(n,t,c,!0);Ed(()=>{Mh(c[n],d)},o)}function Rl(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Va(t){return t.shapeFlag&128?t.ssContent:t}function Mu(t,n,o=hi,c=!1){if(o){const d=o[t]||(o[t]=[]),u=n.__weh||(n.__weh=(...f)=>{jn();const _=Xo(o),y=an(n,o,t,f);return _(),Hn(),y});return c?d.unshift(u):d.push(u),u}}const Zn=t=>(n,o=hi)=>{(!Ns||t==="sp")&&Mu(t,(...c)=>n(...c),o)},Pg=Zn("bm"),Fh=Zn("m"),Bg=Zn("bu"),kd=Zn("u"),Jo=Zn("bum"),Ed=Zn("um"),Tg=Zn("sp"),Sg=Zn("rtg"),Ag=Zn("rtc");function Md(t,n=hi){Mu("ec",t,n)}const Pd="components";function yL(t,n){return Td(Pd,t,!0,n)||t}const Bd=Symbol.for("v-ndc");function Dg(t){return De(t)?Td(Pd,t,!1)||t:t||Bd}function Td(t,n,o=!0,c=!1){const d=Di||hi;if(d){const u=d.type;{const _=lh(u,!1);if(_&&(_===n||_===Wi(n)||_===bu(Wi(n))))return u}const f=_c(d[t]||u[t],n)||_c(d.appContext[t],n);return!f&&c?u:f}}function _c(t,n){return t&&(t[n]||t[Wi(n)]||t[bu(Wi(n))])}function vL(t,n,o,c){let d;const u=o,f=Yt(t);if(f||De(t)){const _=f&&lr(t);let y=!1,k=!1;_&&(y=!Ri(t),k=Ln(t),t=ku(t)),d=new Array(t.length);for(let b=0,w=t.length;b<w;b++)d[b]=n(y?k?Rs(on(t[b])):on(t[b]):t[b],b,void 0,u)}else if(typeof t=="number"){d=new Array(t);for(let _=0;_<t;_++)d[_]=n(_+1,_,void 0,u)}else if(Pe(t))if(t[Symbol.iterator])d=Array.from(t,(_,y)=>n(_,y,void 0,u));else{const _=Object.keys(t);d=new Array(_.length);for(let y=0,k=_.length;y<k;y++){const b=_[y];d[y]=n(t[b],b,y,u)}}else d=[];return d}const ih=t=>t?rp(t)?Tu(t):ih(t.parent):null,Do=ri(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ih(t.parent),$root:t=>ih(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ad(t),$forceUpdate:t=>t.f||(t.f=()=>{Oh(t.update)}),$nextTick:t=>t.n||(t.n=jo.bind(t.proxy)),$watch:t=>Vg.bind(t)}),Ol=(t,n)=>t!==Me&&!t.__isScriptSetup&&Ce(t,n),Rg={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:o,setupState:c,data:d,props:u,accessCache:f,type:_,appContext:y}=t;if(n[0]!=="$"){const B=f[n];if(B!==void 0)switch(B){case 1:return c[n];case 2:return d[n];case 4:return o[n];case 3:return u[n]}else{if(Ol(c,n))return f[n]=1,c[n];if(d!==Me&&Ce(d,n))return f[n]=2,d[n];if(Ce(u,n))return f[n]=3,u[n];if(o!==Me&&Ce(o,n))return f[n]=4,o[n];nh&&(f[n]=0)}}const k=Do[n];let b,w;if(k)return n==="$attrs"&&_i(t.attrs,"get",""),k(t);if((b=_.__cssModules)&&(b=b[n]))return b;if(o!==Me&&Ce(o,n))return f[n]=4,o[n];if(w=y.config.globalProperties,Ce(w,n))return w[n]},set({_:t},n,o){const{data:c,setupState:d,ctx:u}=t;return Ol(d,n)?(d[n]=o,!0):c!==Me&&Ce(c,n)?(c[n]=o,!0):Ce(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(u[n]=o,!0)},has({_:{data:t,setupState:n,accessCache:o,ctx:c,appContext:d,props:u,type:f}},_){let y;return!!(o[_]||t!==Me&&_[0]!=="$"&&Ce(t,_)||Ol(n,_)||Ce(u,_)||Ce(c,_)||Ce(Do,_)||Ce(d.config.globalProperties,_)||(y=f.__cssModules)&&y[_])},defineProperty(t,n,o){return o.get!=null?t._.accessCache[n]=0:Ce(o,"value")&&this.set(t,n,o.value,null),Reflect.defineProperty(t,n,o)}};function gc(t){return Yt(t)?t.reduce((n,o)=>(n[o]=null,n),{}):t}let nh=!0;function Og(t){const n=Ad(t),o=t.proxy,c=t.ctx;nh=!1,n.beforeCreate&&mc(n.beforeCreate,t,"bc");const{data:d,computed:u,methods:f,watch:_,provide:y,inject:k,created:b,beforeMount:w,mounted:B,beforeUpdate:P,updated:H,activated:z,deactivated:ht,beforeDestroy:tt,beforeUnmount:X,destroyed:G,unmounted:$,render:rt,renderTracked:pt,renderTriggered:kt,errorCaptured:zt,serverPrefetch:wt,expose:xt,inheritAttrs:Pt,components:mt,directives:Gt,filters:Qt}=n;if(k&&Ig(k,c,null),f)for(const qt in f){const _t=f[qt];Xt(_t)&&(c[qt]=_t.bind(o))}if(d){const qt=d.call(o,o);Pe(qt)&&(t.data=cr(qt))}if(nh=!0,u)for(const qt in u){const _t=u[qt],me=Xt(_t)?_t.bind(o,o):Xt(_t.get)?_t.get.bind(o,o):vn,Ut=!Xt(_t)&&Xt(_t.set)?_t.set.bind(o):vn,ue=rn({get:me,set:Ut});Object.defineProperty(c,qt,{enumerable:!0,configurable:!0,get:()=>ue.value,set:ye=>ue.value=ye})}if(_)for(const qt in _)Sd(_[qt],c,o,qt);if(y){const qt=Xt(y)?y.call(o):y;Reflect.ownKeys(qt).forEach(_t=>{Ts(_t,qt[_t])})}b&&mc(b,t,"c");function St(qt,_t){Yt(_t)?_t.forEach(me=>qt(me.bind(o))):_t&&qt(_t.bind(o))}if(St(Pg,w),St(Fh,B),St(Bg,P),St(kd,H),St(Cd,z),St(xd,ht),St(Md,zt),St(Ag,pt),St(Sg,kt),St(Jo,X),St(Ed,$),St(Tg,wt),Yt(xt))if(xt.length){const qt=t.exposed||(t.exposed={});xt.forEach(_t=>{Object.defineProperty(qt,_t,{get:()=>o[_t],set:me=>o[_t]=me,enumerable:!0})})}else t.exposed||(t.exposed={});rt&&t.render===vn&&(t.render=rt),Pt!=null&&(t.inheritAttrs=Pt),mt&&(t.components=mt),Gt&&(t.directives=Gt),wt&&Ih(t)}function Ig(t,n,o=vn){Yt(t)&&(t=rh(t));for(const c in t){const d=t[c];let u;Pe(d)?"default"in d?u=Oi(d.from||c,d.default,!0):u=Oi(d.from||c):u=Oi(d),qe(u)?Object.defineProperty(n,c,{enumerable:!0,configurable:!0,get:()=>u.value,set:f=>u.value=f}):n[c]=u}}function mc(t,n,o){an(Yt(t)?t.map(c=>c.bind(n.proxy)):t.bind(n.proxy),n,o)}function Sd(t,n,o,c){let d=c.includes(".")?Rd(o,c):()=>o[c];if(De(t)){const u=n[t];Xt(u)&&Ss(d,u)}else if(Xt(t))Ss(d,t.bind(o));else if(Pe(t))if(Yt(t))t.forEach(u=>Sd(u,n,o,c));else{const u=Xt(t.handler)?t.handler.bind(o):n[t.handler];Xt(u)&&Ss(d,u,t)}}function Ad(t){const n=t.type,{mixins:o,extends:c}=n,{mixins:d,optionsCache:u,config:{optionMergeStrategies:f}}=t.appContext,_=u.get(n);let y;return _?y=_:!d.length&&!o&&!c?y=n:(y={},d.length&&d.forEach(k=>au(y,k,f,!0)),au(y,n,f)),Pe(n)&&u.set(n,y),y}function au(t,n,o,c=!1){const{mixins:d,extends:u}=n;u&&au(t,u,o,!0),d&&d.forEach(f=>au(t,f,o,!0));for(const f in n)if(!(c&&f==="expose")){const _=Fg[f]||o&&o[f];t[f]=_?_(t[f],n[f]):n[f]}return t}const Fg={data:yc,props:vc,emits:vc,methods:Mo,computed:Mo,beforeCreate:vi,created:vi,beforeMount:vi,mounted:vi,beforeUpdate:vi,updated:vi,beforeDestroy:vi,beforeUnmount:vi,destroyed:vi,unmounted:vi,activated:vi,deactivated:vi,errorCaptured:vi,serverPrefetch:vi,components:Mo,directives:Mo,watch:zg,provide:yc,inject:Ng};function yc(t,n){return n?t?function(){return ri(Xt(t)?t.call(this,this):t,Xt(n)?n.call(this,this):n)}:n:t}function Ng(t,n){return Mo(rh(t),rh(n))}function rh(t){if(Yt(t)){const n={};for(let o=0;o<t.length;o++)n[t[o]]=t[o];return n}return t}function vi(t,n){return t?[...new Set([].concat(t,n))]:n}function Mo(t,n){return t?ri(Object.create(null),t,n):n}function vc(t,n){return t?Yt(t)&&Yt(n)?[...new Set([...t,...n])]:ri(Object.create(null),gc(t),gc(n??{})):n}function zg(t,n){if(!t)return n;if(!n)return t;const o=ri(Object.create(null),t);for(const c in n)o[c]=vi(t[c],n[c]);return o}function Dd(){return{app:null,config:{isNativeTag:Ff,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gg=0;function jg(t,n){return function(c,d=null){Xt(c)||(c=ri({},c)),d!=null&&!Pe(d)&&(d=null);const u=Dd(),f=new WeakSet,_=[];let y=!1;const k=u.app={_uid:Gg++,_component:c,_props:d,_container:null,_context:u,_instance:null,version:wm,get config(){return u.config},set config(b){},use(b,...w){return f.has(b)||(b&&Xt(b.install)?(f.add(b),b.install(k,...w)):Xt(b)&&(f.add(b),b(k,...w))),k},mixin(b){return u.mixins.includes(b)||u.mixins.push(b),k},component(b,w){return w?(u.components[b]=w,k):u.components[b]},directive(b,w){return w?(u.directives[b]=w,k):u.directives[b]},mount(b,w,B){if(!y){const P=k._ceVNode||He(c,d);return P.appContext=u,B===!0?B="svg":B===!1&&(B=void 0),w&&n?n(P,b):t(P,b,B),y=!0,k._container=b,b.__vue_app__=k,Tu(P.component)}},onUnmount(b){_.push(b)},unmount(){y&&(an(_,k._instance,16),t(null,k._container),delete k._container.__vue_app__)},provide(b,w){return u.provides[b]=w,k},runWithContext(b){const w=Ir;Ir=k;try{return b()}finally{Ir=w}}};return k}}let Ir=null;function Ts(t,n){if(hi){let o=hi.provides;const c=hi.parent&&hi.parent.provides;c===o&&(o=hi.provides=Object.create(c)),o[t]=n}}function Oi(t,n,o=!1){const c=Hs();if(c||Ir){let d=Ir?Ir._context.provides:c?c.parent==null||c.ce?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides:void 0;if(d&&t in d)return d[t];if(arguments.length>1)return o&&Xt(n)?n.call(c&&c.proxy):n}}function Nh(){return!!(Hs()||Ir)}const Hg=Symbol.for("v-scx"),Ug=()=>Oi(Hg);function Zg(t,n){return zh(t,null,n)}function Ss(t,n,o){return zh(t,n,o)}function zh(t,n,o=Me){const{immediate:c,deep:d,flush:u,once:f}=o,_=ri({},o),y=n&&c||!n&&u!=="post";let k;if(Ns){if(u==="sync"){const P=Ug();k=P.__watcherHandles||(P.__watcherHandles=[])}else if(!y){const P=()=>{};return P.stop=vn,P.resume=vn,P.pause=vn,P}}const b=hi;_.call=(P,H,z)=>an(P,b,H,z);let w=!1;u==="post"?_.scheduler=P=>{ni(P,b&&b.suspense)}:u!=="sync"&&(w=!0,_.scheduler=(P,H)=>{H?P():Oh(P)}),_.augmentJob=P=>{n&&(P.flags|=4),w&&(P.flags|=2,b&&(P.id=b.uid,P.i=b))};const B=dg(t,n,_);return Ns&&(k?k.push(B):y&&B()),B}function Vg(t,n,o){const c=this.proxy,d=De(t)?t.includes(".")?Rd(c,t):()=>c[t]:t.bind(c,c);let u;Xt(n)?u=n:(u=n.handler,o=n);const f=Xo(this),_=zh(d,u.bind(c),o);return f(),_}function Rd(t,n){const o=n.split(".");return()=>{let c=t;for(let d=0;d<o.length&&c;d++)c=c[o[d]];return c}}const Kg=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t[`${n}Modifiers`]||t[`${Wi(n)}Modifiers`]||t[`${zr(n)}Modifiers`];function qg(t,n,...o){if(t.isUnmounted)return;const c=t.vnode.props||Me;let d=o;const u=n.startsWith("update:"),f=u&&Kg(c,n.slice(7));f&&(f.trim&&(d=o.map(b=>De(b)?b.trim():b)),f.number&&(d=o.map(Ph)));let _,y=c[_=Pl(n)]||c[_=Pl(Wi(n))];!y&&u&&(y=c[_=Pl(zr(n))]),y&&an(y,t,6,d);const k=c[_+"Once"];if(k){if(!t.emitted)t.emitted={};else if(t.emitted[_])return;t.emitted[_]=!0,an(k,t,6,d)}}const Wg=new WeakMap;function Od(t,n,o=!1){const c=o?Wg:n.emitsCache,d=c.get(t);if(d!==void 0)return d;const u=t.emits;let f={},_=!1;if(!Xt(t)){const y=k=>{const b=Od(k,n,!0);b&&(_=!0,ri(f,b))};!o&&n.mixins.length&&n.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}return!u&&!_?(Pe(t)&&c.set(t,null),null):(Yt(u)?u.forEach(y=>f[y]=null):ri(f,u),Pe(t)&&c.set(t,f),f)}function Pu(t,n){return!t||!Ko(n)?!1:(n=n.slice(2).replace(/Once$/,""),Ce(t,n[0].toLowerCase()+n.slice(1))||Ce(t,zr(n))||Ce(t,n))}function Il(t){const{type:n,vnode:o,proxy:c,withProxy:d,propsOptions:[u],slots:f,attrs:_,emit:y,render:k,renderCache:b,props:w,data:B,setupState:P,ctx:H,inheritAttrs:z}=t,ht=su(t);let tt,X;try{if(o.shapeFlag&4){const $=d||c,rt=$;tt=Ai(k.call(rt,$,b,w,P,B,H)),X=_}else{const $=n;tt=Ai($.length>1?$(w,{attrs:_,slots:f,emit:y}):$(w,null)),X=n.props?_:Yg(_)}}catch($){Oo.length=0,js($,t,1),tt=He(Je)}let G=tt;if(X&&z!==!1){const $=Object.keys(X),{shapeFlag:rt}=G;$.length&&rt&7&&(u&&$.some(Eh)&&(X=Jg(X,u)),G=Un(G,X,!1,!0))}return o.dirs&&(G=Un(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(o.dirs):o.dirs),o.transition&&Os(G,o.transition),tt=G,su(ht),tt}function $g(t,n=!0){let o;for(let c=0;c<t.length;c++){const d=t[c];if(Fs(d)){if(d.type!==Je||d.children==="v-if"){if(o)return;o=d}}else return}return o}const Yg=t=>{let n;for(const o in t)(o==="class"||o==="style"||Ko(o))&&((n||(n={}))[o]=t[o]);return n},Jg=(t,n)=>{const o={};for(const c in t)(!Eh(c)||!(c.slice(9)in n))&&(o[c]=t[c]);return o};function Xg(t,n,o){const{props:c,children:d,component:u}=t,{props:f,children:_,patchFlag:y}=n,k=u.emitsOptions;if(n.dirs||n.transition)return!0;if(o&&y>=0){if(y&1024)return!0;if(y&16)return c?Lc(c,f,k):!!f;if(y&8){const b=n.dynamicProps;for(let w=0;w<b.length;w++){const B=b[w];if(f[B]!==c[B]&&!Pu(k,B))return!0}}}else return(d||_)&&(!_||!_.$stable)?!0:c===f?!1:c?f?Lc(c,f,k):!0:!!f;return!1}function Lc(t,n,o){const c=Object.keys(n);if(c.length!==Object.keys(t).length)return!0;for(let d=0;d<c.length;d++){const u=c[d];if(n[u]!==t[u]&&!Pu(o,u))return!0}return!1}function Bu({vnode:t,parent:n},o){for(;n;){const c=n.subTree;if(c.suspense&&c.suspense.activeBranch===t&&(c.el=t.el),c===t)(t=n.vnode).el=o,n=n.parent;else break}}const Id={},Fd=()=>Object.create(Id),Nd=t=>Object.getPrototypeOf(t)===Id;function Qg(t,n,o,c=!1){const d={},u=Fd();t.propsDefaults=Object.create(null),zd(t,n,d,u);for(const f in t.propsOptions[0])f in d||(d[f]=void 0);o?t.props=c?d:zn(d):t.type.props?t.props=d:t.props=u,t.attrs=u}function tm(t,n,o,c){const{props:d,attrs:u,vnode:{patchFlag:f}}=t,_=ge(d),[y]=t.propsOptions;let k=!1;if((c||f>0)&&!(f&16)){if(f&8){const b=t.vnode.dynamicProps;for(let w=0;w<b.length;w++){let B=b[w];if(Pu(t.emitsOptions,B))continue;const P=n[B];if(y)if(Ce(u,B))P!==u[B]&&(u[B]=P,k=!0);else{const H=Wi(B);d[H]=sh(y,_,H,P,t,!1)}else P!==u[B]&&(u[B]=P,k=!0)}}}else{zd(t,n,d,u)&&(k=!0);let b;for(const w in _)(!n||!Ce(n,w)&&((b=zr(w))===w||!Ce(n,b)))&&(y?o&&(o[w]!==void 0||o[b]!==void 0)&&(d[w]=sh(y,_,w,void 0,t,!0)):delete d[w]);if(u!==_)for(const w in u)(!n||!Ce(n,w))&&(delete u[w],k=!0)}k&&Fn(t.attrs,"set","")}function zd(t,n,o,c){const[d,u]=t.propsOptions;let f=!1,_;if(n)for(let y in n){if(Es(y))continue;const k=n[y];let b;d&&Ce(d,b=Wi(y))?!u||!u.includes(b)?o[b]=k:(_||(_={}))[b]=k:Pu(t.emitsOptions,y)||(!(y in c)||k!==c[y])&&(c[y]=k,f=!0)}if(u){const y=ge(o),k=_||Me;for(let b=0;b<u.length;b++){const w=u[b];o[w]=sh(d,y,w,k[w],t,!Ce(k,w))}}return f}function sh(t,n,o,c,d,u){const f=t[o];if(f!=null){const _=Ce(f,"default");if(_&&c===void 0){const y=f.default;if(f.type!==Function&&!f.skipFactory&&Xt(y)){const{propsDefaults:k}=d;if(o in k)c=k[o];else{const b=Xo(d);c=k[o]=y.call(null,n),b()}}else c=y;d.ce&&d.ce._setProp(o,c)}f[0]&&(u&&!_?c=!1:f[1]&&(c===""||c===zr(o))&&(c=!0))}return c}const em=new WeakMap;function Gd(t,n,o=!1){const c=o?em:n.propsCache,d=c.get(t);if(d)return d;const u=t.props,f={},_=[];let y=!1;if(!Xt(t)){const b=w=>{y=!0;const[B,P]=Gd(w,n,!0);ri(f,B),P&&_.push(...P)};!o&&n.mixins.length&&n.mixins.forEach(b),t.extends&&b(t.extends),t.mixins&&t.mixins.forEach(b)}if(!u&&!y)return Pe(t)&&c.set(t,ws),ws;if(Yt(u))for(let b=0;b<u.length;b++){const w=Wi(u[b]);bc(w)&&(f[w]=Me)}else if(u)for(const b in u){const w=Wi(b);if(bc(w)){const B=u[b],P=f[w]=Yt(B)||Xt(B)?{type:B}:ri({},B),H=P.type;let z=!1,ht=!0;if(Yt(H))for(let tt=0;tt<H.length;++tt){const X=H[tt],G=Xt(X)&&X.name;if(G==="Boolean"){z=!0;break}else G==="String"&&(ht=!1)}else z=Xt(H)&&H.name==="Boolean";P[0]=z,P[1]=ht,(z||Ce(P,"default"))&&_.push(w)}}const k=[f,_];return Pe(t)&&c.set(t,k),k}function bc(t){return t[0]!=="$"&&!Es(t)}const Gh=t=>t==="_"||t==="_ctx"||t==="$stable",jh=t=>Yt(t)?t.map(Ai):[Ai(t)],im=(t,n,o)=>{if(n._n)return n;const c=_d((...d)=>jh(n(...d)),o);return c._c=!1,c},jd=(t,n,o)=>{const c=t._ctx;for(const d in t){if(Gh(d))continue;const u=t[d];if(Xt(u))n[d]=im(d,u,c);else if(u!=null){const f=jh(u);n[d]=()=>f}}},Hd=(t,n)=>{const o=jh(n);t.slots.default=()=>o},Ud=(t,n,o)=>{for(const c in n)(o||!Gh(c))&&(t[c]=n[c])},nm=(t,n,o)=>{const c=t.slots=Fd();if(t.vnode.shapeFlag&32){const d=n._;d?(Ud(c,n,o),o&&Hf(c,"_",d,!0)):jd(n,c)}else n&&Hd(t,n)},rm=(t,n,o)=>{const{vnode:c,slots:d}=t;let u=!0,f=Me;if(c.shapeFlag&32){const _=n._;_?o&&_===1?u=!1:Ud(d,n,o):(u=!n.$stable,jd(n,d)),f=n}else n&&(Hd(t,n),f={default:1});if(u)for(const _ in d)!Gh(_)&&f[_]==null&&delete d[_]},ni=Yd;function sm(t){return Zd(t)}function om(t){return Zd(t,Cg)}function Zd(t,n){const o=Cu();o.__VUE__=!0;const{insert:c,remove:d,patchProp:u,createElement:f,createText:_,createComment:y,setText:k,setElementText:b,parentNode:w,nextSibling:B,setScopeId:P=vn,insertStaticContent:H}=t,z=(N,V,ut,Lt=null,dt=null,vt=null,Tt=void 0,Mt=null,Et=!!V.dynamicChildren)=>{if(N===V)return;N&&!nn(N,V)&&(Lt=ft(N),ye(N,dt,vt,!0),N=null),V.patchFlag===-2&&(Et=!1,V.dynamicChildren=null);const{type:Ct,ref:Vt,shapeFlag:Rt}=V;switch(Ct){case Fr:ht(N,V,ut,Lt);break;case Je:tt(N,V,ut,Lt);break;case Ro:N==null&&X(V,ut,Lt,Tt);break;case Si:mt(N,V,ut,Lt,dt,vt,Tt,Mt,Et);break;default:Rt&1?rt(N,V,ut,Lt,dt,vt,Tt,Mt,Et):Rt&6?Gt(N,V,ut,Lt,dt,vt,Tt,Mt,Et):(Rt&64||Rt&128)&&Ct.process(N,V,ut,Lt,dt,vt,Tt,Mt,Et,jt)}Vt!=null&&dt?Bs(Vt,N&&N.ref,vt,V||N,!V):Vt==null&&N&&N.ref!=null&&Bs(N.ref,null,vt,N,!0)},ht=(N,V,ut,Lt)=>{if(N==null)c(V.el=_(V.children),ut,Lt);else{const dt=V.el=N.el;V.children!==N.children&&k(dt,V.children)}},tt=(N,V,ut,Lt)=>{N==null?c(V.el=y(V.children||""),ut,Lt):V.el=N.el},X=(N,V,ut,Lt)=>{[N.el,N.anchor]=H(N.children,V,ut,Lt,N.el,N.anchor)},G=({el:N,anchor:V},ut,Lt)=>{let dt;for(;N&&N!==V;)dt=B(N),c(N,ut,Lt),N=dt;c(V,ut,Lt)},$=({el:N,anchor:V})=>{let ut;for(;N&&N!==V;)ut=B(N),d(N),N=ut;d(V)},rt=(N,V,ut,Lt,dt,vt,Tt,Mt,Et)=>{if(V.type==="svg"?Tt="svg":V.type==="math"&&(Tt="mathml"),N==null)pt(V,ut,Lt,dt,vt,Tt,Mt,Et);else{const Ct=N.el&&N.el._isVueCE?N.el:null;try{Ct&&Ct._beginPatch(),wt(N,V,dt,vt,Tt,Mt,Et)}finally{Ct&&Ct._endPatch()}}},pt=(N,V,ut,Lt,dt,vt,Tt,Mt)=>{let Et,Ct;const{props:Vt,shapeFlag:Rt,transition:Ht,dirs:Wt}=N;if(Et=N.el=f(N.type,vt,Vt&&Vt.is,Vt),Rt&8?b(Et,N.children):Rt&16&&zt(N.children,Et,null,Lt,dt,Fl(N,vt),Tt,Mt),Wt&&mn(N,null,Lt,"created"),kt(Et,N,N.scopeId,Tt,Lt),Vt){for(const ve in Vt)ve!=="value"&&!Es(ve)&&u(Et,ve,null,Vt[ve],vt,Lt);"value"in Vt&&u(Et,"value",null,Vt.value,vt),(Ct=Vt.onVnodeBeforeMount)&&Ei(Ct,Lt,N)}Wt&&mn(N,null,Lt,"beforeMount");const oe=Vd(dt,Ht);oe&&Ht.beforeEnter(Et),c(Et,V,ut),((Ct=Vt&&Vt.onVnodeMounted)||oe||Wt)&&ni(()=>{Ct&&Ei(Ct,Lt,N),oe&&Ht.enter(Et),Wt&&mn(N,null,Lt,"mounted")},dt)},kt=(N,V,ut,Lt,dt)=>{if(ut&&P(N,ut),Lt)for(let vt=0;vt<Lt.length;vt++)P(N,Lt[vt]);if(dt){let vt=dt.subTree;if(V===vt||lu(vt.type)&&(vt.ssContent===V||vt.ssFallback===V)){const Tt=dt.vnode;kt(N,Tt,Tt.scopeId,Tt.slotScopeIds,dt.parent)}}},zt=(N,V,ut,Lt,dt,vt,Tt,Mt,Et=0)=>{for(let Ct=Et;Ct<N.length;Ct++){const Vt=N[Ct]=Mt?or(N[Ct]):Ai(N[Ct]);z(null,Vt,V,ut,Lt,dt,vt,Tt,Mt)}},wt=(N,V,ut,Lt,dt,vt,Tt)=>{const Mt=V.el=N.el;let{patchFlag:Et,dynamicChildren:Ct,dirs:Vt}=V;Et|=N.patchFlag&16;const Rt=N.props||Me,Ht=V.props||Me;let Wt;if(ut&&Er(ut,!1),(Wt=Ht.onVnodeBeforeUpdate)&&Ei(Wt,ut,V,N),Vt&&mn(V,N,ut,"beforeUpdate"),ut&&Er(ut,!0),(Rt.innerHTML&&Ht.innerHTML==null||Rt.textContent&&Ht.textContent==null)&&b(Mt,""),Ct?xt(N.dynamicChildren,Ct,Mt,ut,Lt,Fl(V,dt),vt):Tt||_t(N,V,Mt,null,ut,Lt,Fl(V,dt),vt,!1),Et>0){if(Et&16)Pt(Mt,Rt,Ht,ut,dt);else if(Et&2&&Rt.class!==Ht.class&&u(Mt,"class",null,Ht.class,dt),Et&4&&u(Mt,"style",Rt.style,Ht.style,dt),Et&8){const oe=V.dynamicProps;for(let ve=0;ve<oe.length;ve++){const ce=oe[ve],Ue=Rt[ce],Ge=Ht[ce];(Ge!==Ue||ce==="value")&&u(Mt,ce,Ue,Ge,dt,ut)}}Et&1&&N.children!==V.children&&b(Mt,V.children)}else!Tt&&Ct==null&&Pt(Mt,Rt,Ht,ut,dt);((Wt=Ht.onVnodeUpdated)||Vt)&&ni(()=>{Wt&&Ei(Wt,ut,V,N),Vt&&mn(V,N,ut,"updated")},Lt)},xt=(N,V,ut,Lt,dt,vt,Tt)=>{for(let Mt=0;Mt<V.length;Mt++){const Et=N[Mt],Ct=V[Mt],Vt=Et.el&&(Et.type===Si||!nn(Et,Ct)||Et.shapeFlag&198)?w(Et.el):ut;z(Et,Ct,Vt,null,Lt,dt,vt,Tt,!0)}},Pt=(N,V,ut,Lt,dt)=>{if(V!==ut){if(V!==Me)for(const vt in V)!Es(vt)&&!(vt in ut)&&u(N,vt,V[vt],null,dt,Lt);for(const vt in ut){if(Es(vt))continue;const Tt=ut[vt],Mt=V[vt];Tt!==Mt&&vt!=="value"&&u(N,vt,Mt,Tt,dt,Lt)}"value"in ut&&u(N,"value",V.value,ut.value,dt)}},mt=(N,V,ut,Lt,dt,vt,Tt,Mt,Et)=>{const Ct=V.el=N?N.el:_(""),Vt=V.anchor=N?N.anchor:_("");let{patchFlag:Rt,dynamicChildren:Ht,slotScopeIds:Wt}=V;Wt&&(Mt=Mt?Mt.concat(Wt):Wt),N==null?(c(Ct,ut,Lt),c(Vt,ut,Lt),zt(V.children||[],ut,Vt,dt,vt,Tt,Mt,Et)):Rt>0&&Rt&64&&Ht&&N.dynamicChildren?(xt(N.dynamicChildren,Ht,ut,dt,vt,Tt,Mt),(V.key!=null||dt&&V===dt.subTree)&&Kd(N,V,!0)):_t(N,V,ut,Vt,dt,vt,Tt,Mt,Et)},Gt=(N,V,ut,Lt,dt,vt,Tt,Mt,Et)=>{V.slotScopeIds=Mt,N==null?V.shapeFlag&512?dt.ctx.activate(V,ut,Lt,Tt,Et):Qt(V,ut,Lt,dt,vt,Tt,Et):pe(N,V,Et)},Qt=(N,V,ut,Lt,dt,vt,Tt)=>{const Mt=N.component=ym(N,Lt,dt);if(Yo(N)&&(Mt.ctx.renderer=jt),vm(Mt,!1,Tt),Mt.asyncDep){if(dt&&dt.registerDep(Mt,St,Tt),!N.el){const Et=Mt.subTree=He(Je);tt(null,Et,V,ut),N.placeholder=Et.el}}else St(Mt,N,V,ut,dt,vt,Tt)},pe=(N,V,ut)=>{const Lt=V.component=N.component;if(Xg(N,V,ut))if(Lt.asyncDep&&!Lt.asyncResolved){qt(Lt,V,ut);return}else Lt.next=V,Lt.update();else V.el=N.el,Lt.vnode=V},St=(N,V,ut,Lt,dt,vt,Tt)=>{const Mt=()=>{if(N.isMounted){let{next:Rt,bu:Ht,u:Wt,parent:oe,vnode:ve}=N;{const Xe=qd(N);if(Xe){Rt&&(Rt.el=ve.el,qt(N,Rt,Tt)),Xe.asyncDep.then(()=>{N.isUnmounted||Mt()});return}}let ce=Rt,Ue;Er(N,!1),Rt?(Rt.el=ve.el,qt(N,Rt,Tt)):Rt=ve,Ht&&Ms(Ht),(Ue=Rt.props&&Rt.props.onVnodeBeforeUpdate)&&Ei(Ue,oe,Rt,ve),Er(N,!0);const Ge=Il(N),Ze=N.subTree;N.subTree=Ge,z(Ze,Ge,w(Ze.el),ft(Ze),N,dt,vt),Rt.el=Ge.el,ce===null&&Bu(N,Ge.el),Wt&&ni(Wt,dt),(Ue=Rt.props&&Rt.props.onVnodeUpdated)&&ni(()=>Ei(Ue,oe,Rt,ve),dt)}else{let Rt;const{el:Ht,props:Wt}=V,{bm:oe,m:ve,parent:ce,root:Ue,type:Ge}=N,Ze=Or(V);if(Er(N,!1),oe&&Ms(oe),!Ze&&(Rt=Wt&&Wt.onVnodeBeforeMount)&&Ei(Rt,ce,V),Er(N,!0),Ht&&_e){const Xe=()=>{N.subTree=Il(N),_e(Ht,N.subTree,N,dt,null)};Ze&&Ge.__asyncHydrate?Ge.__asyncHydrate(Ht,N,Xe):Xe()}else{Ue.ce&&Ue.ce._def.shadowRoot!==!1&&Ue.ce._injectChildStyle(Ge);const Xe=N.subTree=Il(N);z(null,Xe,ut,Lt,N,dt,vt),V.el=Xe.el}if(ve&&ni(ve,dt),!Ze&&(Rt=Wt&&Wt.onVnodeMounted)){const Xe=V;ni(()=>Ei(Rt,ce,Xe),dt)}(V.shapeFlag&256||ce&&Or(ce.vnode)&&ce.vnode.shapeFlag&256)&&N.a&&ni(N.a,dt),N.isMounted=!0,V=ut=Lt=null}};N.scope.on();const Et=N.effect=new $f(Mt);N.scope.off();const Ct=N.update=Et.run.bind(Et),Vt=N.job=Et.runIfDirty.bind(Et);Vt.i=N,Vt.id=N.uid,Et.scheduler=()=>Oh(Vt),Er(N,!0),Ct()},qt=(N,V,ut)=>{V.component=N;const Lt=N.vnode.props;N.vnode=V,N.next=null,tm(N,V.props,Lt,ut),rm(N,V.children,ut),jn(),lc(N),Hn()},_t=(N,V,ut,Lt,dt,vt,Tt,Mt,Et=!1)=>{const Ct=N&&N.children,Vt=N?N.shapeFlag:0,Rt=V.children,{patchFlag:Ht,shapeFlag:Wt}=V;if(Ht>0){if(Ht&128){Ut(Ct,Rt,ut,Lt,dt,vt,Tt,Mt,Et);return}else if(Ht&256){me(Ct,Rt,ut,Lt,dt,vt,Tt,Mt,Et);return}}Wt&8?(Vt&16&&Jt(Ct,dt,vt),Rt!==Ct&&b(ut,Rt)):Vt&16?Wt&16?Ut(Ct,Rt,ut,Lt,dt,vt,Tt,Mt,Et):Jt(Ct,dt,vt,!0):(Vt&8&&b(ut,""),Wt&16&&zt(Rt,ut,Lt,dt,vt,Tt,Mt,Et))},me=(N,V,ut,Lt,dt,vt,Tt,Mt,Et)=>{N=N||ws,V=V||ws;const Ct=N.length,Vt=V.length,Rt=Math.min(Ct,Vt);let Ht;for(Ht=0;Ht<Rt;Ht++){const Wt=V[Ht]=Et?or(V[Ht]):Ai(V[Ht]);z(N[Ht],Wt,ut,null,dt,vt,Tt,Mt,Et)}Ct>Vt?Jt(N,dt,vt,!0,!1,Rt):zt(V,ut,Lt,dt,vt,Tt,Mt,Et,Rt)},Ut=(N,V,ut,Lt,dt,vt,Tt,Mt,Et)=>{let Ct=0;const Vt=V.length;let Rt=N.length-1,Ht=Vt-1;for(;Ct<=Rt&&Ct<=Ht;){const Wt=N[Ct],oe=V[Ct]=Et?or(V[Ct]):Ai(V[Ct]);if(nn(Wt,oe))z(Wt,oe,ut,null,dt,vt,Tt,Mt,Et);else break;Ct++}for(;Ct<=Rt&&Ct<=Ht;){const Wt=N[Rt],oe=V[Ht]=Et?or(V[Ht]):Ai(V[Ht]);if(nn(Wt,oe))z(Wt,oe,ut,null,dt,vt,Tt,Mt,Et);else break;Rt--,Ht--}if(Ct>Rt){if(Ct<=Ht){const Wt=Ht+1,oe=Wt<Vt?V[Wt].el:Lt;for(;Ct<=Ht;)z(null,V[Ct]=Et?or(V[Ct]):Ai(V[Ct]),ut,oe,dt,vt,Tt,Mt,Et),Ct++}}else if(Ct>Ht)for(;Ct<=Rt;)ye(N[Ct],dt,vt,!0),Ct++;else{const Wt=Ct,oe=Ct,ve=new Map;for(Ct=oe;Ct<=Ht;Ct++){const Qe=V[Ct]=Et?or(V[Ct]):Ai(V[Ct]);Qe.key!=null&&ve.set(Qe.key,Ct)}let ce,Ue=0;const Ge=Ht-oe+1;let Ze=!1,Xe=0;const Ii=new Array(Ge);for(Ct=0;Ct<Ge;Ct++)Ii[Ct]=0;for(Ct=Wt;Ct<=Rt;Ct++){const Qe=N[Ct];if(Ue>=Ge){ye(Qe,dt,vt,!0);continue}let Ve;if(Qe.key!=null)Ve=ve.get(Qe.key);else for(ce=oe;ce<=Ht;ce++)if(Ii[ce-oe]===0&&nn(Qe,V[ce])){Ve=ce;break}Ve===void 0?ye(Qe,dt,vt,!0):(Ii[Ve-oe]=Ct+1,Ve>=Xe?Xe=Ve:Ze=!0,z(Qe,V[Ve],ut,null,dt,vt,Tt,Mt,Et),Ue++)}const Yi=Ze?am(Ii):ws;for(ce=Yi.length-1,Ct=Ge-1;Ct>=0;Ct--){const Qe=oe+Ct,Ve=V[Qe],jr=V[Qe+1],Hr=Qe+1<Vt?jr.el||jr.placeholder:Lt;Ii[Ct]===0?z(null,Ve,ut,Hr,dt,vt,Tt,Mt,Et):Ze&&(ce<0||Ct!==Yi[ce]?ue(Ve,ut,Hr,2):ce--)}}},ue=(N,V,ut,Lt,dt=null)=>{const{el:vt,type:Tt,transition:Mt,children:Et,shapeFlag:Ct}=N;if(Ct&6){ue(N.component.subTree,V,ut,Lt);return}if(Ct&128){N.suspense.move(V,ut,Lt);return}if(Ct&64){Tt.move(N,V,ut,jt);return}if(Tt===Si){c(vt,V,ut);for(let Rt=0;Rt<Et.length;Rt++)ue(Et[Rt],V,ut,Lt);c(N.anchor,V,ut);return}if(Tt===Ro){G(N,V,ut);return}if(Lt!==2&&Ct&1&&Mt)if(Lt===0)Mt.beforeEnter(vt),c(vt,V,ut),ni(()=>Mt.enter(vt),dt);else{const{leave:Rt,delayLeave:Ht,afterLeave:Wt}=Mt,oe=()=>{N.ctx.isUnmounted?d(vt):c(vt,V,ut)},ve=()=>{vt._isLeaving&&vt[In](!0),Rt(vt,()=>{oe(),Wt&&Wt()})};Ht?Ht(vt,oe,ve):ve()}else c(vt,V,ut)},ye=(N,V,ut,Lt=!1,dt=!1)=>{const{type:vt,props:Tt,ref:Mt,children:Et,dynamicChildren:Ct,shapeFlag:Vt,patchFlag:Rt,dirs:Ht,cacheIndex:Wt}=N;if(Rt===-2&&(dt=!1),Mt!=null&&(jn(),Bs(Mt,null,ut,N,!0),Hn()),Wt!=null&&(V.renderCache[Wt]=void 0),Vt&256){V.ctx.deactivate(N);return}const oe=Vt&1&&Ht,ve=!Or(N);let ce;if(ve&&(ce=Tt&&Tt.onVnodeBeforeUnmount)&&Ei(ce,V,N),Vt&6)ae(N.component,ut,Lt);else{if(Vt&128){N.suspense.unmount(ut,Lt);return}oe&&mn(N,null,V,"beforeUnmount"),Vt&64?N.type.remove(N,V,ut,jt,Lt):Ct&&!Ct.hasOnce&&(vt!==Si||Rt>0&&Rt&64)?Jt(Ct,V,ut,!1,!0):(vt===Si&&Rt&384||!dt&&Vt&16)&&Jt(Et,V,ut),Lt&&Re(N)}(ve&&(ce=Tt&&Tt.onVnodeUnmounted)||oe)&&ni(()=>{ce&&Ei(ce,V,N),oe&&mn(N,null,V,"unmounted")},ut)},Re=N=>{const{type:V,el:ut,anchor:Lt,transition:dt}=N;if(V===Si){xe(ut,Lt);return}if(V===Ro){$(N);return}const vt=()=>{d(ut),dt&&!dt.persisted&&dt.afterLeave&&dt.afterLeave()};if(N.shapeFlag&1&&dt&&!dt.persisted){const{leave:Tt,delayLeave:Mt}=dt,Et=()=>Tt(ut,vt);Mt?Mt(N.el,vt,Et):Et()}else vt()},xe=(N,V)=>{let ut;for(;N!==V;)ut=B(N),d(N),N=ut;d(V)},ae=(N,V,ut)=>{const{bum:Lt,scope:dt,job:vt,subTree:Tt,um:Mt,m:Et,a:Ct}=N;uu(Et),uu(Ct),Lt&&Ms(Lt),dt.stop(),vt&&(vt.flags|=8,ye(Tt,N,V,ut)),Mt&&ni(Mt,V),ni(()=>{N.isUnmounted=!0},V)},Jt=(N,V,ut,Lt=!1,dt=!1,vt=0)=>{for(let Tt=vt;Tt<N.length;Tt++)ye(N[Tt],V,ut,Lt,dt)},ft=N=>{if(N.shapeFlag&6)return ft(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const V=B(N.anchor||N.el),ut=V&&V[gg];return ut?B(ut):V};let Dt=!1;const Bt=(N,V,ut)=>{N==null?V._vnode&&ye(V._vnode,null,null,!0):z(V._vnode||null,N,V,null,null,null,ut),V._vnode=N,Dt||(Dt=!0,lc(),ru(),Dt=!1)},jt={p:z,um:ye,m:ue,r:Re,mt:Qt,mc:zt,pc:_t,pbc:xt,n:ft,o:t};let ne,_e;return n&&([ne,_e]=n(jt)),{render:Bt,hydrate:ne,createApp:jg(Bt,ne)}}function Fl({type:t,props:n},o){return o==="svg"&&t==="foreignObject"||o==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:o}function Er({effect:t,job:n},o){o?(t.flags|=32,n.flags|=4):(t.flags&=-33,n.flags&=-5)}function Vd(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Kd(t,n,o=!1){const c=t.children,d=n.children;if(Yt(c)&&Yt(d))for(let u=0;u<c.length;u++){const f=c[u];let _=d[u];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=d[u]=or(d[u]),_.el=f.el),!o&&_.patchFlag!==-2&&Kd(f,_)),_.type===Fr&&_.patchFlag!==-1&&(_.el=f.el),_.type===Je&&!_.el&&(_.el=f.el)}}function am(t){const n=t.slice(),o=[0];let c,d,u,f,_;const y=t.length;for(c=0;c<y;c++){const k=t[c];if(k!==0){if(d=o[o.length-1],t[d]<k){n[c]=d,o.push(c);continue}for(u=0,f=o.length-1;u<f;)_=u+f>>1,t[o[_]]<k?u=_+1:f=_;k<t[o[u]]&&(u>0&&(n[c]=o[u-1]),o[u]=c)}}for(u=o.length,f=o[u-1];u-- >0;)o[u]=f,f=n[f];return o}function qd(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:qd(n)}function uu(t){if(t)for(let n=0;n<t.length;n++)t[n].flags|=8}const lu=t=>t.__isSuspense;let oh=0;const um={name:"Suspense",__isSuspense:!0,process(t,n,o,c,d,u,f,_,y,k){if(t==null)lm(n,o,c,d,u,f,_,y,k);else{if(u&&u.deps>0&&!t.suspense.isInFallback){n.suspense=t.suspense,n.suspense.vnode=n,n.el=t.el;return}hm(t,n,o,c,d,f,_,y,k)}},hydrate:cm,normalize:fm},Wd=um;function Uo(t,n){const o=t.props&&t.props[n];Xt(o)&&o()}function lm(t,n,o,c,d,u,f,_,y){const{p:k,o:{createElement:b}}=y,w=b("div"),B=t.suspense=$d(t,d,c,n,w,o,u,f,_,y);k(null,B.pendingBranch=t.ssContent,w,null,c,B,u,f),B.deps>0?(Uo(t,"onPending"),Uo(t,"onFallback"),k(null,t.ssFallback,n,o,c,null,u,f),As(B,t.ssFallback)):B.resolve(!1,!0)}function hm(t,n,o,c,d,u,f,_,{p:y,um:k,o:{createElement:b}}){const w=n.suspense=t.suspense;w.vnode=n,n.el=t.el;const B=n.ssContent,P=n.ssFallback,{activeBranch:H,pendingBranch:z,isInFallback:ht,isHydrating:tt}=w;if(z)w.pendingBranch=B,nn(z,B)?(y(z,B,w.hiddenContainer,null,d,w,u,f,_),w.deps<=0?w.resolve():ht&&(tt||(y(H,P,o,c,d,null,u,f,_),As(w,P)))):(w.pendingId=oh++,tt?(w.isHydrating=!1,w.activeBranch=z):k(z,d,w),w.deps=0,w.effects.length=0,w.hiddenContainer=b("div"),ht?(y(null,B,w.hiddenContainer,null,d,w,u,f,_),w.deps<=0?w.resolve():(y(H,P,o,c,d,null,u,f,_),As(w,P))):H&&nn(H,B)?(y(H,B,o,c,d,w,u,f,_),w.resolve(!0)):(y(null,B,w.hiddenContainer,null,d,w,u,f,_),w.deps<=0&&w.resolve()));else if(H&&nn(H,B))y(H,B,o,c,d,w,u,f,_),As(w,B);else if(Uo(n,"onPending"),w.pendingBranch=B,B.shapeFlag&512?w.pendingId=B.component.suspenseId:w.pendingId=oh++,y(null,B,w.hiddenContainer,null,d,w,u,f,_),w.deps<=0)w.resolve();else{const{timeout:X,pendingId:G}=w;X>0?setTimeout(()=>{w.pendingId===G&&w.fallback(P)},X):X===0&&w.fallback(P)}}function $d(t,n,o,c,d,u,f,_,y,k,b=!1){const{p:w,m:B,um:P,n:H,o:{parentNode:z,remove:ht}}=k;let tt;const X=dm(t);X&&n&&n.pendingBranch&&(tt=n.pendingId,n.deps++);const G=t.props?Uf(t.props.timeout):void 0,$=u,rt={vnode:t,parent:n,parentComponent:o,namespace:f,container:c,hiddenContainer:d,deps:0,pendingId:oh++,timeout:typeof G=="number"?G:-1,activeBranch:null,pendingBranch:null,isInFallback:!b,isHydrating:b,isUnmounted:!1,effects:[],resolve(pt=!1,kt=!1){const{vnode:zt,activeBranch:wt,pendingBranch:xt,pendingId:Pt,effects:mt,parentComponent:Gt,container:Qt,isInFallback:pe}=rt;let St=!1;rt.isHydrating?rt.isHydrating=!1:pt||(St=wt&&xt.transition&&xt.transition.mode==="out-in",St&&(wt.transition.afterLeave=()=>{Pt===rt.pendingId&&(B(xt,Qt,u===$?H(wt):u,0),th(mt),pe&&zt.ssFallback&&(zt.ssFallback.el=null))}),wt&&(z(wt.el)===Qt&&(u=H(wt)),P(wt,Gt,rt,!0),!St&&pe&&zt.ssFallback&&ni(()=>zt.ssFallback.el=null,rt)),St||B(xt,Qt,u,0)),As(rt,xt),rt.pendingBranch=null,rt.isInFallback=!1;let qt=rt.parent,_t=!1;for(;qt;){if(qt.pendingBranch){qt.effects.push(...mt),_t=!0;break}qt=qt.parent}!_t&&!St&&th(mt),rt.effects=[],X&&n&&n.pendingBranch&&tt===n.pendingId&&(n.deps--,n.deps===0&&!kt&&n.resolve()),Uo(zt,"onResolve")},fallback(pt){if(!rt.pendingBranch)return;const{vnode:kt,activeBranch:zt,parentComponent:wt,container:xt,namespace:Pt}=rt;Uo(kt,"onFallback");const mt=H(zt),Gt=()=>{rt.isInFallback&&(w(null,pt,xt,mt,wt,null,Pt,_,y),As(rt,pt))},Qt=pt.transition&&pt.transition.mode==="out-in";Qt&&(zt.transition.afterLeave=Gt),rt.isInFallback=!0,P(zt,wt,null,!0),Qt||Gt()},move(pt,kt,zt){rt.activeBranch&&B(rt.activeBranch,pt,kt,zt),rt.container=pt},next(){return rt.activeBranch&&H(rt.activeBranch)},registerDep(pt,kt,zt){const wt=!!rt.pendingBranch;wt&&rt.deps++;const xt=pt.vnode.el;pt.asyncDep.catch(Pt=>{js(Pt,pt,0)}).then(Pt=>{if(pt.isUnmounted||rt.isUnmounted||rt.pendingId!==pt.suspenseId)return;pt.asyncResolved=!0;const{vnode:mt}=pt;uh(pt,Pt),xt&&(mt.el=xt);const Gt=!xt&&pt.subTree.el;kt(pt,mt,z(xt||pt.subTree.el),xt?null:H(pt.subTree),rt,f,zt),Gt&&(mt.placeholder=null,ht(Gt)),Bu(pt,mt.el),wt&&--rt.deps===0&&rt.resolve()})},unmount(pt,kt){rt.isUnmounted=!0,rt.activeBranch&&P(rt.activeBranch,o,pt,kt),rt.pendingBranch&&P(rt.pendingBranch,o,pt,kt)}};return rt}function cm(t,n,o,c,d,u,f,_,y){const k=n.suspense=$d(n,c,o,t.parentNode,document.createElement("div"),null,d,u,f,_,!0),b=y(t,k.pendingBranch=n.ssContent,o,k,u,f);return k.deps===0&&k.resolve(!1,!0),b}function fm(t){const{shapeFlag:n,children:o}=t,c=n&32;t.ssContent=Cc(c?o.default:o),t.ssFallback=c?Cc(o.fallback):He(Je)}function Cc(t){let n;if(Xt(t)){const o=Is&&t._c;o&&(t._d=!1,yn()),t=t(),o&&(t._d=!0,n=Mi,Jd())}return Yt(t)&&(t=$g(t)),t=Ai(t),n&&!t.dynamicChildren&&(t.dynamicChildren=n.filter(o=>o!==t)),t}function Yd(t,n){n&&n.pendingBranch?Yt(t)?n.effects.push(...t):n.effects.push(t):th(t)}function As(t,n){t.activeBranch=n;const{vnode:o,parentComponent:c}=t;let d=n.el;for(;!d&&n.component;)n=n.component.subTree,d=n.el;o.el=d,c&&c.subTree===o&&(c.vnode.el=d,Bu(c,d))}function dm(t){const n=t.props&&t.props.suspensible;return n!=null&&n!==!1}const Si=Symbol.for("v-fgt"),Fr=Symbol.for("v-txt"),Je=Symbol.for("v-cmt"),Ro=Symbol.for("v-stc"),Oo=[];let Mi=null;function yn(t=!1){Oo.push(Mi=t?null:[])}function Jd(){Oo.pop(),Mi=Oo[Oo.length-1]||null}let Is=1;function hu(t,n=!1){Is+=t,t<0&&Mi&&n&&(Mi.hasOnce=!0)}function Xd(t){return t.dynamicChildren=Is>0?Mi||ws:null,Jd(),Is>0&&Mi&&Mi.push(t),t}function Qd(t,n,o,c,d,u){return Xd(ep(t,n,o,c,d,u,!0))}function Ar(t,n,o,c,d){return Xd(He(t,n,o,c,d,!0))}function Fs(t){return t?t.__v_isVNode===!0:!1}function nn(t,n){return t.type===n.type&&t.key===n.key}const tp=({key:t})=>t??null,Ya=({ref:t,ref_key:n,ref_for:o})=>(typeof t=="number"&&(t=""+t),t!=null?De(t)||qe(t)||Xt(t)?{i:Di,r:t,k:n,f:!!o}:t:null);function ep(t,n=null,o=null,c=0,d=null,u=t===Si?0:1,f=!1,_=!1){const y={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&tp(n),ref:n&&Ya(n),scopeId:pd,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:c,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:Di};return _?(Hh(y,o),u&128&&t.normalize(y)):o&&(y.shapeFlag|=De(o)?8:16),Is>0&&!f&&Mi&&(y.patchFlag>0||u&6)&&y.patchFlag!==32&&Mi.push(y),y}const He=pm;function pm(t,n=null,o=null,c=0,d=null,u=!1){if((!t||t===Bd)&&(t=Je),Fs(t)){const _=Un(t,n,!0);return o&&Hh(_,o),Is>0&&!u&&Mi&&(_.shapeFlag&6?Mi[Mi.indexOf(t)]=_:Mi.push(_)),_.patchFlag=-2,_}if(xm(t)&&(t=t.__vccOpts),n){n=ip(n);let{class:_,style:y}=n;_&&!De(_)&&(n.class=wu(_)),Pe(y)&&(Eu(y)&&!Yt(y)&&(y=ri({},y)),n.style=xu(y))}const f=De(t)?1:lu(t)?128:gd(t)?64:Pe(t)?4:Xt(t)?2:0;return ep(t,n,o,c,d,f,u,!0)}function ip(t){return t?Eu(t)||Nd(t)?ri({},t):t:null}function Un(t,n,o=!1,c=!1){const{props:d,ref:u,patchFlag:f,children:_,transition:y}=t,k=n?_m(d||{},n):d,b={__v_isVNode:!0,__v_skip:!0,type:t.type,props:k,key:k&&tp(k),ref:n&&n.ref?o&&u?Yt(u)?u.concat(Ya(n)):[u,Ya(n)]:Ya(n):u,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:_,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Si?f===-1?16:f|16:f,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:y,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Un(t.ssContent),ssFallback:t.ssFallback&&Un(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return y&&c&&Os(b,y.clone(b)),b}function np(t=" ",n=0){return He(Fr,null,t,n)}function LL(t,n){const o=He(Ro,null,t);return o.staticCount=n,o}function bL(t="",n=!1){return n?(yn(),Ar(Je,null,t)):He(Je,null,t)}function Ai(t){return t==null||typeof t=="boolean"?He(Je):Yt(t)?He(Si,null,t.slice()):Fs(t)?or(t):He(Fr,null,String(t))}function or(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Un(t)}function Hh(t,n){let o=0;const{shapeFlag:c}=t;if(n==null)n=null;else if(Yt(n))o=16;else if(typeof n=="object")if(c&65){const d=n.default;d&&(d._c&&(d._d=!1),Hh(t,d()),d._c&&(d._d=!0));return}else{o=32;const d=n._;!d&&!Nd(n)?n._ctx=Di:d===3&&Di&&(Di.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Xt(n)?(n={default:n,_ctx:Di},o=32):(n=String(n),c&64?(o=16,n=[np(n)]):o=8);t.children=n,t.shapeFlag|=o}function _m(...t){const n={};for(let o=0;o<t.length;o++){const c=t[o];for(const d in c)if(d==="class")n.class!==c.class&&(n.class=wu([n.class,c.class]));else if(d==="style")n.style=xu([n.style,c.style]);else if(Ko(d)){const u=n[d],f=c[d];f&&u!==f&&!(Yt(u)&&u.includes(f))&&(n[d]=u?[].concat(u,f):f)}else d!==""&&(n[d]=c[d])}return n}function Ei(t,n,o,c=null){an(t,n,7,[o,c])}const gm=Dd();let mm=0;function ym(t,n,o){const c=t.type,d=(n?n.appContext:t.appContext)||gm,u={uid:mm++,vnode:t,type:c,parent:n,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(d.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gd(c,d),emitsOptions:Od(c,d),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:c.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=n?n.root:u,u.emit=qg.bind(null,u),t.ce&&t.ce(u),u}let hi=null;const Hs=()=>hi||Di;let cu,ah;{const t=Cu(),n=(o,c)=>{let d;return(d=t[o])||(d=t[o]=[]),d.push(c),u=>{d.length>1?d.forEach(f=>f(u)):d[0](u)}};cu=n("__VUE_INSTANCE_SETTERS__",o=>hi=o),ah=n("__VUE_SSR_SETTERS__",o=>Ns=o)}const Xo=t=>{const n=hi;return cu(t),t.scope.on(),()=>{t.scope.off(),cu(n)}},xc=()=>{hi&&hi.scope.off(),cu(null)};function rp(t){return t.vnode.shapeFlag&4}let Ns=!1;function vm(t,n=!1,o=!1){n&&ah(n);const{props:c,children:d}=t.vnode,u=rp(t);Qg(t,c,u,n),nm(t,d,o||n);const f=u?Lm(t,n):void 0;return n&&ah(!1),f}function Lm(t,n){const o=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Rg);const{setup:c}=o;if(c){jn();const d=t.setupContext=c.length>1?Cm(t):null,u=Xo(t),f=Wo(c,t,0,[t.props,d]),_=zf(f);if(Hn(),u(),(_||t.sp)&&!Or(t)&&Ih(t),_){if(f.then(xc,xc),n)return f.then(y=>{uh(t,y)}).catch(y=>{js(y,t,0)});t.asyncDep=f}else uh(t,f)}else sp(t)}function uh(t,n,o){Xt(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Pe(n)&&(t.setupState=hd(n)),sp(t)}function sp(t,n,o){const c=t.type;t.render||(t.render=c.render||vn);{const d=Xo(t);jn();try{Og(t)}finally{Hn(),d()}}}const bm={get(t,n){return _i(t,"get",""),t[n]}};function Cm(t){const n=o=>{t.exposed=o||{}};return{attrs:new Proxy(t.attrs,bm),slots:t.slots,emit:t.emit,expose:n}}function Tu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hd(ig(t.exposed)),{get(n,o){if(o in n)return n[o];if(o in Do)return Do[o](t)},has(n,o){return o in n||o in Do}})):t.proxy}function lh(t,n=!0){return Xt(t)?t.displayName||t.name:t.name||n&&t.__name}function xm(t){return Xt(t)&&"__vccOpts"in t}const rn=(t,n)=>cg(t,n,Ns);function qi(t,n,o){try{hu(-1);const c=arguments.length;return c===2?Pe(n)&&!Yt(n)?Fs(n)?He(t,null,[n]):He(t,n):He(t,null,n):(c>3?o=Array.prototype.slice.call(arguments,2):c===3&&Fs(o)&&(o=[o]),He(t,n,o))}finally{hu(1)}}const wm="3.5.25";let hh;const wc=typeof window<"u"&&window.trustedTypes;if(wc)try{hh=wc.createPolicy("vue",{createHTML:t=>t})}catch{}const op=hh?t=>hh.createHTML(t):t=>t,km="http://www.w3.org/2000/svg",Em="http://www.w3.org/1998/Math/MathML",On=typeof document<"u"?document:null,kc=On&&On.createElement("template"),Mm={insert:(t,n,o)=>{n.insertBefore(t,o||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,o,c)=>{const d=n==="svg"?On.createElementNS(km,t):n==="mathml"?On.createElementNS(Em,t):o?On.createElement(t,{is:o}):On.createElement(t);return t==="select"&&c&&c.multiple!=null&&d.setAttribute("multiple",c.multiple),d},createText:t=>On.createTextNode(t),createComment:t=>On.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>On.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,o,c,d,u){const f=o?o.previousSibling:n.lastChild;if(d&&(d===u||d.nextSibling))for(;n.insertBefore(d.cloneNode(!0),o),!(d===u||!(d=d.nextSibling)););else{kc.innerHTML=op(c==="svg"?`<svg>${t}</svg>`:c==="mathml"?`<math>${t}</math>`:t);const _=kc.content;if(c==="svg"||c==="mathml"){const y=_.firstChild;for(;y.firstChild;)_.appendChild(y.firstChild);_.removeChild(y)}n.insertBefore(_,o)}return[f?f.nextSibling:n.firstChild,o?o.previousSibling:n.lastChild]}},ir="transition",xo="animation",Zo=Symbol("_vtc"),ap={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Pm=ri({},md,ap),Bm=t=>(t.displayName="Transition",t.props=Pm,t),Tm=Bm((t,{slots:n})=>qi(vg,Sm(t),n)),Mr=(t,n=[])=>{Yt(t)?t.forEach(o=>o(...n)):t&&t(...n)},Ec=t=>t?Yt(t)?t.some(n=>n.length>1):t.length>1:!1;function Sm(t){const n={};for(const mt in t)mt in ap||(n[mt]=t[mt]);if(t.css===!1)return n;const{name:o="v",type:c,duration:d,enterFromClass:u=`${o}-enter-from`,enterActiveClass:f=`${o}-enter-active`,enterToClass:_=`${o}-enter-to`,appearFromClass:y=u,appearActiveClass:k=f,appearToClass:b=_,leaveFromClass:w=`${o}-leave-from`,leaveActiveClass:B=`${o}-leave-active`,leaveToClass:P=`${o}-leave-to`}=t,H=Am(d),z=H&&H[0],ht=H&&H[1],{onBeforeEnter:tt,onEnter:X,onEnterCancelled:G,onLeave:$,onLeaveCancelled:rt,onBeforeAppear:pt=tt,onAppear:kt=X,onAppearCancelled:zt=G}=n,wt=(mt,Gt,Qt,pe)=>{mt._enterCancelled=pe,Pr(mt,Gt?b:_),Pr(mt,Gt?k:f),Qt&&Qt()},xt=(mt,Gt)=>{mt._isLeaving=!1,Pr(mt,w),Pr(mt,P),Pr(mt,B),Gt&&Gt()},Pt=mt=>(Gt,Qt)=>{const pe=mt?kt:X,St=()=>wt(Gt,mt,Qt);Mr(pe,[Gt,St]),Mc(()=>{Pr(Gt,mt?y:u),Dn(Gt,mt?b:_),Ec(pe)||Pc(Gt,c,z,St)})};return ri(n,{onBeforeEnter(mt){Mr(tt,[mt]),Dn(mt,u),Dn(mt,f)},onBeforeAppear(mt){Mr(pt,[mt]),Dn(mt,y),Dn(mt,k)},onEnter:Pt(!1),onAppear:Pt(!0),onLeave(mt,Gt){mt._isLeaving=!0;const Qt=()=>xt(mt,Gt);Dn(mt,w),mt._enterCancelled?(Dn(mt,B),Sc(mt)):(Sc(mt),Dn(mt,B)),Mc(()=>{mt._isLeaving&&(Pr(mt,w),Dn(mt,P),Ec($)||Pc(mt,c,ht,Qt))}),Mr($,[mt,Qt])},onEnterCancelled(mt){wt(mt,!1,void 0,!0),Mr(G,[mt])},onAppearCancelled(mt){wt(mt,!0,void 0,!0),Mr(zt,[mt])},onLeaveCancelled(mt){xt(mt),Mr(rt,[mt])}})}function Am(t){if(t==null)return null;if(Pe(t))return[Nl(t.enter),Nl(t.leave)];{const n=Nl(t);return[n,n]}}function Nl(t){return Uf(t)}function Dn(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.add(o)),(t[Zo]||(t[Zo]=new Set)).add(n)}function Pr(t,n){n.split(/\s+/).forEach(c=>c&&t.classList.remove(c));const o=t[Zo];o&&(o.delete(n),o.size||(t[Zo]=void 0))}function Mc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Dm=0;function Pc(t,n,o,c){const d=t._endId=++Dm,u=()=>{d===t._endId&&c()};if(o!=null)return setTimeout(u,o);const{type:f,timeout:_,propCount:y}=Rm(t,n);if(!f)return c();const k=f+"end";let b=0;const w=()=>{t.removeEventListener(k,B),u()},B=P=>{P.target===t&&++b>=y&&w()};setTimeout(()=>{b<y&&w()},_+1),t.addEventListener(k,B)}function Rm(t,n){const o=window.getComputedStyle(t),c=H=>(o[H]||"").split(", "),d=c(`${ir}Delay`),u=c(`${ir}Duration`),f=Bc(d,u),_=c(`${xo}Delay`),y=c(`${xo}Duration`),k=Bc(_,y);let b=null,w=0,B=0;n===ir?f>0&&(b=ir,w=f,B=u.length):n===xo?k>0&&(b=xo,w=k,B=y.length):(w=Math.max(f,k),b=w>0?f>k?ir:xo:null,B=b?b===ir?u.length:y.length:0);const P=b===ir&&/\b(?:transform|all)(?:,|$)/.test(c(`${ir}Property`).toString());return{type:b,timeout:w,propCount:B,hasTransform:P}}function Bc(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((o,c)=>Tc(o)+Tc(t[c])))}function Tc(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Sc(t){return(t?t.ownerDocument:document).body.offsetHeight}function Om(t,n,o){const c=t[Zo];c&&(n=(n?[n,...c]:[...c]).join(" ")),n==null?t.removeAttribute("class"):o?t.setAttribute("class",n):t.className=n}const Ac=Symbol("_vod"),Im=Symbol("_vsh"),Fm=Symbol(""),Nm=/(?:^|;)\s*display\s*:/;function zm(t,n,o){const c=t.style,d=De(o);let u=!1;if(o&&!d){if(n)if(De(n))for(const f of n.split(";")){const _=f.slice(0,f.indexOf(":")).trim();o[_]==null&&Ja(c,_,"")}else for(const f in n)o[f]==null&&Ja(c,f,"");for(const f in o)f==="display"&&(u=!0),Ja(c,f,o[f])}else if(d){if(n!==o){const f=c[Fm];f&&(o+=";"+f),c.cssText=o,u=Nm.test(o)}}else n&&t.removeAttribute("style");Ac in t&&(t[Ac]=u?c.display:"",t[Im]&&(c.display="none"))}const Dc=/\s*!important$/;function Ja(t,n,o){if(Yt(o))o.forEach(c=>Ja(t,n,c));else if(o==null&&(o=""),n.startsWith("--"))t.setProperty(n,o);else{const c=Gm(t,n);Dc.test(o)?t.setProperty(zr(c),o.replace(Dc,""),"important"):t[c]=o}}const Rc=["Webkit","Moz","ms"],zl={};function Gm(t,n){const o=zl[n];if(o)return o;let c=Wi(n);if(c!=="filter"&&c in t)return zl[n]=c;c=bu(c);for(let d=0;d<Rc.length;d++){const u=Rc[d]+c;if(u in t)return zl[n]=u}return n}const Oc="http://www.w3.org/1999/xlink";function Ic(t,n,o,c,d,u=R_(n)){c&&n.startsWith("xlink:")?o==null?t.removeAttributeNS(Oc,n.slice(6,n.length)):t.setAttributeNS(Oc,n,o):o==null||u&&!Zf(o)?t.removeAttribute(n):t.setAttribute(n,u?"":hr(o)?String(o):o)}function Fc(t,n,o,c,d){if(n==="innerHTML"||n==="textContent"){o!=null&&(t[n]=n==="innerHTML"?op(o):o);return}const u=t.tagName;if(n==="value"&&u!=="PROGRESS"&&!u.includes("-")){const _=u==="OPTION"?t.getAttribute("value")||"":t.value,y=o==null?t.type==="checkbox"?"on":"":String(o);(_!==y||!("_value"in t))&&(t.value=y),o==null&&t.removeAttribute(n),t._value=o;return}let f=!1;if(o===""||o==null){const _=typeof t[n];_==="boolean"?o=Zf(o):o==null&&_==="string"?(o="",f=!0):_==="number"&&(o=0,f=!0)}try{t[n]=o}catch{}f&&t.removeAttribute(d||n)}function bs(t,n,o,c){t.addEventListener(n,o,c)}function jm(t,n,o,c){t.removeEventListener(n,o,c)}const Nc=Symbol("_vei");function Hm(t,n,o,c,d=null){const u=t[Nc]||(t[Nc]={}),f=u[n];if(c&&f)f.value=c;else{const[_,y]=Um(n);if(c){const k=u[n]=Km(c,d);bs(t,_,k,y)}else f&&(jm(t,_,f,y),u[n]=void 0)}}const zc=/(?:Once|Passive|Capture)$/;function Um(t){let n;if(zc.test(t)){n={};let c;for(;c=t.match(zc);)t=t.slice(0,t.length-c[0].length),n[c[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):zr(t.slice(2)),n]}let Gl=0;const Zm=Promise.resolve(),Vm=()=>Gl||(Zm.then(()=>Gl=0),Gl=Date.now());function Km(t,n){const o=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=o.attached)return;an(qm(c,o.value),n,5,[c])};return o.value=t,o.attached=Vm(),o}function qm(t,n){if(Yt(n)){const o=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{o.call(t),t._stopped=!0},n.map(c=>d=>!d._stopped&&c&&c(d))}else return n}const Gc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Wm=(t,n,o,c,d,u)=>{const f=d==="svg";n==="class"?Om(t,c,f):n==="style"?zm(t,o,c):Ko(n)?Eh(n)||Hm(t,n,o,c,u):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):$m(t,n,c,f))?(Fc(t,n,c),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&Ic(t,n,c,f,u,n!=="value")):t._isVueCE&&(/[A-Z]/.test(n)||!De(c))?Fc(t,Wi(n),c,u,n):(n==="true-value"?t._trueValue=c:n==="false-value"&&(t._falseValue=c),Ic(t,n,c,f))};function $m(t,n,o,c){if(c)return!!(n==="innerHTML"||n==="textContent"||n in t&&Gc(n)&&Xt(o));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="sandbox"&&t.tagName==="IFRAME"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const d=t.tagName;if(d==="IMG"||d==="VIDEO"||d==="CANVAS"||d==="SOURCE")return!1}return Gc(n)&&De(o)?!1:n in t}const jc=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Yt(n)?o=>Ms(n,o):n};function Ym(t){t.target.composing=!0}function Hc(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const jl=Symbol("_assign");function Uc(t,n,o){return n&&(t=t.trim()),o&&(t=Ph(t)),t}const CL={created(t,{modifiers:{lazy:n,trim:o,number:c}},d){t[jl]=jc(d);const u=c||d.props&&d.props.type==="number";bs(t,n?"change":"input",f=>{f.target.composing||t[jl](Uc(t.value,o,u))}),(o||u)&&bs(t,"change",()=>{t.value=Uc(t.value,o,u)}),n||(bs(t,"compositionstart",Ym),bs(t,"compositionend",Hc),bs(t,"change",Hc))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:o,modifiers:{lazy:c,trim:d,number:u}},f){if(t[jl]=jc(f),t.composing)return;const _=(u||t.type==="number")&&!/^0\d/.test(t.value)?Ph(t.value):t.value,y=n??"";_!==y&&(document.activeElement===t&&t.type!=="range"&&(c&&n===o||d&&t.value.trim()===y)||(t.value=y))}},Jm=["ctrl","shift","alt","meta"],Xm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>Jm.some(o=>t[`${o}Key`]&&!n.includes(o))},xL=(t,n)=>{const o=t._withMods||(t._withMods={}),c=n.join(".");return o[c]||(o[c]=((d,...u)=>{for(let f=0;f<n.length;f++){const _=Xm[n[f]];if(_&&_(d,n))return}return t(d,...u)}))},up=ri({patchProp:Wm},Mm);let Io,Zc=!1;function Qm(){return Io||(Io=sm(up))}function t0(){return Io=Zc?Io:om(up),Zc=!0,Io}const e0=((...t)=>{const n=Qm().createApp(...t),{mount:o}=n;return n.mount=c=>{const d=hp(c);if(!d)return;const u=n._component;!Xt(u)&&!u.render&&!u.template&&(u.template=d.innerHTML),d.nodeType===1&&(d.textContent="");const f=o(d,!1,lp(d));return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),f},n}),i0=((...t)=>{const n=t0().createApp(...t),{mount:o}=n;return n.mount=c=>{const d=hp(c);if(d)return o(d,!0,lp(d))},n});function lp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function hp(t){return De(t)?document.querySelector(t):t}const n0=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,r0=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,s0=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function o0(t,n){if(t==="__proto__"||t==="constructor"&&n&&typeof n=="object"&&"prototype"in n){a0(t);return}return n}function a0(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function fu(t,n={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const o=t.trim();if(o.length<=9)switch(o.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!s0.test(t)){if(n.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(n0.test(t)||r0.test(t)){if(n.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,o0)}return JSON.parse(t)}catch(c){if(n.strict)throw c;return t}}const u0=/#/g,l0=/&/g,h0=/\//g,c0=/=/g,Uh=/\+/g,f0=/%5e/gi,d0=/%60/gi,p0=/%7c/gi,_0=/%20/gi;function g0(t){return encodeURI(""+t).replace(p0,"|")}function ch(t){return g0(typeof t=="string"?t:JSON.stringify(t)).replace(Uh,"%2B").replace(_0,"+").replace(u0,"%23").replace(l0,"%26").replace(d0,"`").replace(f0,"^").replace(h0,"%2F")}function Hl(t){return ch(t).replace(c0,"%3D")}function du(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function m0(t){return du(t.replace(Uh," "))}function y0(t){return du(t.replace(Uh," "))}function cp(t=""){const n=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const o of t.split("&")){const c=o.match(/([^=]+)=?(.*)/)||[];if(c.length<2)continue;const d=m0(c[1]);if(d==="__proto__"||d==="constructor")continue;const u=y0(c[2]||"");n[d]===void 0?n[d]=u:Array.isArray(n[d])?n[d].push(u):n[d]=[n[d],u]}return n}function v0(t,n){return(typeof n=="number"||typeof n=="boolean")&&(n=String(n)),n?Array.isArray(n)?n.map(o=>`${Hl(t)}=${ch(o)}`).join("&"):`${Hl(t)}=${ch(n)}`:Hl(t)}function L0(t){return Object.keys(t).filter(n=>t[n]!==void 0).map(n=>v0(n,t[n])).filter(Boolean).join("&")}const b0=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,C0=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,x0=/^([/\\]\s*){2,}[^/\\]/,w0=/^[\s\0]*(blob|data|javascript|vbscript):$/i,k0=/\/$|\/\?|\/#/,E0=/^\.?\//;function Gr(t,n={}){return typeof n=="boolean"&&(n={acceptRelative:n}),n.strict?b0.test(t):C0.test(t)||(n.acceptRelative?x0.test(t):!1)}function M0(t){return!!t&&w0.test(t)}function fh(t="",n){return n?k0.test(t):t.endsWith("/")}function pu(t="",n){if(!n)return(fh(t)?t.slice(0,-1):t)||"/";if(!fh(t,!0))return t||"/";let o=t,c="";const d=t.indexOf("#");d!==-1&&(o=t.slice(0,d),c=t.slice(d));const[u,...f]=o.split("?");return((u.endsWith("/")?u.slice(0,-1):u)||"/")+(f.length>0?`?${f.join("?")}`:"")+c}function P0(t="",n){if(!n)return t.endsWith("/")?t:t+"/";if(fh(t,!0))return t||"/";let o=t,c="";const d=t.indexOf("#");if(d!==-1&&(o=t.slice(0,d),c=t.slice(d),!o))return c;const[u,...f]=o.split("?");return u+"/"+(f.length>0?`?${f.join("?")}`:"")+c}function B0(t,n){if(dp(n)||Gr(t))return t;const o=pu(n);return t.startsWith(o)?t:Zh(o,t)}function Vc(t,n){if(dp(n))return t;const o=pu(n);if(!t.startsWith(o))return t;const c=t.slice(o.length);return c[0]==="/"?c:"/"+c}function fp(t,n){const o=gp(t),c={...cp(o.search),...n};return o.search=L0(c),A0(o)}function dp(t){return!t||t==="/"}function T0(t){return t&&t!=="/"}function Zh(t,...n){let o=t||"";for(const c of n.filter(d=>T0(d)))if(o){const d=c.replace(E0,"");o=P0(o)+d}else o=c;return o}function pp(...t){const n=/\/(?!\/)/,o=t.filter(Boolean),c=[];let d=0;for(const f of o)if(!(!f||f==="/")){for(const[_,y]of f.split(n).entries())if(!(!y||y===".")){if(y===".."){if(c.length===1&&Gr(c[0]))continue;c.pop(),d--;continue}if(_===1&&c[c.length-1]?.endsWith(":/")){c[c.length-1]+="/"+y;continue}c.push(y),d++}}let u=c.join("/");return d>=0?o[0]?.startsWith("/")&&!u.startsWith("/")?u="/"+u:o[0]?.startsWith("./")&&!u.startsWith("./")&&(u="./"+u):u="../".repeat(-1*d)+u,o[o.length-1]?.endsWith("/")&&!u.endsWith("/")&&(u+="/"),u}function S0(t,n){return du(pu(t))===du(pu(n))}const _p=Symbol.for("ufo:protocolRelative");function gp(t="",n){const o=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(o){const[,w,B=""]=o;return{protocol:w.toLowerCase(),pathname:B,href:w+B,auth:"",host:"",search:"",hash:""}}if(!Gr(t,{acceptRelative:!0}))return Kc(t);const[,c="",d,u=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,f="",_=""]=u.match(/([^#/?]*)(.*)?/)||[];c==="file:"&&(_=_.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:y,search:k,hash:b}=Kc(_);return{protocol:c.toLowerCase(),auth:d?d.slice(0,Math.max(0,d.length-1)):"",host:f,pathname:y,search:k,hash:b,[_p]:!c}}function Kc(t=""){const[n="",o="",c=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:n,search:o,hash:c}}function A0(t){const n=t.pathname||"",o=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",c=t.hash||"",d=t.auth?t.auth+"@":"",u=t.host||"";return(t.protocol||t[_p]?(t.protocol||"")+"//":"")+d+u+n+o+c}class D0 extends Error{constructor(n,o){super(n,o),this.name="FetchError",o?.cause&&!this.cause&&(this.cause=o.cause)}}function R0(t){const n=t.error?.message||t.error?.toString()||"",o=t.request?.method||t.options?.method||"GET",c=t.request?.url||String(t.request)||"/",d=`[${o}] ${JSON.stringify(c)}`,u=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",f=`${d}: ${u}${n?` ${n}`:""}`,_=new D0(f,t.error?{cause:t.error}:void 0);for(const y of["request","options","response"])Object.defineProperty(_,y,{get(){return t[y]}});for(const[y,k]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(_,y,{get(){return t.response&&t.response[k]}});return _}const O0=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function qc(t="GET"){return O0.has(t.toUpperCase())}function I0(t){if(t===void 0)return!1;const n=typeof t;return n==="string"||n==="number"||n==="boolean"||n===null?!0:n!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const F0=new Set(["image/svg","application/xml","application/xhtml","application/html"]),N0=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function z0(t=""){if(!t)return"json";const n=t.split(";").shift()||"";return N0.test(n)?"json":n==="text/event-stream"?"stream":F0.has(n)||n.startsWith("text/")?"text":"blob"}function G0(t,n,o,c){const d=j0(n?.headers??t?.headers,o?.headers,c);let u;return(o?.query||o?.params||n?.params||n?.query)&&(u={...o?.params,...o?.query,...n?.params,...n?.query}),{...o,...n,query:u,params:u,headers:d}}function j0(t,n,o){if(!n)return new o(t);const c=new o(n);if(t)for(const[d,u]of Symbol.iterator in t||Array.isArray(t)?t:new o(t))c.set(d,u);return c}async function Ka(t,n){if(n)if(Array.isArray(n))for(const o of n)await o(t);else await n(t)}const H0=new Set([408,409,425,429,500,502,503,504]),U0=new Set([101,204,205,304]);function mp(t={}){const{fetch:n=globalThis.fetch,Headers:o=globalThis.Headers,AbortController:c=globalThis.AbortController}=t;async function d(_){const y=_.error&&_.error.name==="AbortError"&&!_.options.timeout||!1;if(_.options.retry!==!1&&!y){let b;typeof _.options.retry=="number"?b=_.options.retry:b=qc(_.options.method)?0:1;const w=_.response&&_.response.status||500;if(b>0&&(Array.isArray(_.options.retryStatusCodes)?_.options.retryStatusCodes.includes(w):H0.has(w))){const B=typeof _.options.retryDelay=="function"?_.options.retryDelay(_):_.options.retryDelay||0;return B>0&&await new Promise(P=>setTimeout(P,B)),u(_.request,{..._.options,retry:b-1})}}const k=R0(_);throw Error.captureStackTrace&&Error.captureStackTrace(k,u),k}const u=async function(y,k={}){const b={request:y,options:G0(y,k,t.defaults,o),response:void 0,error:void 0};if(b.options.method&&(b.options.method=b.options.method.toUpperCase()),b.options.onRequest&&(await Ka(b,b.options.onRequest),b.options.headers instanceof o||(b.options.headers=new o(b.options.headers||{}))),typeof b.request=="string"&&(b.options.baseURL&&(b.request=B0(b.request,b.options.baseURL)),b.options.query&&(b.request=fp(b.request,b.options.query),delete b.options.query),"query"in b.options&&delete b.options.query,"params"in b.options&&delete b.options.params),b.options.body&&qc(b.options.method))if(I0(b.options.body)){const P=b.options.headers.get("content-type");typeof b.options.body!="string"&&(b.options.body=P==="application/x-www-form-urlencoded"?new URLSearchParams(b.options.body).toString():JSON.stringify(b.options.body)),P||b.options.headers.set("content-type","application/json"),b.options.headers.has("accept")||b.options.headers.set("accept","application/json")}else("pipeTo"in b.options.body&&typeof b.options.body.pipeTo=="function"||typeof b.options.body.pipe=="function")&&("duplex"in b.options||(b.options.duplex="half"));let w;if(!b.options.signal&&b.options.timeout){const P=new c;w=setTimeout(()=>{const H=new Error("[TimeoutError]: The operation was aborted due to timeout");H.name="TimeoutError",H.code=23,P.abort(H)},b.options.timeout),b.options.signal=P.signal}try{b.response=await n(b.request,b.options)}catch(P){return b.error=P,b.options.onRequestError&&await Ka(b,b.options.onRequestError),await d(b)}finally{w&&clearTimeout(w)}if((b.response.body||b.response._bodyInit)&&!U0.has(b.response.status)&&b.options.method!=="HEAD"){const P=(b.options.parseResponse?"json":b.options.responseType)||z0(b.response.headers.get("content-type")||"");switch(P){case"json":{const H=await b.response.text(),z=b.options.parseResponse||fu;b.response._data=z(H);break}case"stream":{b.response._data=b.response.body||b.response._bodyInit;break}default:b.response._data=await b.response[P]()}}return b.options.onResponse&&await Ka(b,b.options.onResponse),!b.options.ignoreResponseError&&b.response.status>=400&&b.response.status<600?(b.options.onResponseError&&await Ka(b,b.options.onResponseError),await d(b)):b.response},f=async function(y,k){return(await u(y,k))._data};return f.raw=u,f.native=(..._)=>n(..._),f.create=(_={},y={})=>mp({...t,...y,defaults:{...t.defaults,...y.defaults,..._}}),f}const _u=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),Z0=_u.fetch?(...t)=>_u.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),V0=_u.Headers,K0=_u.AbortController,q0=mp({fetch:Z0,Headers:V0,AbortController:K0}),W0=q0,$0=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,Vh=()=>$0().app,Y0=()=>Vh().baseURL,J0=()=>Vh().buildAssetsDir,Kh=(...t)=>pp(yp(),J0(),...t),yp=(...t)=>{const n=Vh(),o=n.cdnURL||n.baseURL;return t.length?pp(o,...t):o};globalThis.__buildAssetsURL=Kh,globalThis.__publicAssetsURL=yp;globalThis.$fetch||(globalThis.$fetch=W0.create({baseURL:Y0()}));"global"in globalThis||(globalThis.global=globalThis);function dh(t,n={},o){for(const c in t){const d=t[c],u=o?`${o}:${c}`:c;typeof d=="object"&&d!==null?dh(d,n,u):typeof d=="function"&&(n[u]=d)}return n}const X0={run:t=>t()},Q0=()=>X0,vp=typeof console.createTask<"u"?console.createTask:Q0;function ty(t,n){const o=n.shift(),c=vp(o);return t.reduce((d,u)=>d.then(()=>c.run(()=>u(...n))),Promise.resolve())}function ey(t,n){const o=n.shift(),c=vp(o);return Promise.all(t.map(d=>c.run(()=>d(...n))))}function Ul(t,n){for(const o of[...t])o(n)}class iy{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(n,o,c={}){if(!n||typeof o!="function")return()=>{};const d=n;let u;for(;this._deprecatedHooks[n];)u=this._deprecatedHooks[n],n=u.to;if(u&&!c.allowDeprecated){let f=u.message;f||(f=`${d} hook has been deprecated`+(u.to?`, please use ${u.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(f)||(console.warn(f),this._deprecatedMessages.add(f))}if(!o.name)try{Object.defineProperty(o,"name",{get:()=>"_"+n.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[n]=this._hooks[n]||[],this._hooks[n].push(o),()=>{o&&(this.removeHook(n,o),o=void 0)}}hookOnce(n,o){let c,d=(...u)=>(typeof c=="function"&&c(),c=void 0,d=void 0,o(...u));return c=this.hook(n,d),c}removeHook(n,o){if(this._hooks[n]){const c=this._hooks[n].indexOf(o);c!==-1&&this._hooks[n].splice(c,1),this._hooks[n].length===0&&delete this._hooks[n]}}deprecateHook(n,o){this._deprecatedHooks[n]=typeof o=="string"?{to:o}:o;const c=this._hooks[n]||[];delete this._hooks[n];for(const d of c)this.hook(n,d)}deprecateHooks(n){Object.assign(this._deprecatedHooks,n);for(const o in n)this.deprecateHook(o,n[o])}addHooks(n){const o=dh(n),c=Object.keys(o).map(d=>this.hook(d,o[d]));return()=>{for(const d of c.splice(0,c.length))d()}}removeHooks(n){const o=dh(n);for(const c in o)this.removeHook(c,o[c])}removeAllHooks(){for(const n in this._hooks)delete this._hooks[n]}callHook(n,...o){return o.unshift(n),this.callHookWith(ty,n,...o)}callHookParallel(n,...o){return o.unshift(n),this.callHookWith(ey,n,...o)}callHookWith(n,o,...c){const d=this._before||this._after?{name:o,args:c,context:{}}:void 0;this._before&&Ul(this._before,d);const u=n(o in this._hooks?[...this._hooks[o]]:[],c);return u instanceof Promise?u.finally(()=>{this._after&&d&&Ul(this._after,d)}):(this._after&&d&&Ul(this._after,d),u)}beforeEach(n){return this._before=this._before||[],this._before.push(n),()=>{if(this._before!==void 0){const o=this._before.indexOf(n);o!==-1&&this._before.splice(o,1)}}}afterEach(n){return this._after=this._after||[],this._after.push(n),()=>{if(this._after!==void 0){const o=this._after.indexOf(n);o!==-1&&this._after.splice(o,1)}}}}function Lp(){return new iy}function ny(t={}){let n,o=!1;const c=f=>{if(n&&n!==f)throw new Error("Context conflict")};let d;if(t.asyncContext){const f=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;f?d=new f:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const u=()=>{if(d){const f=d.getStore();if(f!==void 0)return f}return n};return{use:()=>{const f=u();if(f===void 0)throw new Error("Context is not available");return f},tryUse:()=>u(),set:(f,_)=>{_||c(f),n=f,o=!0},unset:()=>{n=void 0,o=!1},call:(f,_)=>{c(f),n=f;try{return d?d.run(f,_):_()}finally{o||(n=void 0)}},async callAsync(f,_){n=f;const y=()=>{n=f},k=()=>n===f?y:void 0;ph.add(k);try{const b=d?d.run(f,_):_();return o||(n=void 0),await b}finally{ph.delete(k)}}}}function ry(t={}){const n={};return{get(o,c={}){return n[o]||(n[o]=ny({...t,...c})),n[o]}}}const gu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Wc="__unctx__",sy=gu[Wc]||(gu[Wc]=ry()),oy=(t,n={})=>sy.get(t,n),$c="__unctx_async_handlers__",ph=gu[$c]||(gu[$c]=new Set);function Ds(t){const n=[];for(const d of ph){const u=d();u&&n.push(u)}const o=()=>{for(const d of n)d()};let c=t();return c&&typeof c=="object"&&"catch"in c&&(c=c.catch(d=>{throw o(),d})),[c,o]}const Yc=!1,ay=!1,Jc={id:"__nuxt-loader"},wL={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},uy="#__nuxt",bp="nuxt-app",Xc=36e5,ly="vite:preloadError";function Cp(t=bp){return oy(t,{asyncContext:!1})}const hy="__nuxt_plugin";function cy(t){let n=0;const o={_id:t.id||bp||"nuxt-app",_scope:I_(),provide:void 0,versions:{get nuxt(){return"4.2.2"},get vue(){return o.vueApp.version}},payload:zn({...t.ssrContext?.payload||{},data:zn({}),state:cr({}),once:new Set,_errors:zn({})}),static:{data:{}},runWithContext(d){return o._scope.active&&!Wf()?o._scope.run(()=>Qc(o,d)):Qc(o,d)},isHydrating:!0,deferHydration(){if(!o.isHydrating)return()=>{};n++;let d=!1;return()=>{if(!d&&(d=!0,n--,n===0))return o.isHydrating=!1,o.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:zn({}),_payloadRevivers:{},...t};{const d=window.__NUXT__;if(d)for(const u in d)switch(u){case"data":case"state":case"_errors":Object.assign(o.payload[u],d[u]);break;default:o.payload[u]=d[u]}}o.hooks=Lp(),o.hook=o.hooks.hook,o.callHook=o.hooks.callHook,o.provide=(d,u)=>{const f="$"+d;qa(o,f,u),qa(o.vueApp.config.globalProperties,f,u)},qa(o.vueApp,"$nuxt",o),qa(o.vueApp.config.globalProperties,"$nuxt",o);{window.addEventListener(ly,u=>{o.callHook("app:chunkError",{error:u.payload}),u.payload.message.includes("Unable to preload CSS")&&u.preventDefault()}),window.useNuxtApp||=si;const d=o.hook("app:error",(...u)=>{console.error("[nuxt] error caught during app initialization",...u)});o.hook("app:mounted",d)}const c=o.payload.config;return o.provide("config",c),o}function fy(t,n){n.hooks&&t.hooks.addHooks(n.hooks)}async function dy(t,n){if(typeof n=="function"){const{provide:o}=await t.runWithContext(()=>n(t))||{};if(o&&typeof o=="object")for(const c in o)t.provide(c,o[c])}}async function py(t,n){const o=new Set,c=[],d=[];let u,f=0;async function _(y){const k=y.dependsOn?.filter(b=>n.some(w=>w._name===b)&&!o.has(b))??[];if(k.length>0)c.push([new Set(k),y]);else{const b=dy(t,y).then(async()=>{y._name&&(o.add(y._name),await Promise.all(c.map(async([w,B])=>{w.has(y._name)&&(w.delete(y._name),w.size===0&&(f++,await _(B)))})))}).catch(w=>{if(!y.parallel&&!t.payload.error)throw w;u||=w});y.parallel?d.push(b):await b}}for(const y of n)fy(t,y);for(const y of n)await _(y);if(await Promise.all(d),f)for(let y=0;y<f;y++)await Promise.all(d);if(u)throw t.payload.error||u}function bn(t){if(typeof t=="function")return t;const n=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[hy]:!0,_name:n})}function Qc(t,n,o){const c=()=>n();return Cp(t._id).set(t),t.vueApp.runWithContext(c)}function _y(t){let n;return Nh()&&(n=Hs()?.appContext.app.$nuxt),n||=Cp(t).tryUse(),n||null}function si(t){const n=_y(t);if(!n)throw new Error("[nuxt] instance unavailable");return n}function Su(t){return si().$config}function qa(t,n,o){Object.defineProperty(t,n,{get:()=>o})}function gy(t,n){return{ctx:{table:t},matchAll:o=>wp(o,t)}}function xp(t){const n={};for(const o in t)n[o]=o==="dynamic"?new Map(Object.entries(t[o]).map(([c,d])=>[c,xp(d)])):new Map(Object.entries(t[o]));return n}function my(t){return gy(xp(t))}function wp(t,n,o){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const c=[];for(const[u,f]of tf(n.wildcard))(t===u||t.startsWith(u+"/"))&&c.push(f);for(const[u,f]of tf(n.dynamic))if(t.startsWith(u+"/")){const _="/"+t.slice(u.length).split("/").splice(2).join("/");c.push(...wp(_,f))}const d=n.static.get(t);return d&&c.push(d),c.filter(Boolean)}function tf(t){return[...t.entries()].sort((n,o)=>n[0].length-o[0].length)}function Zl(t){if(t===null||typeof t!="object")return!1;const n=Object.getPrototypeOf(t);return n!==null&&n!==Object.prototype&&Object.getPrototypeOf(n)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function _h(t,n,o=".",c){if(!Zl(n))return _h(t,{},o,c);const d=Object.assign({},n);for(const u in t){if(u==="__proto__"||u==="constructor")continue;const f=t[u];f!=null&&(c&&c(d,u,f,o)||(Array.isArray(f)&&Array.isArray(d[u])?d[u]=[...f,...d[u]]:Zl(f)&&Zl(d[u])?d[u]=_h(f,d[u],(o?`${o}.`:"")+u.toString(),c):d[u]=f))}return d}function yy(t){return(...n)=>n.reduce((o,c)=>_h(o,c,"",t),{})}const kp=yy();function vy(t,n){try{return n in t}catch{return!1}}class ef extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(n,o={}){super(n,o),o.cause&&!this.cause&&(this.cause=o.cause)}toJSON(){const n={message:this.message,statusCode:gh(this.statusCode,500)};return this.statusMessage&&(n.statusMessage=Ep(this.statusMessage)),this.data!==void 0&&(n.data=this.data),n}}function Ly(t){if(typeof t=="string")return new ef(t);if(by(t))return t;const n=new ef(t.message??t.statusMessage??"",{cause:t.cause||t});if(vy(t,"stack"))try{Object.defineProperty(n,"stack",{get(){return t.stack}})}catch{try{n.stack=t.stack}catch{}}if(t.data&&(n.data=t.data),t.statusCode?n.statusCode=gh(t.statusCode,n.statusCode):t.status&&(n.statusCode=gh(t.status,n.statusCode)),t.statusMessage?n.statusMessage=t.statusMessage:t.statusText&&(n.statusMessage=t.statusText),n.statusMessage){const o=n.statusMessage;Ep(n.statusMessage)!==o&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(n.fatal=t.fatal),t.unhandled!==void 0&&(n.unhandled=t.unhandled),n}function by(t){return t?.constructor?.__h3_error__===!0}const Cy=/[^\u0009\u0020-\u007E]/g;function Ep(t=""){return t.replace(Cy,"")}function gh(t,n=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?n:t}const xy=Symbol("layout-meta"),Au=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const $i=()=>si()?.$router,Mp=()=>Nh()?Oi(Au,si()._route):si()._route;const wy=()=>{try{if(si()._processingMiddleware)return!0}catch{return!1}return!1},kL=(t,n)=>{t||="/";const o=typeof t=="string"?t:"path"in t?ky(t):$i().resolve(t).href;if(n?.open){const{target:y="_blank",windowFeatures:k={}}=n.open,b=[];for(const[w,B]of Object.entries(k))B!==void 0&&b.push(`${w.toLowerCase()}=${B}`);return open(o,y,b.join(", ")),Promise.resolve()}const c=Gr(o,{acceptRelative:!0}),d=n?.external||c;if(d){if(!n?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:y}=new URL(o,window.location.href);if(y&&M0(y))throw new Error(`Cannot navigate to a URL with '${y}' protocol.`)}const u=wy();if(!d&&u){if(n?.replace){if(typeof t=="string"){const{pathname:y,search:k,hash:b}=gp(t);return{path:y,...k&&{query:cp(k)},...b&&{hash:b},replace:!0}}return{...t,replace:!0}}return t}const f=$i(),_=si();return d?(_._scope.stop(),n?.replace?location.replace(o):location.href=o,u?_.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):n?.replace?f.replace(t):f.push(t)};function ky(t){return fp(t.path||"",t.query||{})+(t.hash||"")}const Pp="__nuxt_error",Du=()=>ug(si().payload,"error"),Sr=t=>{const n=Nr(t);try{const o=Du();si().hooks.callHook("app:error",n),o.value||=n}catch{throw n}return n},Ey=async(t={})=>{const n=si(),o=Du();n.callHook("app:error:cleared",t),t.redirect&&await $i().replace(t.redirect),o.value=void 0},Bp=t=>!!t&&typeof t=="object"&&Pp in t,Nr=t=>{const n=Ly(t);return Object.defineProperty(n,Pp,{value:!0,configurable:!1,writable:!1}),n};function My(t){const n=By(t),o=new ArrayBuffer(n.length),c=new DataView(o);for(let d=0;d<o.byteLength;d++)c.setUint8(d,n.charCodeAt(d));return o}const Py="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function By(t){t.length%4===0&&(t=t.replace(/==?$/,""));let n="",o=0,c=0;for(let d=0;d<t.length;d++)o<<=6,o|=Py.indexOf(t[d]),c+=6,c===24&&(n+=String.fromCharCode((o&16711680)>>16),n+=String.fromCharCode((o&65280)>>8),n+=String.fromCharCode(o&255),o=c=0);return c===12?(o>>=4,n+=String.fromCharCode(o)):c===18&&(o>>=2,n+=String.fromCharCode((o&65280)>>8),n+=String.fromCharCode(o&255)),n}const Ty=-1,Sy=-2,Ay=-3,Dy=-4,Ry=-5,Oy=-6;function Iy(t,n){return Fy(JSON.parse(t),n)}function Fy(t,n){if(typeof t=="number")return d(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const o=t,c=Array(o.length);function d(u,f=!1){if(u===Ty)return;if(u===Ay)return NaN;if(u===Dy)return 1/0;if(u===Ry)return-1/0;if(u===Oy)return-0;if(f||typeof u!="number")throw new Error("Invalid input");if(u in c)return c[u];const _=o[u];if(!_||typeof _!="object")c[u]=_;else if(Array.isArray(_))if(typeof _[0]=="string"){const y=_[0],k=n?.[y];if(k){let b=_[1];return typeof b!="number"&&(b=o.push(_[1])-1),c[u]=k(d(b))}switch(y){case"Date":c[u]=new Date(_[1]);break;case"Set":const b=new Set;c[u]=b;for(let P=1;P<_.length;P+=1)b.add(d(_[P]));break;case"Map":const w=new Map;c[u]=w;for(let P=1;P<_.length;P+=2)w.set(d(_[P]),d(_[P+1]));break;case"RegExp":c[u]=new RegExp(_[1],_[2]);break;case"Object":c[u]=Object(_[1]);break;case"BigInt":c[u]=BigInt(_[1]);break;case"null":const B=Object.create(null);c[u]=B;for(let P=1;P<_.length;P+=2)B[_[P]]=d(_[P+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const P=globalThis[y],H=new P(d(_[1]));c[u]=_[2]!==void 0?H.subarray(_[2],_[3]):H;break}case"ArrayBuffer":{const P=_[1],H=My(P);c[u]=H;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const P=y.slice(9);c[u]=Temporal[P].from(_[1]);break}case"URL":{const P=new URL(_[1]);c[u]=P;break}case"URLSearchParams":{const P=new URLSearchParams(_[1]);c[u]=P;break}default:throw new Error(`Unknown type ${y}`)}}else{const y=new Array(_.length);c[u]=y;for(let k=0;k<_.length;k+=1){const b=_[k];b!==Sy&&(y[k]=d(b))}}else{const y={};c[u]=y;for(const k in _){if(k==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const b=_[k];y[k]=d(b)}}return c[u]}return d(0)}const Ny=new Set(["link","style","script","noscript"]),zy=new Set(["title","titleTemplate","script","style","noscript"]),nf=new Set(["base","meta","link","style","script","noscript"]),Gy=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),jy=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Hy=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Uy=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Zy=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),Vy=["name","property","http-equiv"],Ky=new Set(["viewport","description","keywords","robots"]);function Tp(t){const n=t.split(":");return n.length?Zy.has(n[1]):!1}function mh(t){const{props:n,tag:o}=t;if(jy.has(o))return o;if(o==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";if(t.tag==="meta"){for(const c of Vy)if(n[c]!==void 0){const d=n[c],u=d.includes(":"),f=Ky.has(d),y=!(u||f)&&t.key?`:key:${t.key}`:"";return`${o}:${d}${y}`}}if(t.key)return`${o}:key:${t.key}`;if(n.id)return`${o}:id:${n.id}`;if(zy.has(o)){const c=t.textContent||t.innerHTML;if(c)return`${o}:content:${c}`}}function rf(t){const n=t._h||t._d;if(n)return n;const o=t.textContent||t.innerHTML;return o||`${t.tag}:${Object.entries(t.props).map(([c,d])=>`${c}:${String(d)}`).join(",")}`}function mu(t,n,o){typeof t==="function"&&(!o||o!=="titleTemplate"&&!(o[0]==="o"&&o[1]==="n"))&&(t=t());let d;if(n&&(d=n(o,t)),Array.isArray(d))return d.map(u=>mu(u,n));if(d?.constructor===Object){const u={};for(const f of Object.keys(d))u[f]=mu(d[f],n,f);return u}return d}function qy(t,n){const o=t==="style"?new Map:new Set;function c(d){const u=d.trim();if(u)if(t==="style"){const[f,..._]=u.split(":").map(y=>y.trim());f&&_.length&&o.set(f,_.join(":"))}else u.split(" ").filter(Boolean).forEach(f=>o.add(f))}return typeof n=="string"?t==="style"?n.split(";").forEach(c):c(n):Array.isArray(n)?n.forEach(d=>c(d)):n&&typeof n=="object"&&Object.entries(n).forEach(([d,u])=>{u&&u!=="false"&&(t==="style"?o.set(d.trim(),u):c(d))}),o}function Sp(t,n){return t.props=t.props||{},n?t.tag==="templateParams"?(t.props=n,t):(Object.entries(n).forEach(([o,c])=>{if(c===null){t.props[o]=null;return}if(o==="class"||o==="style"){t.props[o]=qy(o,c);return}if(Hy.has(o)){if(["textContent","innerHTML"].includes(o)&&typeof c=="object"){let f=n.type;if(n.type||(f="application/json"),!f?.endsWith("json")&&f!=="speculationrules")return;n.type=f,t.props.type=f,t[o]=JSON.stringify(c)}else t[o]=c;return}const d=String(c),u=o.startsWith("data-");d==="true"||d===""?t.props[o]=u?d:!0:!c&&u&&d==="false"?t.props[o]="false":c!==void 0&&(t.props[o]=c)}),t):t}function Wy(t,n){const o=typeof n=="object"&&typeof n!="function"?n:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:n},c=Sp({tag:t,props:{}},o);return c.key&&Ny.has(c.tag)&&(c.props["data-hid"]=c._h=c.key),c.tag==="script"&&typeof c.innerHTML=="object"&&(c.innerHTML=JSON.stringify(c.innerHTML),c.props.type=c.props.type||"application/json"),Array.isArray(c.props.content)?c.props.content.map(d=>({...c,props:{...c.props,content:d}})):c}function $y(t,n){if(!t)return[];typeof t=="function"&&(t=t());const o=(d,u)=>{for(let f=0;f<n.length;f++)u=n[f](d,u);return u};t=o(void 0,t);const c=[];return t=mu(t,o),Object.entries(t||{}).forEach(([d,u])=>{if(u!==void 0)for(const f of Array.isArray(u)?u:[u])c.push(Wy(d,f))}),c.flat()}const sf=(t,n)=>t._w===n._w?t._p-n._p:t._w-n._w,of={base:-10,title:10},Yy={critical:-8,high:-1,low:2},af={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},Jy=/@import/,wo=t=>t===""||t===!0;function Xy(t,n){if(typeof n.tagPriority=="number")return n.tagPriority;let o=100;const c=Yy[n.tagPriority]||0,d=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:af;if(n.tag in of)o=of[n.tag];else if(n.tag==="meta"){const u=n.props["http-equiv"]==="content-security-policy"?"content-security-policy":n.props.charset?"charset":n.props.name==="viewport"?"viewport":null;u&&(o=af.meta[u])}else n.tag==="link"&&n.props.rel?o=d.link[n.props.rel]:n.tag==="script"?wo(n.props.async)?o=d.script.async:n.props.src&&!wo(n.props.defer)&&!wo(n.props.async)&&n.props.type!=="module"&&!n.props.type?.endsWith("json")?o=d.script.sync:wo(n.props.defer)&&n.props.src&&!wo(n.props.async)&&(o=d.script.defer):n.tag==="style"&&(o=n.innerHTML&&Jy.test(n.innerHTML)?d.style.imported:d.style.sync);return(o||100)+c}function uf(t,n){const o=typeof n=="function"?n(t):n,c=o.key||String(t.plugins.size+1);t.plugins.get(c)||(t.plugins.set(c,o),t.hooks.addHooks(o.hooks||{}))}function Qy(t={}){const n=Lp();n.addHooks(t.hooks||{});const o=!t.document,c=new Map,d=new Map,u=new Set,f={_entryCount:1,plugins:d,dirty:!1,resolvedOptions:t,hooks:n,ssr:o,entries:c,headEntries(){return[...c.values()]},use:_=>uf(f,_),push(_,y){const k={...y||{}};delete k.head;const b=k._index??f._entryCount++,w={_i:b,input:_,options:k},B={_poll(P=!1){f.dirty=!0,!P&&u.add(b),n.callHook("entries:updated",f)},dispose(){c.delete(b)&&f.invalidate()},patch(P){(!k.mode||k.mode==="server"&&o||k.mode==="client"&&!o)&&(w.input=P,c.set(b,w),B._poll())}};return B.patch(_),B},async resolveTags(){const _={tagMap:new Map,tags:[],entries:[...f.entries.values()]};for(await n.callHook("entries:resolve",_);u.size;){const B=u.values().next().value;u.delete(B);const P=c.get(B);if(P){const H={tags:$y(P.input,t.propResolvers||[]).map(z=>Object.assign(z,P.options)),entry:P};await n.callHook("entries:normalize",H),P._tags=H.tags.map((z,ht)=>(z._w=Xy(f,z),z._p=(P._i<<10)+ht,z._d=mh(z),z))}}let y=!1;_.entries.flatMap(B=>(B._tags||[]).map(P=>({...P,props:{...P.props}}))).sort(sf).reduce((B,P)=>{const H=String(P._d||P._p);if(!B.has(H))return B.set(H,P);const z=B.get(H);if((P?.tagDuplicateStrategy||(Uy.has(P.tag)?"merge":null)||(P.key&&P.key===z.key?"merge":null))==="merge"){const tt={...z.props};Object.entries(P.props).forEach(([X,G])=>tt[X]=X==="style"?new Map([...z.props.style||new Map,...G]):X==="class"?new Set([...z.props.class||new Set,...G]):G),B.set(H,{...P,props:tt})}else P._p>>10===z._p>>10&&P.tag==="meta"&&Tp(H)?(B.set(H,Object.assign([...Array.isArray(z)?z:[z],P],P)),y=!0):(P._w===z._w?P._p>z._p:P?._w<z?._w)&&B.set(H,P);return B},_.tagMap);const k=_.tagMap.get("title"),b=_.tagMap.get("titleTemplate");if(f._title=k?.textContent,b){const B=b?.textContent;if(f._titleTemplate=B,B){let P=typeof B=="function"?B(k?.textContent):B;typeof P=="string"&&!f.plugins.has("template-params")&&(P=P.replace("%s",k?.textContent||"")),k?P===null?_.tagMap.delete("title"):_.tagMap.set("title",{...k,textContent:P}):(b.tag="title",b.textContent=P)}}_.tags=Array.from(_.tagMap.values()),y&&(_.tags=_.tags.flat().sort(sf)),await n.callHook("tags:beforeResolve",_),await n.callHook("tags:resolve",_),await n.callHook("tags:afterResolve",_);const w=[];for(const B of _.tags){const{innerHTML:P,tag:H,props:z}=B;if(Gy.has(H)&&!(Object.keys(z).length===0&&!B.innerHTML&&!B.textContent)&&!(H==="meta"&&!z.content&&!z["http-equiv"]&&!z.charset)){if(H==="script"&&P){if(z.type?.endsWith("json")){const ht=typeof P=="string"?P:JSON.stringify(P);B.innerHTML=ht.replace(/</g,"\\u003C")}else typeof P=="string"&&(B.innerHTML=P.replace(new RegExp(`</${H}`,"g"),`<\\/${H}`));B._d=mh(B)}w.push(B)}}return w},invalidate(){for(const _ of c.values())u.add(_._i);f.dirty=!0,n.callHook("entries:updated",f)}};return(t?.plugins||[]).forEach(_=>uf(f,_)),f.hooks.callHook("init",f),t.init?.forEach(_=>_&&f.push(_)),f}const tv=(t,n)=>qe(n)?rg(n):n,Ap="usehead";function ev(t){return{install(o){o.config.globalProperties.$unhead=t,o.config.globalProperties.$head=t,o.provide(Ap,t)}}.install}function iv(){if(Nh()){const t=Oi(Ap);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function EL(t,n={}){const o=n.head||iv();return o.ssr?o.push(t||{},n):nv(o,t,n)}function nv(t,n,o={}){const c=Gn(!1);let d;return Zg(()=>{const f=c.value?{}:mu(n,tv);d?d.patch(f):d=t.push(f,o)}),Hs()&&(Jo(()=>{d.dispose()}),xd(()=>{c.value=!0}),Cd(()=>{c.value=!1})),d}let Xa,Qa;function rv(){return Xa=$fetch(Kh(`builds/meta/${Su().app.buildId}.json`),{responseType:"json"}),Xa.then(t=>{Qa=my(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Xa}function Ru(){return Xa||rv()}async function qh(t){const n=typeof t=="string"?t:t.path;if(await Ru(),!Qa)return console.error("[nuxt] Error creating app manifest matcher.",Qa),{};try{return kp({},...Qa.matchAll(n).reverse())}catch(o){return console.error("[nuxt] Error matching route rules.",o),{}}}async function lf(t,n={}){if(!await Rp(t))return null;const c=await ov(t,n);return await Dp(c)||null}const sv="_payload.json";async function ov(t,n={}){const o=new URL(t,"http://localhost");if(o.host!=="localhost"||Gr(o.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const c=Su(),d=n.hash||(n.fresh?Date.now():c.app.buildId),u=c.app.cdnURL,f=u&&await Rp(t)?u:c.app.baseURL;return Zh(f,o.pathname,sv+(d?`?${d}`:""))}async function Dp(t){const n=fetch(t,{cache:"force-cache"}).then(o=>o.text().then(Op));try{return await n}catch(o){console.warn("[nuxt] Cannot load payload ",t,o)}return null}async function Rp(t=Mp().path){const n=si();return t=t==="/"?t:t.replace(/\/$/,""),(await Ru()).prerendered.includes(t)?!0:n.runWithContext(async()=>{const c=await qh({path:t});return!!c.prerender&&!c.redirect})}let Br=null;async function av(){if(Br)return Br;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const n=await Op(t.textContent||""),o=t.dataset.src?await Dp(t.dataset.src):void 0;return Br={...n,...o,...window.__NUXT__},Br.config?.public&&(Br.config.public=cr(Br.config.public)),Br}async function Op(t){return await Iy(t,si()._payloadRevivers)}function uv(t,n){si()._payloadRevivers[t]=n}const lv=[["NuxtError",t=>Nr(t)],["EmptyShallowRef",t=>Go(t==="_"?void 0:t==="0n"?BigInt(0):fu(t))],["EmptyRef",t=>Gn(t==="_"?void 0:t==="0n"?BigInt(0):fu(t))],["ShallowRef",t=>Go(t)],["ShallowReactive",t=>zn(t)],["Ref",t=>Gn(t)],["Reactive",t=>cr(t)]],hv=bn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let n,o;for(const[c,d]of lv)uv(c,d);Object.assign(t.payload,([n,o]=Ds(()=>t.runWithContext(av)),n=await n,o(),n)),delete window.__NUXT__}});async function Wh(t,n={}){const o=n.document||t.resolvedOptions.document;if(!o||!t.dirty)return;const c={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",c),!!c.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async d=>{const u=new Map,f=new Promise(P=>{t.resolveTags().then(H=>{P(H.map(z=>{const ht=u.get(z._d)||0,tt={tag:z,id:(ht?`${z._d}:${ht}`:z._d)||rf(z),shouldRender:!0};return z._d&&Tp(z._d)&&u.set(z._d,ht+1),tt}))})});let _=t._dom;if(!_){_={title:o.title,elMap:new Map().set("htmlAttrs",o.documentElement).set("bodyAttrs",o.body)};for(const P of["body","head"]){const H=o[P]?.children;for(const z of H){const ht=z.tagName.toLowerCase();if(!nf.has(ht))continue;const tt=Sp({tag:ht,props:{}},{innerHTML:z.innerHTML,...z.getAttributeNames().reduce((X,G)=>(X[G]=z.getAttribute(G),X),{})||{}});if(tt.key=z.getAttribute("data-hid")||void 0,tt._d=mh(tt)||rf(tt),_.elMap.has(tt._d)){let X=1,G=tt._d;for(;_.elMap.has(G);)G=`${tt._d}:${X++}`;_.elMap.set(G,z)}else _.elMap.set(tt._d,z)}}}_.pendingSideEffects={..._.sideEffects},_.sideEffects={};function y(P,H,z){const ht=`${P}:${H}`;_.sideEffects[ht]=z,delete _.pendingSideEffects[ht]}function k({id:P,$el:H,tag:z}){const ht=z.tag.endsWith("Attrs");_.elMap.set(P,H),ht||(z.textContent&&z.textContent!==H.textContent&&(H.textContent=z.textContent),z.innerHTML&&z.innerHTML!==H.innerHTML&&(H.innerHTML=z.innerHTML),y(P,"el",()=>{H?.remove(),_.elMap.delete(P)}));for(const tt in z.props){if(!Object.prototype.hasOwnProperty.call(z.props,tt))continue;const X=z.props[tt];if(tt.startsWith("on")&&typeof X=="function"){const $=H?.dataset;if($&&$[`${tt}fired`]){const rt=tt.slice(0,-5);X.call(H,new Event(rt.substring(2)))}H.getAttribute(`data-${tt}`)!==""&&((z.tag==="bodyAttrs"?o.defaultView:H).addEventListener(tt.substring(2),X.bind(H)),H.setAttribute(`data-${tt}`,""));continue}const G=`attr:${tt}`;if(tt==="class"){if(!X)continue;for(const $ of X)ht&&y(P,`${G}:${$}`,()=>H.classList.remove($)),!H.classList.contains($)&&H.classList.add($)}else if(tt==="style"){if(!X)continue;for(const[$,rt]of X)y(P,`${G}:${$}`,()=>{H.style.removeProperty($)}),H.style.setProperty($,rt)}else X!==!1&&X!==null&&(H.getAttribute(tt)!==X&&H.setAttribute(tt,X===!0?"":String(X)),ht&&y(P,G,()=>H.removeAttribute(tt)))}}const b=[],w={bodyClose:void 0,bodyOpen:void 0,head:void 0},B=await f;for(const P of B){const{tag:H,shouldRender:z,id:ht}=P;if(z){if(H.tag==="title"){o.title=H.textContent,y("title","",()=>o.title=_.title);continue}P.$el=P.$el||_.elMap.get(ht),P.$el?k(P):nf.has(H.tag)&&b.push(P)}}for(const P of b){const H=P.tag.tagPosition||"head";P.$el=o.createElement(P.tag.tag),k(P),w[H]=w[H]||o.createDocumentFragment(),w[H].appendChild(P.$el)}for(const P of B)await t.hooks.callHook("dom:renderTag",P,o,y);w.head&&o.head.appendChild(w.head),w.bodyOpen&&o.body.insertBefore(w.bodyOpen,o.body.firstChild),w.bodyClose&&o.body.appendChild(w.bodyClose);for(const P in _.pendingSideEffects)_.pendingSideEffects[P]();t._dom=_,await t.hooks.callHook("dom:rendered",{renders:B}),d()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function cv(t={}){const n=t.domOptions?.render||Wh;t.document=t.document||(typeof window<"u"?document:void 0);const o=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return Qy({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":n}}],init:[o?JSON.parse(o):!1,...t.init||[]]})}function fv(t,n){let o=0;return()=>{const c=++o;n(()=>{o===c&&t()})}}function dv(t={}){const n=cv({domOptions:{render:fv(()=>Wh(n),o=>setTimeout(o,0))},...t});return n.install=ev(n),n}const pv={disableDefaults:!0},_v=bn({name:"nuxt:head",enforce:"pre",setup(t){const n=dv(pv);t.vueApp.use(n);{let o=!0;const c=async()=>{o=!1,await Wh(n)};n.hooks.hook("dom:beforeRender",d=>{d.shouldRender=!o}),t.hooks.hook("page:start",()=>{o=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||c()}),t.hooks.hook("app:error",c),t.hooks.hook("app:suspense:resolve",c)}}});const Cs=typeof document<"u";function Ip(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function gv(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ip(t.default)}const be=Object.assign;function Vl(t,n){const o={};for(const c in n){const d=n[c];o[c]=un(d)?d.map(t):t(d)}return o}const Fo=()=>{},un=Array.isArray;function hf(t,n){const o={};for(const c in t)o[c]=c in n?n[c]:t[c];return o}const Fp=/#/g,mv=/&/g,yv=/\//g,vv=/=/g,Lv=/\?/g,Np=/\+/g,bv=/%5B/g,Cv=/%5D/g,zp=/%5E/g,xv=/%60/g,Gp=/%7B/g,wv=/%7C/g,jp=/%7D/g,kv=/%20/g;function $h(t){return t==null?"":encodeURI(""+t).replace(wv,"|").replace(bv,"[").replace(Cv,"]")}function Ev(t){return $h(t).replace(Gp,"{").replace(jp,"}").replace(zp,"^")}function yh(t){return $h(t).replace(Np,"%2B").replace(kv,"+").replace(Fp,"%23").replace(mv,"%26").replace(xv,"`").replace(Gp,"{").replace(jp,"}").replace(zp,"^")}function Mv(t){return yh(t).replace(vv,"%3D")}function Pv(t){return $h(t).replace(Fp,"%23").replace(Lv,"%3F")}function Bv(t){return Pv(t).replace(yv,"%2F")}function Vo(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Tv=/\/$/,Sv=t=>t.replace(Tv,"");function Kl(t,n,o="/"){let c,d={},u="",f="";const _=n.indexOf("#");let y=n.indexOf("?");return y=_>=0&&y>_?-1:y,y>=0&&(c=n.slice(0,y),u=n.slice(y,_>0?_:n.length),d=t(u.slice(1))),_>=0&&(c=c||n.slice(0,_),f=n.slice(_,n.length)),c=Ov(c??n,o),{fullPath:c+u+f,path:c,query:d,hash:Vo(f)}}function Av(t,n){const o=n.query?t(n.query):"";return n.path+(o&&"?")+o+(n.hash||"")}function cf(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function Dv(t,n,o){const c=n.matched.length-1,d=o.matched.length-1;return c>-1&&c===d&&zs(n.matched[c],o.matched[d])&&Hp(n.params,o.params)&&t(n.query)===t(o.query)&&n.hash===o.hash}function zs(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Hp(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const o in t)if(!Rv(t[o],n[o]))return!1;return!0}function Rv(t,n){return un(t)?ff(t,n):un(n)?ff(n,t):t===n}function ff(t,n){return un(n)?t.length===n.length&&t.every((o,c)=>o===n[c]):t.length===1&&t[0]===n}function Ov(t,n){if(t.startsWith("/"))return t;if(!t)return n;const o=n.split("/"),c=t.split("/"),d=c[c.length-1];(d===".."||d===".")&&c.push("");let u=o.length-1,f,_;for(f=0;f<c.length;f++)if(_=c[f],_!==".")if(_==="..")u>1&&u--;else break;return o.slice(0,u).join("/")+"/"+c.slice(f).join("/")}const Ki={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let vh=(function(t){return t.pop="pop",t.push="push",t})({}),ql=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Iv(t){if(!t)if(Cs){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Sv(t)}const Fv=/^[^#]+#/;function Nv(t,n){return t.replace(Fv,"#")+n}function zv(t,n){const o=document.documentElement.getBoundingClientRect(),c=t.getBoundingClientRect();return{behavior:n.behavior,left:c.left-o.left-(n.left||0),top:c.top-o.top-(n.top||0)}}const Ou=()=>({left:window.scrollX,top:window.scrollY});function Gv(t){let n;if("el"in t){const o=t.el,c=typeof o=="string"&&o.startsWith("#"),d=typeof o=="string"?c?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!d)return;n=zv(d,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function df(t,n){return(history.state?history.state.position-n:-1)+t}const Lh=new Map;function jv(t,n){Lh.set(t,n)}function Hv(t){const n=Lh.get(t);return Lh.delete(t),n}function Uv(t){return typeof t=="string"||t&&typeof t=="object"}function Up(t){return typeof t=="string"||typeof t=="symbol"}let ze=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Zp=Symbol("");ze.MATCHER_NOT_FOUND+"",ze.NAVIGATION_GUARD_REDIRECT+"",ze.NAVIGATION_ABORTED+"",ze.NAVIGATION_CANCELLED+"",ze.NAVIGATION_DUPLICATED+"";function Gs(t,n){return be(new Error,{type:t,[Zp]:!0},n)}function Rn(t,n){return t instanceof Error&&Zp in t&&(n==null||!!(t.type&n))}const Zv=["params","query","hash"];function Vv(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const n={};for(const o of Zv)o in t&&(n[o]=t[o]);return JSON.stringify(n,null,2)}function Kv(t){const n={};if(t===""||t==="?")return n;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let c=0;c<o.length;++c){const d=o[c].replace(Np," "),u=d.indexOf("="),f=Vo(u<0?d:d.slice(0,u)),_=u<0?null:Vo(d.slice(u+1));if(f in n){let y=n[f];un(y)||(y=n[f]=[y]),y.push(_)}else n[f]=_}return n}function pf(t){let n="";for(let o in t){const c=t[o];if(o=Mv(o),c==null){c!==void 0&&(n+=(n.length?"&":"")+o);continue}(un(c)?c.map(d=>d&&yh(d)):[c&&yh(c)]).forEach(d=>{d!==void 0&&(n+=(n.length?"&":"")+o,d!=null&&(n+="="+d))})}return n}function qv(t){const n={};for(const o in t){const c=t[o];c!==void 0&&(n[o]=un(c)?c.map(d=>d==null?null:""+d):c==null?c:""+c)}return n}const Wv=Symbol(""),_f=Symbol(""),Yh=Symbol(""),Vp=Symbol(""),bh=Symbol("");function ko(){let t=[];function n(c){return t.push(c),()=>{const d=t.indexOf(c);d>-1&&t.splice(d,1)}}function o(){t=[]}return{add:n,list:()=>t.slice(),reset:o}}function ar(t,n,o,c,d,u=f=>f()){const f=c&&(c.enterCallbacks[d]=c.enterCallbacks[d]||[]);return()=>new Promise((_,y)=>{const k=B=>{B===!1?y(Gs(ze.NAVIGATION_ABORTED,{from:o,to:n})):B instanceof Error?y(B):Uv(B)?y(Gs(ze.NAVIGATION_GUARD_REDIRECT,{from:n,to:B})):(f&&c.enterCallbacks[d]===f&&typeof B=="function"&&f.push(B),_())},b=u(()=>t.call(c&&c.instances[d],n,o,k));let w=Promise.resolve(b);t.length<3&&(w=w.then(k)),w.catch(B=>y(B))})}function Wl(t,n,o,c,d=u=>u()){const u=[];for(const f of t)for(const _ in f.components){let y=f.components[_];if(!(n!=="beforeRouteEnter"&&!f.instances[_]))if(Ip(y)){const k=(y.__vccOpts||y)[n];k&&u.push(ar(k,o,c,f,_,d))}else{let k=y();u.push(()=>k.then(b=>{if(!b)throw new Error(`Couldn't resolve component "${_}" at "${f.path}"`);const w=gv(b)?b.default:b;f.mods[_]=b,f.components[_]=w;const B=(w.__vccOpts||w)[n];return B&&ar(B,o,c,f,_,d)()}))}}return u}function $v(t,n){const o=[],c=[],d=[],u=Math.max(n.matched.length,t.matched.length);for(let f=0;f<u;f++){const _=n.matched[f];_&&(t.matched.find(k=>zs(k,_))?c.push(_):o.push(_));const y=t.matched[f];y&&(n.matched.find(k=>zs(k,y))||d.push(y))}return[o,c,d]}let Yv=()=>location.protocol+"//"+location.host;function Kp(t,n){const{pathname:o,search:c,hash:d}=n,u=t.indexOf("#");if(u>-1){let f=d.includes(t.slice(u))?t.slice(u).length:1,_=d.slice(f);return _[0]!=="/"&&(_="/"+_),cf(_,"")}return cf(o,t)+c+d}function Jv(t,n,o,c){let d=[],u=[],f=null;const _=({state:B})=>{const P=Kp(t,location),H=o.value,z=n.value;let ht=0;if(B){if(o.value=P,n.value=B,f&&f===H){f=null;return}ht=z?B.position-z.position:0}else c(P);d.forEach(tt=>{tt(o.value,H,{delta:ht,type:vh.pop,direction:ht?ht>0?ql.forward:ql.back:ql.unknown})})};function y(){f=o.value}function k(B){d.push(B);const P=()=>{const H=d.indexOf(B);H>-1&&d.splice(H,1)};return u.push(P),P}function b(){if(document.visibilityState==="hidden"){const{history:B}=window;if(!B.state)return;B.replaceState(be({},B.state,{scroll:Ou()}),"")}}function w(){for(const B of u)B();u=[],window.removeEventListener("popstate",_),window.removeEventListener("pagehide",b),document.removeEventListener("visibilitychange",b)}return window.addEventListener("popstate",_),window.addEventListener("pagehide",b),document.addEventListener("visibilitychange",b),{pauseListeners:y,listen:k,destroy:w}}function gf(t,n,o,c=!1,d=!1){return{back:t,current:n,forward:o,replaced:c,position:window.history.length,scroll:d?Ou():null}}function Xv(t){const{history:n,location:o}=window,c={value:Kp(t,o)},d={value:n.state};d.value||u(c.value,{back:null,current:c.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function u(y,k,b){const w=t.indexOf("#"),B=w>-1?(o.host&&document.querySelector("base")?t:t.slice(w))+y:Yv()+t+y;try{n[b?"replaceState":"pushState"](k,"",B),d.value=k}catch(P){console.error(P),o[b?"replace":"assign"](B)}}function f(y,k){u(y,be({},n.state,gf(d.value.back,y,d.value.forward,!0),k,{position:d.value.position}),!0),c.value=y}function _(y,k){const b=be({},d.value,n.state,{forward:y,scroll:Ou()});u(b.current,b,!0),u(y,be({},gf(c.value,y,null),{position:b.position+1},k),!1),c.value=y}return{location:c,state:d,push:_,replace:f}}function Qv(t){t=Iv(t);const n=Xv(t),o=Jv(t,n.state,n.location,n.replace);function c(u,f=!0){f||o.pauseListeners(),history.go(u)}const d=be({location:"",base:t,go:c,createHref:Nv.bind(null,t)},n,o);return Object.defineProperty(d,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(d,"state",{enumerable:!0,get:()=>n.state.value}),d}let Dr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Ye=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Ye||{});const t4={type:Dr.Static,value:""},e4=/[a-zA-Z0-9_]/;function i4(t){if(!t)return[[]];if(t==="/")return[[t4]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(P){throw new Error(`ERR (${o})/"${k}": ${P}`)}let o=Ye.Static,c=o;const d=[];let u;function f(){u&&d.push(u),u=[]}let _=0,y,k="",b="";function w(){k&&(o===Ye.Static?u.push({type:Dr.Static,value:k}):o===Ye.Param||o===Ye.ParamRegExp||o===Ye.ParamRegExpEnd?(u.length>1&&(y==="*"||y==="+")&&n(`A repeatable param (${k}) must be alone in its segment. eg: '/:ids+.`),u.push({type:Dr.Param,value:k,regexp:b,repeatable:y==="*"||y==="+",optional:y==="*"||y==="?"})):n("Invalid state to consume buffer"),k="")}function B(){k+=y}for(;_<t.length;){if(y=t[_++],y==="\\"&&o!==Ye.ParamRegExp){c=o,o=Ye.EscapeNext;continue}switch(o){case Ye.Static:y==="/"?(k&&w(),f()):y===":"?(w(),o=Ye.Param):B();break;case Ye.EscapeNext:B(),o=c;break;case Ye.Param:y==="("?o=Ye.ParamRegExp:e4.test(y)?B():(w(),o=Ye.Static,y!=="*"&&y!=="?"&&y!=="+"&&_--);break;case Ye.ParamRegExp:y===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+y:o=Ye.ParamRegExpEnd:b+=y;break;case Ye.ParamRegExpEnd:w(),o=Ye.Static,y!=="*"&&y!=="?"&&y!=="+"&&_--,b="";break;default:n("Unknown state");break}}return o===Ye.ParamRegExp&&n(`Unfinished custom RegExp for param "${k}"`),w(),f(),d}const mf="[^/]+?",n4={sensitive:!1,strict:!1,start:!0,end:!0};var Li=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Li||{});const r4=/[.+*?^${}()[\]/\\]/g;function s4(t,n){const o=be({},n4,n),c=[];let d=o.start?"^":"";const u=[];for(const k of t){const b=k.length?[]:[Li.Root];o.strict&&!k.length&&(d+="/");for(let w=0;w<k.length;w++){const B=k[w];let P=Li.Segment+(o.sensitive?Li.BonusCaseSensitive:0);if(B.type===Dr.Static)w||(d+="/"),d+=B.value.replace(r4,"\\$&"),P+=Li.Static;else if(B.type===Dr.Param){const{value:H,repeatable:z,optional:ht,regexp:tt}=B;u.push({name:H,repeatable:z,optional:ht});const X=tt||mf;if(X!==mf){P+=Li.BonusCustomRegExp;try{`${X}`}catch($){throw new Error(`Invalid custom RegExp for param "${H}" (${X}): `+$.message)}}let G=z?`((?:${X})(?:/(?:${X}))*)`:`(${X})`;w||(G=ht&&k.length<2?`(?:/${G})`:"/"+G),ht&&(G+="?"),d+=G,P+=Li.Dynamic,ht&&(P+=Li.BonusOptional),z&&(P+=Li.BonusRepeatable),X===".*"&&(P+=Li.BonusWildcard)}b.push(P)}c.push(b)}if(o.strict&&o.end){const k=c.length-1;c[k][c[k].length-1]+=Li.BonusStrict}o.strict||(d+="/?"),o.end?d+="$":o.strict&&!d.endsWith("/")&&(d+="(?:/|$)");const f=new RegExp(d,o.sensitive?"":"i");function _(k){const b=k.match(f),w={};if(!b)return null;for(let B=1;B<b.length;B++){const P=b[B]||"",H=u[B-1];w[H.name]=P&&H.repeatable?P.split("/"):P}return w}function y(k){let b="",w=!1;for(const B of t){(!w||!b.endsWith("/"))&&(b+="/"),w=!1;for(const P of B)if(P.type===Dr.Static)b+=P.value;else if(P.type===Dr.Param){const{value:H,repeatable:z,optional:ht}=P,tt=H in k?k[H]:"";if(un(tt)&&!z)throw new Error(`Provided param "${H}" is an array but it is not repeatable (* or + modifiers)`);const X=un(tt)?tt.join("/"):tt;if(!X)if(ht)B.length<2&&(b.endsWith("/")?b=b.slice(0,-1):w=!0);else throw new Error(`Missing required param "${H}"`);b+=X}}return b||"/"}return{re:f,score:c,keys:u,parse:_,stringify:y}}function o4(t,n){let o=0;for(;o<t.length&&o<n.length;){const c=n[o]-t[o];if(c)return c;o++}return t.length<n.length?t.length===1&&t[0]===Li.Static+Li.Segment?-1:1:t.length>n.length?n.length===1&&n[0]===Li.Static+Li.Segment?1:-1:0}function qp(t,n){let o=0;const c=t.score,d=n.score;for(;o<c.length&&o<d.length;){const u=o4(c[o],d[o]);if(u)return u;o++}if(Math.abs(d.length-c.length)===1){if(yf(c))return 1;if(yf(d))return-1}return d.length-c.length}function yf(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const a4={strict:!1,end:!0,sensitive:!1};function u4(t,n,o){const c=s4(i4(t.path),o),d=be(c,{record:t,parent:n,children:[],alias:[]});return n&&!d.record.aliasOf==!n.record.aliasOf&&n.children.push(d),d}function l4(t,n){const o=[],c=new Map;n=hf(a4,n);function d(w){return c.get(w)}function u(w,B,P){const H=!P,z=Lf(w);z.aliasOf=P&&P.record;const ht=hf(n,w),tt=[z];if("alias"in w){const $=typeof w.alias=="string"?[w.alias]:w.alias;for(const rt of $)tt.push(Lf(be({},z,{components:P?P.record.components:z.components,path:rt,aliasOf:P?P.record:z})))}let X,G;for(const $ of tt){const{path:rt}=$;if(B&&rt[0]!=="/"){const pt=B.record.path,kt=pt[pt.length-1]==="/"?"":"/";$.path=B.record.path+(rt&&kt+rt)}if(X=u4($,B,ht),P?P.alias.push(X):(G=G||X,G!==X&&G.alias.push(X),H&&w.name&&!bf(X)&&f(w.name)),Wp(X)&&y(X),z.children){const pt=z.children;for(let kt=0;kt<pt.length;kt++)u(pt[kt],X,P&&P.children[kt])}P=P||X}return G?()=>{f(G)}:Fo}function f(w){if(Up(w)){const B=c.get(w);B&&(c.delete(w),o.splice(o.indexOf(B),1),B.children.forEach(f),B.alias.forEach(f))}else{const B=o.indexOf(w);B>-1&&(o.splice(B,1),w.record.name&&c.delete(w.record.name),w.children.forEach(f),w.alias.forEach(f))}}function _(){return o}function y(w){const B=f4(w,o);o.splice(B,0,w),w.record.name&&!bf(w)&&c.set(w.record.name,w)}function k(w,B){let P,H={},z,ht;if("name"in w&&w.name){if(P=c.get(w.name),!P)throw Gs(ze.MATCHER_NOT_FOUND,{location:w});ht=P.record.name,H=be(vf(B.params,P.keys.filter(G=>!G.optional).concat(P.parent?P.parent.keys.filter(G=>G.optional):[]).map(G=>G.name)),w.params&&vf(w.params,P.keys.map(G=>G.name))),z=P.stringify(H)}else if(w.path!=null)z=w.path,P=o.find(G=>G.re.test(z)),P&&(H=P.parse(z),ht=P.record.name);else{if(P=B.name?c.get(B.name):o.find(G=>G.re.test(B.path)),!P)throw Gs(ze.MATCHER_NOT_FOUND,{location:w,currentLocation:B});ht=P.record.name,H=be({},B.params,w.params),z=P.stringify(H)}const tt=[];let X=P;for(;X;)tt.unshift(X.record),X=X.parent;return{name:ht,path:z,params:H,matched:tt,meta:c4(tt)}}t.forEach(w=>u(w));function b(){o.length=0,c.clear()}return{addRoute:u,resolve:k,removeRoute:f,clearRoutes:b,getRoutes:_,getRecordMatcher:d}}function vf(t,n){const o={};for(const c of n)c in t&&(o[c]=t[c]);return o}function Lf(t){const n={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:h4(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function h4(t){const n={},o=t.props||!1;if("component"in t)n.default=o;else for(const c in t.components)n[c]=typeof o=="object"?o[c]:o;return n}function bf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function c4(t){return t.reduce((n,o)=>be(n,o.meta),{})}function f4(t,n){let o=0,c=n.length;for(;o!==c;){const u=o+c>>1;qp(t,n[u])<0?c=u:o=u+1}const d=d4(t);return d&&(c=n.lastIndexOf(d,c-1)),c}function d4(t){let n=t;for(;n=n.parent;)if(Wp(n)&&qp(t,n)===0)return n}function Wp({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Cf(t){const n=Oi(Yh),o=Oi(Vp),c=rn(()=>{const y=Ae(t.to);return n.resolve(y)}),d=rn(()=>{const{matched:y}=c.value,{length:k}=y,b=y[k-1],w=o.matched;if(!b||!w.length)return-1;const B=w.findIndex(zs.bind(null,b));if(B>-1)return B;const P=xf(y[k-2]);return k>1&&xf(b)===P&&w[w.length-1].path!==P?w.findIndex(zs.bind(null,y[k-2])):B}),u=rn(()=>d.value>-1&&y4(o.params,c.value.params)),f=rn(()=>d.value>-1&&d.value===o.matched.length-1&&Hp(o.params,c.value.params));function _(y={}){if(m4(y)){const k=n[Ae(t.replace)?"replace":"push"](Ae(t.to)).catch(Fo);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>k),k}return Promise.resolve()}return{route:c,href:rn(()=>c.value.href),isActive:u,isExactActive:f,navigate:_}}function p4(t){return t.length===1?t[0]:t}const _4=$o({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cf,setup(t,{slots:n}){const o=cr(Cf(t)),{options:c}=Oi(Yh),d=rn(()=>({[wf(t.activeClass,c.linkActiveClass,"router-link-active")]:o.isActive,[wf(t.exactActiveClass,c.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const u=n.default&&p4(n.default(o));return t.custom?u:qi("a",{"aria-current":o.isExactActive?t.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:d.value},u)}}}),g4=_4;function m4(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function y4(t,n){for(const o in n){const c=n[o],d=t[o];if(typeof c=="string"){if(c!==d)return!1}else if(!un(d)||d.length!==c.length||c.some((u,f)=>u!==d[f]))return!1}return!0}function xf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wf=(t,n,o)=>t??n??o,v4=$o({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:o}){const c=Oi(bh),d=rn(()=>t.route||c.value),u=Oi(_f,0),f=rn(()=>{let k=Ae(u);const{matched:b}=d.value;let w;for(;(w=b[k])&&!w.components;)k++;return k}),_=rn(()=>d.value.matched[f.value]);Ts(_f,rn(()=>f.value+1)),Ts(Wv,_),Ts(bh,d);const y=Gn();return Ss(()=>[y.value,_.value,t.name],([k,b,w],[B,P,H])=>{b&&(b.instances[w]=k,P&&P!==b&&k&&k===B&&(b.leaveGuards.size||(b.leaveGuards=P.leaveGuards),b.updateGuards.size||(b.updateGuards=P.updateGuards))),k&&b&&(!P||!zs(b,P)||!B)&&(b.enterCallbacks[w]||[]).forEach(z=>z(k))},{flush:"post"}),()=>{const k=d.value,b=t.name,w=_.value,B=w&&w.components[b];if(!B)return kf(o.default,{Component:B,route:k});const P=w.props[b],H=P?P===!0?k.params:typeof P=="function"?P(k):P:null,ht=qi(B,be({},H,n,{onVnodeUnmounted:tt=>{tt.component.isUnmounted&&(w.instances[b]=null)},ref:y}));return kf(o.default,{Component:ht,route:k})||ht}}});function kf(t,n){if(!t)return null;const o=t(n);return o.length===1?o[0]:o}const $p=v4;function L4(t){const n=l4(t.routes,t),o=t.parseQuery||Kv,c=t.stringifyQuery||pf,d=t.history,u=ko(),f=ko(),_=ko(),y=Go(Ki);let k=Ki;Cs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=Vl.bind(null,ft=>""+ft),w=Vl.bind(null,Bv),B=Vl.bind(null,Vo);function P(ft,Dt){let Bt,jt;return Up(ft)?(Bt=n.getRecordMatcher(ft),jt=Dt):jt=ft,n.addRoute(jt,Bt)}function H(ft){const Dt=n.getRecordMatcher(ft);Dt&&n.removeRoute(Dt)}function z(){return n.getRoutes().map(ft=>ft.record)}function ht(ft){return!!n.getRecordMatcher(ft)}function tt(ft,Dt){if(Dt=be({},Dt||y.value),typeof ft=="string"){const V=Kl(o,ft,Dt.path),ut=n.resolve({path:V.path},Dt),Lt=d.createHref(V.fullPath);return be(V,ut,{params:B(ut.params),hash:Vo(V.hash),redirectedFrom:void 0,href:Lt})}let Bt;if(ft.path!=null)Bt=be({},ft,{path:Kl(o,ft.path,Dt.path).path});else{const V=be({},ft.params);for(const ut in V)V[ut]==null&&delete V[ut];Bt=be({},ft,{params:w(V)}),Dt.params=w(Dt.params)}const jt=n.resolve(Bt,Dt),ne=ft.hash||"";jt.params=b(B(jt.params));const _e=Av(c,be({},ft,{hash:Ev(ne),path:jt.path})),N=d.createHref(_e);return be({fullPath:_e,hash:ne,query:c===pf?qv(ft.query):ft.query||{}},jt,{redirectedFrom:void 0,href:N})}function X(ft){return typeof ft=="string"?Kl(o,ft,y.value.path):be({},ft)}function G(ft,Dt){if(k!==ft)return Gs(ze.NAVIGATION_CANCELLED,{from:Dt,to:ft})}function $(ft){return kt(ft)}function rt(ft){return $(be(X(ft),{replace:!0}))}function pt(ft,Dt){const Bt=ft.matched[ft.matched.length-1];if(Bt&&Bt.redirect){const{redirect:jt}=Bt;let ne=typeof jt=="function"?jt(ft,Dt):jt;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=X(ne):{path:ne},ne.params={}),be({query:ft.query,hash:ft.hash,params:ne.path!=null?{}:ft.params},ne)}}function kt(ft,Dt){const Bt=k=tt(ft),jt=y.value,ne=ft.state,_e=ft.force,N=ft.replace===!0,V=pt(Bt,jt);if(V)return kt(be(X(V),{state:typeof V=="object"?be({},ne,V.state):ne,force:_e,replace:N}),Dt||Bt);const ut=Bt;ut.redirectedFrom=Dt;let Lt;return!_e&&Dv(c,jt,Bt)&&(Lt=Gs(ze.NAVIGATION_DUPLICATED,{to:ut,from:jt}),ue(jt,jt,!0,!1)),(Lt?Promise.resolve(Lt):xt(ut,jt)).catch(dt=>Rn(dt)?Rn(dt,ze.NAVIGATION_GUARD_REDIRECT)?dt:Ut(dt):_t(dt,ut,jt)).then(dt=>{if(dt){if(Rn(dt,ze.NAVIGATION_GUARD_REDIRECT))return kt(be({replace:N},X(dt.to),{state:typeof dt.to=="object"?be({},ne,dt.to.state):ne,force:_e}),Dt||ut)}else dt=mt(ut,jt,!0,N,ne);return Pt(ut,jt,dt),dt})}function zt(ft,Dt){const Bt=G(ft,Dt);return Bt?Promise.reject(Bt):Promise.resolve()}function wt(ft){const Dt=xe.values().next().value;return Dt&&typeof Dt.runWithContext=="function"?Dt.runWithContext(ft):ft()}function xt(ft,Dt){let Bt;const[jt,ne,_e]=$v(ft,Dt);Bt=Wl(jt.reverse(),"beforeRouteLeave",ft,Dt);for(const V of jt)V.leaveGuards.forEach(ut=>{Bt.push(ar(ut,ft,Dt))});const N=zt.bind(null,ft,Dt);return Bt.push(N),Jt(Bt).then(()=>{Bt=[];for(const V of u.list())Bt.push(ar(V,ft,Dt));return Bt.push(N),Jt(Bt)}).then(()=>{Bt=Wl(ne,"beforeRouteUpdate",ft,Dt);for(const V of ne)V.updateGuards.forEach(ut=>{Bt.push(ar(ut,ft,Dt))});return Bt.push(N),Jt(Bt)}).then(()=>{Bt=[];for(const V of _e)if(V.beforeEnter)if(un(V.beforeEnter))for(const ut of V.beforeEnter)Bt.push(ar(ut,ft,Dt));else Bt.push(ar(V.beforeEnter,ft,Dt));return Bt.push(N),Jt(Bt)}).then(()=>(ft.matched.forEach(V=>V.enterCallbacks={}),Bt=Wl(_e,"beforeRouteEnter",ft,Dt,wt),Bt.push(N),Jt(Bt))).then(()=>{Bt=[];for(const V of f.list())Bt.push(ar(V,ft,Dt));return Bt.push(N),Jt(Bt)}).catch(V=>Rn(V,ze.NAVIGATION_CANCELLED)?V:Promise.reject(V))}function Pt(ft,Dt,Bt){_.list().forEach(jt=>wt(()=>jt(ft,Dt,Bt)))}function mt(ft,Dt,Bt,jt,ne){const _e=G(ft,Dt);if(_e)return _e;const N=Dt===Ki,V=Cs?history.state:{};Bt&&(jt||N?d.replace(ft.fullPath,be({scroll:N&&V&&V.scroll},ne)):d.push(ft.fullPath,ne)),y.value=ft,ue(ft,Dt,Bt,N),Ut()}let Gt;function Qt(){Gt||(Gt=d.listen((ft,Dt,Bt)=>{if(!ae.listening)return;const jt=tt(ft),ne=pt(jt,ae.currentRoute.value);if(ne){kt(be(ne,{replace:!0,force:!0}),jt).catch(Fo);return}k=jt;const _e=y.value;Cs&&jv(df(_e.fullPath,Bt.delta),Ou()),xt(jt,_e).catch(N=>Rn(N,ze.NAVIGATION_ABORTED|ze.NAVIGATION_CANCELLED)?N:Rn(N,ze.NAVIGATION_GUARD_REDIRECT)?(kt(be(X(N.to),{force:!0}),jt).then(V=>{Rn(V,ze.NAVIGATION_ABORTED|ze.NAVIGATION_DUPLICATED)&&!Bt.delta&&Bt.type===vh.pop&&d.go(-1,!1)}).catch(Fo),Promise.reject()):(Bt.delta&&d.go(-Bt.delta,!1),_t(N,jt,_e))).then(N=>{N=N||mt(jt,_e,!1),N&&(Bt.delta&&!Rn(N,ze.NAVIGATION_CANCELLED)?d.go(-Bt.delta,!1):Bt.type===vh.pop&&Rn(N,ze.NAVIGATION_ABORTED|ze.NAVIGATION_DUPLICATED)&&d.go(-1,!1)),Pt(jt,_e,N)}).catch(Fo)}))}let pe=ko(),St=ko(),qt;function _t(ft,Dt,Bt){Ut(ft);const jt=St.list();return jt.length?jt.forEach(ne=>ne(ft,Dt,Bt)):console.error(ft),Promise.reject(ft)}function me(){return qt&&y.value!==Ki?Promise.resolve():new Promise((ft,Dt)=>{pe.add([ft,Dt])})}function Ut(ft){return qt||(qt=!ft,Qt(),pe.list().forEach(([Dt,Bt])=>ft?Bt(ft):Dt()),pe.reset()),ft}function ue(ft,Dt,Bt,jt){const{scrollBehavior:ne}=t;if(!Cs||!ne)return Promise.resolve();const _e=!Bt&&Hv(df(ft.fullPath,0))||(jt||!Bt)&&history.state&&history.state.scroll||null;return jo().then(()=>ne(ft,Dt,_e)).then(N=>N&&Gv(N)).catch(N=>_t(N,ft,Dt))}const ye=ft=>d.go(ft);let Re;const xe=new Set,ae={currentRoute:y,listening:!0,addRoute:P,removeRoute:H,clearRoutes:n.clearRoutes,hasRoute:ht,getRoutes:z,resolve:tt,options:t,push:$,replace:rt,go:ye,back:()=>ye(-1),forward:()=>ye(1),beforeEach:u.add,beforeResolve:f.add,afterEach:_.add,onError:St.add,isReady:me,install(ft){ft.component("RouterLink",g4),ft.component("RouterView",$p),ft.config.globalProperties.$router=ae,Object.defineProperty(ft.config.globalProperties,"$route",{enumerable:!0,get:()=>Ae(y)}),Cs&&!Re&&y.value===Ki&&(Re=!0,$(d.location).catch(jt=>{}));const Dt={};for(const jt in Ki)Object.defineProperty(Dt,jt,{get:()=>y.value[jt],enumerable:!0});ft.provide(Yh,ae),ft.provide(Vp,zn(Dt)),ft.provide(bh,y);const Bt=ft.unmount;xe.add(ft),ft.unmount=function(){xe.delete(ft),xe.size<1&&(k=Ki,Gt&&Gt(),Gt=null,y.value=Ki,Re=!1,qt=!1),Bt()}}};function Jt(ft){return ft.reduce((Dt,Bt)=>Dt.then(()=>wt(Bt)),Promise.resolve())}return ae}const b4=/(:\w+)\([^)]+\)/g,C4=/(:\w+)[?+*]/g,x4=/:\w+/g,w4=(t,n)=>n.path.replace(b4,"$1").replace(C4,"$1").replace(x4,o=>t.params[o.slice(1)]?.toString()||""),Ch=(t,n)=>{const o=t.route.matched.find(d=>d.components?.default===t.Component.type),c=n??o?.meta.key??(o&&w4(t.route,o));return typeof c=="function"?c(t.route):c},k4=(t,n)=>({default:()=>t?qi(Eg,t===!0?{}:t,n):n});function Jh(t){return Array.isArray(t)?t:[t]}const E4="modulepreload",M4=function(t,n){return new URL(t,n).href},Ef={},yu=function(n,o,c){let d=Promise.resolve();if(o&&o.length>0){let k=function(b){return Promise.all(b.map(w=>Promise.resolve(w).then(B=>({status:"fulfilled",value:B}),B=>({status:"rejected",reason:B}))))};const f=document.getElementsByTagName("link"),_=document.querySelector("meta[property=csp-nonce]"),y=_?.nonce||_?.getAttribute("nonce");d=k(o.map(b=>{if(b=M4(b,c),b in Ef)return;Ef[b]=!0;const w=b.endsWith(".css"),B=w?'[rel="stylesheet"]':"";if(c)for(let H=f.length-1;H>=0;H--){const z=f[H];if(z.href===b&&(!w||z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${B}`))return;const P=document.createElement("link");if(P.rel=w?"stylesheet":E4,w||(P.as="script"),P.crossOrigin="",P.href=b,y&&P.setAttribute("nonce",y),document.head.appendChild(P),w)return new Promise((H,z)=>{P.addEventListener("load",H),P.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${b}`)))})}))}function u(f){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=f,window.dispatchEvent(_),!_.defaultPrevented)throw f}return d.then(f=>{for(const _ of f||[])_.status==="rejected"&&u(_.reason);return n().catch(u)})},$l=[{name:"amap",path:"/amap",component:()=>yu(()=>import("./B8swy9pQ.js"),__vite__mapDeps([0,1]),import.meta.url)},{name:"index",path:"/",component:()=>yu(()=>import("./Bv5w8D2R.js"),__vite__mapDeps([2,3,4]),import.meta.url)}],P4=(t,n)=>({default:()=>t?qi(Tm,t===!0?{}:t,n):n.default?.()}),B4=/(:\w+)\([^)]+\)/g,T4=/(:\w+)[?+*]/g,S4=/:\w+/g;function Mf(t){const n=t?.meta.key??t.path.replace(B4,"$1").replace(T4,"$1").replace(S4,o=>t.params[o.slice(1)]?.toString()||"");return typeof n=="function"?n(t):n}function A4(t,n){return t===n||n===Ki?!1:Mf(t)!==Mf(n)?!0:!t.matched.every((c,d)=>c.components&&c.components.default===n.matched[d]?.components?.default)}const D4={scrollBehavior(t,n,o){const c=si(),d=$i().options?.scrollBehaviorType??"auto";if(t.path.replace(/\/$/,"")===n.path.replace(/\/$/,""))return n.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:Yp(t.hash),behavior:d}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,n):t.meta.scrollToTop)===!1)return!1;const f=c._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(_=>{if(n===Ki){_(Pf(t,n,o,d));return}c.hooks.hookOnce(f,()=>{requestAnimationFrame(()=>_(Pf(t,n,o,d)))})})}};function Yp(t){try{const n=document.querySelector(t);if(n)return(Number.parseFloat(getComputedStyle(n).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function Pf(t,n,o,c){if(o)return o;const d=A4(t,n);return t.hash?{el:t.hash,top:Yp(t.hash),behavior:d?c:"instant"}:{left:0,top:0}}const R4={hashMode:!1,scrollBehaviorType:"auto"},nr={...R4,...D4},O4=async(t,n)=>{let o,c;if(!t.meta?.validate)return;const d=([o,c]=Ds(()=>Promise.resolve(t.meta.validate(t))),o=await o,c(),o);if(d===!0)return;const u=Nr({fatal:!0,statusCode:d&&d.statusCode||404,statusMessage:d&&d.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",n.fullPath),u},I4=async t=>{let n,o;const c=([n,o]=Ds(()=>qh({path:t.path})),n=await n,o(),n);if(c.redirect){const d=c.redirect.includes("#")?c.redirect:c.redirect+t.hash;return Gr(d,{acceptRelative:!0})?(window.location.href=d,!1):d}},F4=[O4,I4],xh={};function N4(t,n,o){const{pathname:c,search:d,hash:u}=n,f=t.indexOf("#");if(f>-1){const k=u.includes(t.slice(f))?t.slice(f).length:1;let b=u.slice(k);return b[0]!=="/"&&(b="/"+b),Vc(b,"")}const _=Vc(c,t),y=!o||S0(_,o)?_:o;return y+(y.includes("?")?"":d)+u}const z4=bn({name:"nuxt:router",enforce:"pre",async setup(t){let n,o,c=Su().app.baseURL;const d=nr.history?.(c)??Qv(c),u=nr.routes?([n,o]=Ds(()=>nr.routes($l)),n=await n,o(),n??$l):$l;let f;const _=L4({...nr,scrollBehavior:(ht,tt,X)=>{if(tt===Ki){f=X;return}if(nr.scrollBehavior){if(_.options.scrollBehavior=nr.scrollBehavior,"scrollRestoration"in window.history){const G=_.beforeEach(()=>{G(),window.history.scrollRestoration="manual"})}return nr.scrollBehavior(ht,Ki,f||X)}},history:d,routes:u});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(_);const y=Go(_.currentRoute.value);_.afterEach((ht,tt)=>{y.value=tt}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>y.value});const k=N4(c,window.location,t.payload.path),b=Go(_.currentRoute.value),w=()=>{b.value=_.currentRoute.value};_.afterEach((ht,tt)=>{ht.matched.at(-1)?.components?.default===tt.matched.at(-1)?.components?.default&&w()});const B={sync:w};for(const ht in b.value)Object.defineProperty(B,ht,{get:()=>b.value[ht],enumerable:!0});t._route=zn(B),t._middleware||={global:[],named:{}};const P=Du();_.afterEach(async(ht,tt,X)=>{delete t._processingMiddleware,!t.isHydrating&&P.value&&await t.runWithContext(Ey),X&&await t.callHook("page:loading:end")});try{[n,o]=Ds(()=>_.isReady()),await n,o()}catch(ht){[n,o]=Ds(()=>t.runWithContext(()=>Sr(ht))),await n,o()}const H=k!==_.currentRoute.value.fullPath?_.resolve(k):_.currentRoute.value;w();const z=t.payload.state._layout;return _.beforeEach(async(ht,tt)=>{await t.callHook("page:loading:start"),ht.meta=cr(ht.meta),t.isHydrating&&z&&!Ln(ht.meta.layout)&&(ht.meta.layout=z),t._processingMiddleware=!0;{const X=new Set([...F4,...t._middleware.global]);for(const G of ht.matched){const $=G.meta.middleware;if($)for(const rt of Jh($))X.add(rt)}{const G=await t.runWithContext(()=>qh({path:ht.path}));if(G.appMiddleware)for(const $ in G.appMiddleware)G.appMiddleware[$]?X.add($):X.delete($)}for(const G of X){const $=typeof G=="string"?t._middleware.named[G]||await xh[G]?.().then(rt=>rt.default||rt):G;if(!$)throw new Error(`Unknown route middleware: '${G}'.`);try{const rt=await t.runWithContext(()=>$(ht,tt));if(!t.payload.serverRendered&&t.isHydrating&&(rt===!1||rt instanceof Error)){const pt=rt||Nr({statusCode:404,statusMessage:`Page Not Found: ${k}`});return await t.runWithContext(()=>Sr(pt)),!1}if(rt===!0)continue;if(rt===!1)return rt;if(rt)return Bp(rt)&&rt.fatal&&await t.runWithContext(()=>Sr(rt)),rt}catch(rt){const pt=Nr(rt);return pt.fatal&&await t.runWithContext(()=>Sr(pt)),pt}}}}),_.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),_.afterEach(ht=>{if(ht.matched.length===0)return t.runWithContext(()=>Sr(Nr({statusCode:404,fatal:!1,statusMessage:`Page not found: ${ht.fullPath}`,data:{path:ht.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in H&&(H.name=void 0),await _.replace({...H,force:!0}),_.options.scrollBehavior=nr.scrollBehavior}catch(ht){await t.runWithContext(()=>Sr(ht))}}),{provide:{router:_}}}}),Bf=globalThis.requestIdleCallback||(t=>{const n=Date.now(),o={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-n))};return setTimeout(()=>{t(o)},1)}),ML=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),Xh=t=>{const n=si();n.isHydrating?n.hooks.hookOnce("app:suspense:resolve",()=>{Bf(()=>t())}):Bf(()=>t())},G4=bn({name:"nuxt:payload",setup(t){const n=new Set;$i().beforeResolve(async(o,c)=>{if(o.path===c.path)return;const d=await lf(o.path);if(d){for(const u of n)delete t.static.data[u];for(const u in d.data)u in t.static.data||n.add(u),t.static.data[u]=d.data[u]}}),Xh(()=>{t.hooks.hook("link:prefetch",async o=>{const{hostname:c}=new URL(o,window.location.href);c===window.location.hostname&&await lf(o).catch(()=>{console.warn("[nuxt] Error preloading payload for",o)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Ru,1e3)})}}),j4=bn(()=>{const t=$i();Xh(()=>{t.beforeResolve(async()=>{await new Promise(n=>{setTimeout(n,100),requestAnimationFrame(()=>{setTimeout(n,0)})})})})}),H4=bn(t=>{let n;async function o(){let c;try{c=await Ru()}catch(d){const u=d;if(!("status"in u&&(u.status===404||u.status===403)))throw u}n&&clearTimeout(n),n=setTimeout(o,Xc);try{const d=await $fetch(Kh("builds/latest.json")+`?${Date.now()}`);d.id!==c?.id&&(t.hooks.callHook("app:manifest:update",d),n&&clearTimeout(n))}catch{}}Xh(()=>{n=setTimeout(o,Xc)})});function U4(t={}){const n=t.path||window.location.pathname;let o={};try{o=fu(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||o?.path!==n||o?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:n,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:si().payload.state}))}catch{}window.location.pathname!==n?window.location.href=n:window.location.reload()}}const Z4=bn({name:"nuxt:chunk-reload",setup(t){const n=$i(),o=Su(),c=new Set;n.beforeEach(()=>{c.clear()}),t.hook("app:chunkError",({error:u})=>{c.add(u)});function d(u){const f=Zh(o.app.baseURL,u.fullPath);U4({path:f,persistState:!0})}t.hook("app:manifest:update",()=>{n.beforeResolve(d)}),n.onError((u,f)=>{c.has(u)&&d(f)})}}),V4=bn({name:"nuxt:global-components"}),Wa={};function K4(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function q4(t,n=$i()){const{path:o,matched:c}=n.resolve(t);if(!c.length||(n._routePreloaded||=new Set,n._routePreloaded.has(o)))return;const d=n._preloadPromises||=[];if(d.length>4)return Promise.all(d).then(()=>q4(t,n));n._routePreloaded.add(o);for(const u of c){const f=u.components?.default;if(typeof f!="function")continue;const _=Promise.resolve(f()).catch(()=>{}).finally(()=>d.splice(d.indexOf(_)));d.push(_)}await Promise.all(d)}const W4=bn({name:"nuxt:prefetch",setup(t){const n=$i();t.hooks.hook("app:mounted",()=>{n.beforeEach(async o=>{const c=o?.meta?.layout;c&&typeof Wa[c]=="function"&&await Wa[c]()})}),t.hooks.hook("link:prefetch",o=>{if(Gr(o))return;const c=n.resolve(o);if(!c)return;const d=c.meta.layout;let u=Jh(c.meta.middleware);u=u.filter(f=>typeof f=="string");for(const f of u)typeof xh[f]=="function"&&xh[f]();typeof d=="string"&&d in Wa&&K4(Wa[d])})}});var $a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Po={exports:{}};var Y4=Po.exports,Tf;function J4(){return Tf||(Tf=1,(function(t,n){(function(o,c){c(n)})(Y4,(function(o){var c="1.9.4";function d(e){var s,h,g,x;for(h=1,g=arguments.length;h<g;h++){x=arguments[h];for(s in x)e[s]=x[s]}return e}var u=Object.create||(function(){function e(){}return function(s){return e.prototype=s,new e}})();function f(e,s){var h=Array.prototype.slice;if(e.bind)return e.bind.apply(e,h.call(arguments,1));var g=h.call(arguments,2);return function(){return e.apply(s,g.length?g.concat(h.call(arguments)):arguments)}}var _=0;function y(e){return"_leaflet_id"in e||(e._leaflet_id=++_),e._leaflet_id}function k(e,s,h){var g,x,S,Z;return Z=function(){g=!1,x&&(S.apply(h,x),x=!1)},S=function(){g?x=arguments:(e.apply(h,arguments),setTimeout(Z,s),g=!0)},S}function b(e,s,h){var g=s[1],x=s[0],S=g-x;return e===g&&h?e:((e-x)%S+S)%S+x}function w(){return!1}function B(e,s){if(s===!1)return e;var h=Math.pow(10,s===void 0?6:s);return Math.round(e*h)/h}function P(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return P(e).split(/\s+/)}function z(e,s){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?u(e.options):{});for(var h in s)e.options[h]=s[h];return e.options}function ht(e,s,h){var g=[];for(var x in e)g.push(encodeURIComponent(h?x.toUpperCase():x)+"="+encodeURIComponent(e[x]));return(!s||s.indexOf("?")===-1?"?":"&")+g.join("&")}var tt=/\{ *([\w_ -]+) *\}/g;function X(e,s){return e.replace(tt,function(h,g){var x=s[g];if(x===void 0)throw new Error("No value provided for variable "+h);return typeof x=="function"&&(x=x(s)),x})}var G=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function $(e,s){for(var h=0;h<e.length;h++)if(e[h]===s)return h;return-1}var rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function pt(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var kt=0;function zt(e){var s=+new Date,h=Math.max(0,16-(s-kt));return kt=s+h,window.setTimeout(e,h)}var wt=window.requestAnimationFrame||pt("RequestAnimationFrame")||zt,xt=window.cancelAnimationFrame||pt("CancelAnimationFrame")||pt("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function Pt(e,s,h){if(h&&wt===zt)e.call(s);else return wt.call(window,f(e,s))}function mt(e){e&&xt.call(window,e)}var Gt={__proto__:null,extend:d,create:u,bind:f,get lastId(){return _},stamp:y,throttle:k,wrapNum:b,falseFn:w,formatNum:B,trim:P,splitWords:H,setOptions:z,getParamString:ht,template:X,isArray:G,indexOf:$,emptyImageUrl:rt,requestFn:wt,cancelFn:xt,requestAnimFrame:Pt,cancelAnimFrame:mt};function Qt(){}Qt.extend=function(e){var s=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=s.__super__=this.prototype,g=u(h);g.constructor=s,s.prototype=g;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(s[x]=this[x]);return e.statics&&d(s,e.statics),e.includes&&(pe(e.includes),d.apply(null,[g].concat(e.includes))),d(g,e),delete g.statics,delete g.includes,g.options&&(g.options=h.options?u(h.options):{},d(g.options,e.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,Z=g._initHooks.length;S<Z;S++)g._initHooks[S].call(this)}},s},Qt.include=function(e){var s=this.prototype.options;return d(this.prototype,e),e.options&&(this.prototype.options=s,this.mergeOptions(e.options)),this},Qt.mergeOptions=function(e){return d(this.prototype.options,e),this},Qt.addInitHook=function(e){var s=Array.prototype.slice.call(arguments,1),h=typeof e=="function"?e:function(){this[e].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function pe(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=G(e)?e:[e];for(var s=0;s<e.length;s++)e[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var St={on:function(e,s,h){if(typeof e=="object")for(var g in e)this._on(g,e[g],s);else{e=H(e);for(var x=0,S=e.length;x<S;x++)this._on(e[x],s,h)}return this},off:function(e,s,h){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var g in e)this._off(g,e[g],s);else{e=H(e);for(var x=arguments.length===1,S=0,Z=e.length;S<Z;S++)x?this._off(e[S]):this._off(e[S],s,h)}return this},_on:function(e,s,h,g){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(e,s,h)===!1){h===this&&(h=void 0);var x={fn:s,ctx:h};g&&(x.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(x)}},_off:function(e,s,h){var g,x,S;if(this._events&&(g=this._events[e],!!g)){if(arguments.length===1){if(this._firingCount)for(x=0,S=g.length;x<S;x++)g[x].fn=w;delete this._events[e];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var Z=this._listens(e,s,h);if(Z!==!1){var et=g[Z];this._firingCount&&(et.fn=w,this._events[e]=g=g.slice()),g.splice(Z,1)}}},fire:function(e,s,h){if(!this.listens(e,h))return this;var g=d({},s,{type:e,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var x=this._events[e];if(x){this._firingCount=this._firingCount+1||1;for(var S=0,Z=x.length;S<Z;S++){var et=x[S],ct=et.fn;et.once&&this.off(e,ct,et.ctx),ct.call(et.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(e,s,h,g){typeof e!="string"&&console.warn('"string" type argument expected');var x=s;typeof s!="function"&&(g=!!s,x=void 0,h=void 0);var S=this._events&&this._events[e];if(S&&S.length&&this._listens(e,x,h)!==!1)return!0;if(g){for(var Z in this._eventParents)if(this._eventParents[Z].listens(e,s,h,g))return!0}return!1},_listens:function(e,s,h){if(!this._events)return!1;var g=this._events[e]||[];if(!s)return!!g.length;h===this&&(h=void 0);for(var x=0,S=g.length;x<S;x++)if(g[x].fn===s&&g[x].ctx===h)return x;return!1},once:function(e,s,h){if(typeof e=="object")for(var g in e)this._on(g,e[g],s,!0);else{e=H(e);for(var x=0,S=e.length;x<S;x++)this._on(e[x],s,h,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[y(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[y(e)],this},_propagateEvent:function(e){for(var s in this._eventParents)this._eventParents[s].fire(e.type,d({layer:e.target,propagatedFrom:e.target},e),!0)}};St.addEventListener=St.on,St.removeEventListener=St.clearAllEventListeners=St.off,St.addOneTimeEventListener=St.once,St.fireEvent=St.fire,St.hasEventListeners=St.listens;var qt=Qt.extend(St);function _t(e,s,h){this.x=h?Math.round(e):e,this.y=h?Math.round(s):s}var me=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};_t.prototype={clone:function(){return new _t(this.x,this.y)},add:function(e){return this.clone()._add(Ut(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(Ut(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new _t(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new _t(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=me(this.x),this.y=me(this.y),this},distanceTo:function(e){e=Ut(e);var s=e.x-this.x,h=e.y-this.y;return Math.sqrt(s*s+h*h)},equals:function(e){return e=Ut(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=Ut(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+B(this.x)+", "+B(this.y)+")"}};function Ut(e,s,h){return e instanceof _t?e:G(e)?new _t(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new _t(e.x,e.y):new _t(e,s,h)}function ue(e,s){if(e)for(var h=s?[e,s]:e,g=0,x=h.length;g<x;g++)this.extend(h[g])}ue.prototype={extend:function(e){var s,h;if(!e)return this;if(e instanceof _t||typeof e[0]=="number"||"x"in e)s=h=Ut(e);else if(e=ye(e),s=e.min,h=e.max,!s||!h)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=h.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(e){return Ut((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return Ut(this.min.x,this.max.y)},getTopRight:function(){return Ut(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var s,h;return typeof e[0]=="number"||e instanceof _t?e=Ut(e):e=ye(e),e instanceof ue?(s=e.min,h=e.max):s=h=e,s.x>=this.min.x&&h.x<=this.max.x&&s.y>=this.min.y&&h.y<=this.max.y},intersects:function(e){e=ye(e);var s=this.min,h=this.max,g=e.min,x=e.max,S=x.x>=s.x&&g.x<=h.x,Z=x.y>=s.y&&g.y<=h.y;return S&&Z},overlaps:function(e){e=ye(e);var s=this.min,h=this.max,g=e.min,x=e.max,S=x.x>s.x&&g.x<h.x,Z=x.y>s.y&&g.y<h.y;return S&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var s=this.min,h=this.max,g=Math.abs(s.x-h.x)*e,x=Math.abs(s.y-h.y)*e;return ye(Ut(s.x-g,s.y-x),Ut(h.x+g,h.y+x))},equals:function(e){return e?(e=ye(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function ye(e,s){return!e||e instanceof ue?e:new ue(e,s)}function Re(e,s){if(e)for(var h=s?[e,s]:e,g=0,x=h.length;g<x;g++)this.extend(h[g])}Re.prototype={extend:function(e){var s=this._southWest,h=this._northEast,g,x;if(e instanceof ae)g=e,x=e;else if(e instanceof Re){if(g=e._southWest,x=e._northEast,!g||!x)return this}else return e?this.extend(Jt(e)||xe(e)):this;return!s&&!h?(this._southWest=new ae(g.lat,g.lng),this._northEast=new ae(x.lat,x.lng)):(s.lat=Math.min(g.lat,s.lat),s.lng=Math.min(g.lng,s.lng),h.lat=Math.max(x.lat,h.lat),h.lng=Math.max(x.lng,h.lng)),this},pad:function(e){var s=this._southWest,h=this._northEast,g=Math.abs(s.lat-h.lat)*e,x=Math.abs(s.lng-h.lng)*e;return new Re(new ae(s.lat-g,s.lng-x),new ae(h.lat+g,h.lng+x))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ae||"lat"in e?e=Jt(e):e=xe(e);var s=this._southWest,h=this._northEast,g,x;return e instanceof Re?(g=e.getSouthWest(),x=e.getNorthEast()):g=x=e,g.lat>=s.lat&&x.lat<=h.lat&&g.lng>=s.lng&&x.lng<=h.lng},intersects:function(e){e=xe(e);var s=this._southWest,h=this._northEast,g=e.getSouthWest(),x=e.getNorthEast(),S=x.lat>=s.lat&&g.lat<=h.lat,Z=x.lng>=s.lng&&g.lng<=h.lng;return S&&Z},overlaps:function(e){e=xe(e);var s=this._southWest,h=this._northEast,g=e.getSouthWest(),x=e.getNorthEast(),S=x.lat>s.lat&&g.lat<h.lat,Z=x.lng>s.lng&&g.lng<h.lng;return S&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,s){return e?(e=xe(e),this._southWest.equals(e.getSouthWest(),s)&&this._northEast.equals(e.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(e,s){return e instanceof Re?e:new Re(e,s)}function ae(e,s,h){if(isNaN(e)||isNaN(s))throw new Error("Invalid LatLng object: ("+e+", "+s+")");this.lat=+e,this.lng=+s,h!==void 0&&(this.alt=+h)}ae.prototype={equals:function(e,s){if(!e)return!1;e=Jt(e);var h=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return h<=(s===void 0?1e-9:s)},toString:function(e){return"LatLng("+B(this.lat,e)+", "+B(this.lng,e)+")"},distanceTo:function(e){return Dt.distance(this,Jt(e))},wrap:function(){return Dt.wrapLatLng(this)},toBounds:function(e){var s=180*e/40075017,h=s/Math.cos(Math.PI/180*this.lat);return xe([this.lat-s,this.lng-h],[this.lat+s,this.lng+h])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function Jt(e,s,h){return e instanceof ae?e:G(e)&&typeof e[0]!="object"?e.length===3?new ae(e[0],e[1],e[2]):e.length===2?new ae(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ae(e.lat,"lng"in e?e.lng:e.lon,e.alt):s===void 0?null:new ae(e,s,h)}var ft={latLngToPoint:function(e,s){var h=this.projection.project(e),g=this.scale(s);return this.transformation._transform(h,g)},pointToLatLng:function(e,s){var h=this.scale(s),g=this.transformation.untransform(e,h);return this.projection.unproject(g)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var s=this.projection.bounds,h=this.scale(e),g=this.transformation.transform(s.min,h),x=this.transformation.transform(s.max,h);return new ue(g,x)},infinite:!1,wrapLatLng:function(e){var s=this.wrapLng?b(e.lng,this.wrapLng,!0):e.lng,h=this.wrapLat?b(e.lat,this.wrapLat,!0):e.lat,g=e.alt;return new ae(h,s,g)},wrapLatLngBounds:function(e){var s=e.getCenter(),h=this.wrapLatLng(s),g=s.lat-h.lat,x=s.lng-h.lng;if(g===0&&x===0)return e;var S=e.getSouthWest(),Z=e.getNorthEast(),et=new ae(S.lat-g,S.lng-x),ct=new ae(Z.lat-g,Z.lng-x);return new Re(et,ct)}},Dt=d({},ft,{wrapLng:[-180,180],R:6371e3,distance:function(e,s){var h=Math.PI/180,g=e.lat*h,x=s.lat*h,S=Math.sin((s.lat-e.lat)*h/2),Z=Math.sin((s.lng-e.lng)*h/2),et=S*S+Math.cos(g)*Math.cos(x)*Z*Z,ct=2*Math.atan2(Math.sqrt(et),Math.sqrt(1-et));return this.R*ct}}),Bt=6378137,jt={R:Bt,MAX_LATITUDE:85.0511287798,project:function(e){var s=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,e.lat),-h),x=Math.sin(g*s);return new _t(this.R*e.lng*s,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(e){var s=180/Math.PI;return new ae((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*s,e.x*s/this.R)},bounds:(function(){var e=Bt*Math.PI;return new ue([-e,-e],[e,e])})()};function ne(e,s,h,g){if(G(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=s,this._c=h,this._d=g}ne.prototype={transform:function(e,s){return this._transform(e.clone(),s)},_transform:function(e,s){return s=s||1,e.x=s*(this._a*e.x+this._b),e.y=s*(this._c*e.y+this._d),e},untransform:function(e,s){return s=s||1,new _t((e.x/s-this._b)/this._a,(e.y/s-this._d)/this._c)}};function _e(e,s,h,g){return new ne(e,s,h,g)}var N=d({},Dt,{code:"EPSG:3857",projection:jt,transformation:(function(){var e=.5/(Math.PI*jt.R);return _e(e,.5,-e,.5)})()}),V=d({},N,{code:"EPSG:900913"});function ut(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Lt(e,s){var h="",g,x,S,Z,et,ct;for(g=0,S=e.length;g<S;g++){for(et=e[g],x=0,Z=et.length;x<Z;x++)ct=et[x],h+=(x?"L":"M")+ct.x+" "+ct.y;h+=s?Zt.svg?"z":"x":""}return h||"M0 0"}var dt=document.documentElement.style,vt="ActiveXObject"in window,Tt=vt&&!document.addEventListener,Mt="msLaunchUri"in navigator&&!("documentMode"in document),Et=Pi("webkit"),Ct=Pi("android"),Vt=Pi("android 2")||Pi("android 3"),Rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ht=Ct&&Pi("Google")&&Rt<537&&!("AudioNode"in window),Wt=!!window.opera,oe=!Mt&&Pi("chrome"),ve=Pi("gecko")&&!Et&&!Wt&&!vt,ce=!oe&&Pi("safari"),Ue=Pi("phantom"),Ge="OTransition"in dt,Ze=navigator.platform.indexOf("Win")===0,Xe=vt&&"transition"in dt,Ii="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vt,Yi="MozPerspective"in dt,Qe=!window.L_DISABLE_3D&&(Xe||Ii||Yi)&&!Ge&&!Ue,Ve=typeof orientation<"u"||Pi("mobile"),jr=Ve&&Et,Hr=Ve&&Ii,Us=!window.PointerEvent&&window.MSPointerEvent,Qo=!!(window.PointerEvent||Us),ta="ontouchstart"in window||!!window.TouchEvent,Iu=!window.L_NO_TOUCH&&(ta||Qo),Fu=Ve&&Wt,ea=Ve&&ve,ia=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Nu=(function(){var e=!1;try{var s=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",w,s),window.removeEventListener("testPassiveEventSupport",w,s)}catch{}return e})(),zu=(function(){return!!document.createElement("canvas").getContext})(),Zs=!!(document.createElementNS&&ut("svg").createSVGRect),na=!!Zs&&(function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Gu=!Zs&&(function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var s=e.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),ju=navigator.platform.indexOf("Mac")===0,Hu=navigator.platform.indexOf("Linux")===0;function Pi(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Zt={ie:vt,ielt9:Tt,edge:Mt,webkit:Et,android:Ct,android23:Vt,androidStock:Ht,opera:Wt,chrome:oe,gecko:ve,safari:ce,phantom:Ue,opera12:Ge,win:Ze,ie3d:Xe,webkit3d:Ii,gecko3d:Yi,any3d:Qe,mobile:Ve,mobileWebkit:jr,mobileWebkit3d:Hr,msPointer:Us,pointer:Qo,touch:Iu,touchNative:ta,mobileOpera:Fu,mobileGecko:ea,retina:ia,passiveEvents:Nu,canvas:zu,svg:Zs,vml:Gu,inlineSvg:na,mac:ju,linux:Hu},ra=Zt.msPointer?"MSPointerDown":"pointerdown",sa=Zt.msPointer?"MSPointerMove":"pointermove",Vs=Zt.msPointer?"MSPointerUp":"pointerup",oa=Zt.msPointer?"MSPointerCancel":"pointercancel",Ks={touchstart:ra,touchmove:sa,touchend:Vs,touchcancel:oa},aa={touchstart:qu,touchmove:Zr,touchend:Zr,touchcancel:Zr},Vn={},ua=!1;function Uu(e,s,h){return s==="touchstart"&&qs(),aa[s]?(h=aa[s].bind(this,h),e.addEventListener(Ks[s],h,!1),h):(console.warn("wrong event specified:",s),w)}function Zu(e,s,h){if(!Ks[s]){console.warn("wrong event specified:",s);return}e.removeEventListener(Ks[s],h,!1)}function Vu(e){Vn[e.pointerId]=e}function Ku(e){Vn[e.pointerId]&&(Vn[e.pointerId]=e)}function Ur(e){delete Vn[e.pointerId]}function qs(){ua||(document.addEventListener(ra,Vu,!0),document.addEventListener(sa,Ku,!0),document.addEventListener(Vs,Ur,!0),document.addEventListener(oa,Ur,!0),ua=!0)}function Zr(e,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var h in Vn)s.touches.push(Vn[h]);s.changedTouches=[s],e(s)}}function qu(e,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&We(s),Zr(e,s)}function Wu(e){var s={},h,g;for(g in e)h=e[g],s[g]=h&&h.bind?h.bind(e):h;return e=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var $u=200;function Yu(e,s){e.addEventListener("dblclick",s);var h=0,g;function x(S){if(S.detail!==1){g=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var Z=da(S);if(!(Z.some(function(ct){return ct instanceof HTMLLabelElement&&ct.attributes.for})&&!Z.some(function(ct){return ct instanceof HTMLInputElement||ct instanceof HTMLSelectElement}))){var et=Date.now();et-h<=$u?(g++,g===2&&s(Wu(S))):g=1,h=et}}}return e.addEventListener("click",x),{dblclick:s,simDblclick:x}}function Ju(e,s){e.removeEventListener("dblclick",s.dblclick),e.removeEventListener("click",s.simDblclick)}var Ws=Kr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fr=Kr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),la=fr==="webkitTransition"||fr==="OTransition"?fr+"End":"transitionend";function ha(e){return typeof e=="string"?document.getElementById(e):e}function ln(e,s){var h=e.style[s]||e.currentStyle&&e.currentStyle[s];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(e,null);h=g?g[s]:null}return h==="auto"?null:h}function fe(e,s,h){var g=document.createElement(e);return g.className=s||"",h&&h.appendChild(g),g}function Be(e){var s=e.parentNode;s&&s.removeChild(e)}function dr(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Kn(e){var s=e.parentNode;s&&s.lastChild!==e&&s.appendChild(e)}function Cn(e){var s=e.parentNode;s&&s.firstChild!==e&&s.insertBefore(e,s.firstChild)}function $s(e,s){if(e.classList!==void 0)return e.classList.contains(s);var h=Vr(e);return h.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(h)}function re(e,s){if(e.classList!==void 0)for(var h=H(s),g=0,x=h.length;g<x;g++)e.classList.add(h[g]);else if(!$s(e,s)){var S=Vr(e);Ys(e,(S?S+" ":"")+s)}}function Oe(e,s){e.classList!==void 0?e.classList.remove(s):Ys(e,P((" "+Vr(e)+" ").replace(" "+s+" "," ")))}function Ys(e,s){e.className.baseVal===void 0?e.className=s:e.className.baseVal=s}function Vr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Ci(e,s){"opacity"in e.style?e.style.opacity=s:"filter"in e.style&&Xu(e,s)}function Xu(e,s){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=e.filters.item(g)}catch{if(s===1)return}s=Math.round(s*100),h?(h.Enabled=s!==100,h.Opacity=s):e.style.filter+=" progid:"+g+"(opacity="+s+")"}function Kr(e){for(var s=document.documentElement.style,h=0;h<e.length;h++)if(e[h]in s)return e[h];return!1}function xn(e,s,h){var g=s||new _t(0,0);e.style[Ws]=(Zt.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function Fe(e,s){e._leaflet_pos=s,Zt.any3d?xn(e,s):(e.style.left=s.x+"px",e.style.top=s.y+"px")}function wn(e){return e._leaflet_pos||new _t(0,0)}var pr,_r,Js;if("onselectstart"in document)pr=function(){ie(window,"selectstart",We)},_r=function(){we(window,"selectstart",We)};else{var qn=Kr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pr=function(){if(qn){var e=document.documentElement.style;Js=e[qn],e[qn]="none"}},_r=function(){qn&&(document.documentElement.style[qn]=Js,Js=void 0)}}function Xs(){ie(window,"dragstart",We)}function Qs(){we(window,"dragstart",We)}var qr,to;function eo(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Wr(),qr=e,to=e.style.outlineStyle,e.style.outlineStyle="none",ie(window,"keydown",Wr))}function Wr(){qr&&(qr.style.outlineStyle=to,qr=void 0,to=void 0,we(window,"keydown",Wr))}function ca(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function io(e){var s=e.getBoundingClientRect();return{x:s.width/e.offsetWidth||1,y:s.height/e.offsetHeight||1,boundingClientRect:s}}var Qu={__proto__:null,TRANSFORM:Ws,TRANSITION:fr,TRANSITION_END:la,get:ha,getStyle:ln,create:fe,remove:Be,empty:dr,toFront:Kn,toBack:Cn,hasClass:$s,addClass:re,removeClass:Oe,setClass:Ys,getClass:Vr,setOpacity:Ci,testProp:Kr,setTransform:xn,setPosition:Fe,getPosition:wn,get disableTextSelection(){return pr},get enableTextSelection(){return _r},disableImageDrag:Xs,enableImageDrag:Qs,preventOutline:eo,restoreOutline:Wr,getSizedParentNode:ca,getScale:io};function ie(e,s,h,g){if(s&&typeof s=="object")for(var x in s)ro(e,x,s[x],h);else{s=H(s);for(var S=0,Z=s.length;S<Z;S++)ro(e,s[S],h,g)}return this}var Fi="_leaflet_events";function we(e,s,h,g){if(arguments.length===1)fa(e),delete e[Fi];else if(s&&typeof s=="object")for(var x in s)hn(e,x,s[x],h);else if(s=H(s),arguments.length===2)fa(e,function(et){return $(s,et)!==-1});else for(var S=0,Z=s.length;S<Z;S++)hn(e,s[S],h,g);return this}function fa(e,s){for(var h in e[Fi]){var g=h.split(/\d/)[0];(!s||s(g))&&hn(e,g,null,null,h)}}var no={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ro(e,s,h,g){var x=s+y(h)+(g?"_"+y(g):"");if(e[Fi]&&e[Fi][x])return this;var S=function(et){return h.call(g||e,et||window.event)},Z=S;!Zt.touchNative&&Zt.pointer&&s.indexOf("touch")===0?S=Uu(e,s,S):Zt.touch&&s==="dblclick"?S=Yu(e,S):"addEventListener"in e?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?e.addEventListener(no[s]||s,S,Zt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(S=function(et){et=et||window.event,oo(e,et)&&Z(et)},e.addEventListener(no[s],S,!1)):e.addEventListener(s,Z,!1):e.attachEvent("on"+s,S),e[Fi]=e[Fi]||{},e[Fi][x]=S}function hn(e,s,h,g,x){x=x||s+y(h)+(g?"_"+y(g):"");var S=e[Fi]&&e[Fi][x];if(!S)return this;!Zt.touchNative&&Zt.pointer&&s.indexOf("touch")===0?Zu(e,s,S):Zt.touch&&s==="dblclick"?Ju(e,S):"removeEventListener"in e?e.removeEventListener(no[s]||s,S,!1):e.detachEvent("on"+s,S),e[Fi][x]=null}function kn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function so(e){return ro(e,"wheel",kn),this}function gr(e){return ie(e,"mousedown touchstart dblclick contextmenu",kn),e._leaflet_disable_click=!0,this}function We(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function En(e){return We(e),kn(e),this}function da(e){if(e.composedPath)return e.composedPath();for(var s=[],h=e.target;h;)s.push(h),h=h.parentNode;return s}function pa(e,s){if(!s)return new _t(e.clientX,e.clientY);var h=io(s),g=h.boundingClientRect;return new _t((e.clientX-g.left)/h.x-s.clientLeft,(e.clientY-g.top)/h.y-s.clientTop)}var tl=Zt.linux&&Zt.chrome?window.devicePixelRatio:Zt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _a(e){return Zt.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/tl:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function oo(e,s){var h=s.relatedTarget;if(!h)return!0;try{for(;h&&h!==e;)h=h.parentNode}catch{return!1}return h!==e}var $r={__proto__:null,on:ie,off:we,stopPropagation:kn,disableScrollPropagation:so,disableClickPropagation:gr,preventDefault:We,stop:En,getPropagationPath:da,getMousePosition:pa,getWheelDelta:_a,isExternalTarget:oo,addListener:ie,removeListener:we},ga=qt.extend({run:function(e,s,h,g){this.stop(),this._el=e,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=wn(e),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pt(this._animate,this),this._step()},_step:function(e){var s=+new Date-this._startTime,h=this._duration*1e3;s<h?this._runFrame(this._easeOut(s/h),e):(this._runFrame(1),this._complete())},_runFrame:function(e,s){var h=this._startPos.add(this._offset.multiplyBy(e));s&&h._round(),Fe(this._el,h),this.fire("step")},_complete:function(){mt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),le=qt.extend({options:{crs:N,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,s){s=z(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(Jt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fr&&Zt.any3d&&!Zt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ie(this._proxy,la,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,s,h){if(s=s===void 0?this._zoom:this._limitZoom(s),e=this._limitCenter(Jt(e),s,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=d({animate:h.animate},h.zoom),h.pan=d({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,s,h.zoom):this._tryAnimatedPan(e,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(e,s,h.pan&&h.pan.noMoveStart),this},setZoom:function(e,s){return this._loaded?this.setView(this.getCenter(),e,{zoom:s}):(this._zoom=e,this)},zoomIn:function(e,s){return e=e||(Zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,s)},zoomOut:function(e,s){return e=e||(Zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,s)},setZoomAround:function(e,s,h){var g=this.getZoomScale(s),x=this.getSize().divideBy(2),S=e instanceof _t?e:this.latLngToContainerPoint(e),Z=S.subtract(x).multiplyBy(1-1/g),et=this.containerPointToLatLng(x.add(Z));return this.setView(et,s,{zoom:h})},_getBoundsCenterZoom:function(e,s){s=s||{},e=e.getBounds?e.getBounds():xe(e);var h=Ut(s.paddingTopLeft||s.padding||[0,0]),g=Ut(s.paddingBottomRight||s.padding||[0,0]),x=this.getBoundsZoom(e,!1,h.add(g));if(x=typeof s.maxZoom=="number"?Math.min(s.maxZoom,x):x,x===1/0)return{center:e.getCenter(),zoom:x};var S=g.subtract(h).divideBy(2),Z=this.project(e.getSouthWest(),x),et=this.project(e.getNorthEast(),x),ct=this.unproject(Z.add(et).divideBy(2).add(S),x);return{center:ct,zoom:x}},fitBounds:function(e,s){if(e=xe(e),!e.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(e,s);return this.setView(h.center,h.zoom,s)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,s){return this.setView(e,this._zoom,{pan:s})},panBy:function(e,s){if(e=Ut(e).round(),s=s||{},!e.x&&!e.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ga,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){re(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,h,s.duration||.25,s.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,s,h){if(h=h||{},h.animate===!1||!Zt.any3d)return this.setView(e,s,h);this._stop();var g=this.project(this.getCenter()),x=this.project(e),S=this.getSize(),Z=this._zoom;e=Jt(e),s=s===void 0?Z:s;var et=Math.max(S.x,S.y),ct=et*this.getZoomScale(Z,s),yt=x.distanceTo(g)||1,Ot=1.42,$t=Ot*Ot;function se(Ie){var kr=Ie?-1:1,Cl=Ie?ct:et,Ui=ct*ct-et*et+kr*$t*$t*yt*yt,xl=2*Cl*$t*yt,tr=Ui/xl,vo=Math.sqrt(tr*tr+1)-tr,wl=vo<1e-9?-18:Math.log(vo);return wl}function li(Ie){return(Math.exp(Ie)-Math.exp(-Ie))/2}function Ke(Ie){return(Math.exp(Ie)+Math.exp(-Ie))/2}function di(Ie){return li(Ie)/Ke(Ie)}var Se=se(0);function Hi(Ie){return et*(Ke(Se)/Ke(Se+Ot*Ie))}function yo(Ie){return et*(Ke(Se)*di(Se+Ot*Ie)-li(Se))/$t}function gs(Ie){return 1-Math.pow(1-Ie,1.5)}var Sa=Date.now(),wr=(se(1)-Se)/Ot,bl=h.duration?1e3*h.duration:1e3*wr*.8;function Aa(){var Ie=(Date.now()-Sa)/bl,kr=gs(Ie)*wr;Ie<=1?(this._flyToFrame=Pt(Aa,this),this._move(this.unproject(g.add(x.subtract(g).multiplyBy(yo(kr)/yt)),Z),this.getScaleZoom(et/Hi(kr),Z),{flyTo:!0})):this._move(e,s)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Aa.call(this),this},flyToBounds:function(e,s){var h=this._getBoundsCenterZoom(e,s);return this.flyTo(h.center,h.zoom,s)},setMaxBounds:function(e){return e=xe(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var s=this.options.minZoom;return this.options.minZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var s=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,s){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,xe(e));return h.equals(g)||this.panTo(g,s),this._enforcingBounds=!1,this},panInside:function(e,s){s=s||{};var h=Ut(s.paddingTopLeft||s.padding||[0,0]),g=Ut(s.paddingBottomRight||s.padding||[0,0]),x=this.project(this.getCenter()),S=this.project(e),Z=this.getPixelBounds(),et=ye([Z.min.add(h),Z.max.subtract(g)]),ct=et.getSize();if(!et.contains(S)){this._enforcingBounds=!0;var yt=S.subtract(et.getCenter()),Ot=et.extend(S).getSize().subtract(ct);x.x+=yt.x<0?-Ot.x:Ot.x,x.y+=yt.y<0?-Ot.y:Ot.y,this.panTo(this.unproject(x),s),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=d({animate:!1,pan:!0},e===!0?{animate:!0}:e);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=s.divideBy(2).round(),x=h.divideBy(2).round(),S=g.subtract(x);return!S.x&&!S.y?this:(e.animate&&e.pan?this.panBy(S):(e.pan&&this._rawPanBy(S),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=d({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,h,e):navigator.geolocation.getCurrentPosition(s,h,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var s=e.code,h=e.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var s=e.coords.latitude,h=e.coords.longitude,g=new ae(s,h),x=g.toBounds(e.coords.accuracy*2),S=this._locateOptions;if(S.setView){var Z=this.getBoundsZoom(x);this.setView(g,S.maxZoom?Math.min(Z,S.maxZoom):Z)}var et={latlng:g,bounds:x,timestamp:e.timestamp};for(var ct in e.coords)typeof e.coords[ct]=="number"&&(et[ct]=e.coords[ct]);this.fire("locationfound",et)}},addHandler:function(e,s){if(!s)return this;var h=this[e]=new s(this);return this._handlers.push(h),this.options[e]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(mt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Be(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,s){var h="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),g=fe("div",h,s||this._mapPane);return e&&(this._panes[e]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),s=this.unproject(e.getBottomLeft()),h=this.unproject(e.getTopRight());return new Re(s,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,s,h){e=xe(e),h=Ut(h||[0,0]);var g=this.getZoom()||0,x=this.getMinZoom(),S=this.getMaxZoom(),Z=e.getNorthWest(),et=e.getSouthEast(),ct=this.getSize().subtract(h),yt=ye(this.project(et,g),this.project(Z,g)).getSize(),Ot=Zt.any3d?this.options.zoomSnap:1,$t=ct.x/yt.x,se=ct.y/yt.y,li=s?Math.max($t,se):Math.min($t,se);return g=this.getScaleZoom(li,g),Ot&&(g=Math.round(g/(Ot/100))*(Ot/100),g=s?Math.ceil(g/Ot)*Ot:Math.floor(g/Ot)*Ot),Math.max(x,Math.min(S,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _t(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,s){var h=this._getTopLeftPoint(e,s);return new ue(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,s){var h=this.options.crs;return s=s===void 0?this._zoom:s,h.scale(e)/h.scale(s)},getScaleZoom:function(e,s){var h=this.options.crs;s=s===void 0?this._zoom:s;var g=h.zoom(e*h.scale(s));return isNaN(g)?1/0:g},project:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(Jt(e),s)},unproject:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Ut(e),s)},layerPointToLatLng:function(e){var s=Ut(e).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(e){var s=this.project(Jt(e))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Jt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(xe(e))},distance:function(e,s){return this.options.crs.distance(Jt(e),Jt(s))},containerPointToLayerPoint:function(e){return Ut(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return Ut(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var s=this.containerPointToLayerPoint(Ut(e));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Jt(e)))},mouseEventToContainerPoint:function(e){return pa(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var s=this._container=ha(e);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ie(s,"scroll",this._onScroll,this),this._containerId=y(s)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Zt.any3d,re(e,"leaflet-container"+(Zt.touch?" leaflet-touch":"")+(Zt.retina?" leaflet-retina":"")+(Zt.ielt9?" leaflet-oldie":"")+(Zt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ln(e,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fe(this._mapPane,new _t(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(re(e.markerPane,"leaflet-zoom-hide"),re(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,s,h){Fe(this._mapPane,new _t(0,0));var g=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var x=this._zoom!==s;this._moveStart(x,h)._move(e,s)._moveEnd(x),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(e,s){return e&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(e,s,h,g){s===void 0&&(s=this._zoom);var x=this._zoom!==s;return this._zoom=s,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),g?h&&h.pinch&&this.fire("zoom",h):((x||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return mt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Fe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[y(this._container)]=this;var s=e?we:ie;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Zt.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){mt(this._resizeRequest),this._resizeRequest=Pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,s){for(var h=[],g,x=s==="mouseout"||s==="mouseover",S=e.target||e.srcElement,Z=!1;S;){if(g=this._targets[y(S)],g&&(s==="click"||s==="preclick")&&this._draggableMoved(g)){Z=!0;break}if(g&&g.listens(s,!0)&&(x&&!oo(S,e)||(h.push(g),x))||S===this._container)break;S=S.parentNode}return!h.length&&!Z&&!x&&this.listens(s,!0)&&(h=[this]),h},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var s=e.target||e.srcElement;if(!(!this._loaded||s._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(s))){var h=e.type;h==="mousedown"&&eo(s),this._fireDOMEvent(e,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,s,h){if(e.type==="click"){var g=d({},e);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var x=this._findEventTargets(e,s);if(h){for(var S=[],Z=0;Z<h.length;Z++)h[Z].listens(s,!0)&&S.push(h[Z]);x=S.concat(x)}if(x.length){s==="contextmenu"&&We(e);var et=x[0],ct={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var yt=et.getLatLng&&(!et._radius||et._radius<=10);ct.containerPoint=yt?this.latLngToContainerPoint(et.getLatLng()):this.mouseEventToContainerPoint(e),ct.layerPoint=this.containerPointToLayerPoint(ct.containerPoint),ct.latlng=yt?et.getLatLng():this.layerPointToLatLng(ct.layerPoint)}for(Z=0;Z<x.length;Z++)if(x[Z].fire(s,ct,!0),ct.originalEvent._stopped||x[Z].options.bubblingMouseEvents===!1&&$(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,s=this._handlers.length;e<s;e++)this._handlers[e].disable()},whenReady:function(e,s){return this._loaded?e.call(s||this,{target:this}):this.on("load",e,s),this},_getMapPanePos:function(){return wn(this._mapPane)||new _t(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,s){var h=e&&s!==void 0?this._getNewPixelOrigin(e,s):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,s){var h=this.getSize()._divideBy(2);return this.project(e,s)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,s,h){var g=this._getNewPixelOrigin(h,s);return this.project(e,s)._subtract(g)},_latLngBoundsToNewLayerBounds:function(e,s,h){var g=this._getNewPixelOrigin(h,s);return ye([this.project(e.getSouthWest(),s)._subtract(g),this.project(e.getNorthWest(),s)._subtract(g),this.project(e.getSouthEast(),s)._subtract(g),this.project(e.getNorthEast(),s)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,s,h){if(!h)return e;var g=this.project(e,s),x=this.getSize().divideBy(2),S=new ue(g.subtract(x),g.add(x)),Z=this._getBoundsOffset(S,h,s);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?e:this.unproject(g.add(Z),s)},_limitOffset:function(e,s){if(!s)return e;var h=this.getPixelBounds(),g=new ue(h.min.add(e),h.max.add(e));return e.add(this._getBoundsOffset(g,s))},_getBoundsOffset:function(e,s,h){var g=ye(this.project(s.getNorthEast(),h),this.project(s.getSouthWest(),h)),x=g.min.subtract(e.min),S=g.max.subtract(e.max),Z=this._rebound(x.x,-S.x),et=this._rebound(x.y,-S.y);return new _t(Z,et)},_rebound:function(e,s){return e+s>0?Math.round(e-s)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(s))},_limitZoom:function(e){var s=this.getMinZoom(),h=this.getMaxZoom(),g=Zt.any3d?this.options.zoomSnap:1;return g&&(e=Math.round(e/g)*g),Math.max(s,Math.min(h,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,s){var h=this._getCenterOffset(e)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,s),!0)},_createAnimProxy:function(){var e=this._proxy=fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(s){var h=Ws,g=this._proxy.style[h];xn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),s=this.getZoom();xn(this._proxy,this.project(e,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,s,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(s),x=this._getCenterOffset(e)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(x)?!1:(Pt(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(e,s,!0)},this),!0)},_animateZoom:function(e,s,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=s,re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:s,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ma(e,s){return new le(e,s)}var ee=Qt.extend({options:{position:"topright"},initialize:function(e){z(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var s=this._map;return s&&s.removeControl(this),this.options.position=e,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var s=this._container=this.onAdd(e),h=this.getPosition(),g=e._controlCorners[h];return re(s,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(s,g.firstChild):g.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Mn=function(e){return new ee(e)};le.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},s="leaflet-",h=this._controlContainer=fe("div",s+"control-container",this._container);function g(x,S){var Z=s+x+" "+s+S;e[x+S]=fe("div",Z,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Be(this._controlCorners[e]);Be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mr=ee.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,s,h,g){return h<g?-1:g<h?1:0}},initialize:function(e,s,h){z(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in e)this._addLayer(e[g],g);for(g in s)this._addLayer(s[g],g,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return ee.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,s){return this._addLayer(e,s),this._map?this._update():this},addOverlay:function(e,s){return this._addLayer(e,s,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var s=this._getLayer(y(e));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",s=this._container=fe("div",e),h=this.options.collapsed;s.setAttribute("aria-haspopup",!0),gr(s),so(s);var g=this._section=fe("section",e+"-list");h&&(this._map.on("click",this.collapse,this),ie(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=fe("a",e+"-toggle",s);x.href="#",x.title="Layers",x.setAttribute("role","button"),ie(x,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){We(S),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=fe("div",e+"-base",g),this._separator=fe("div",e+"-separator",g),this._overlaysList=fe("div",e+"-overlays",g),s.appendChild(g)},_getLayer:function(e){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&y(this._layers[s].layer)===e)return this._layers[s]},_addLayer:function(e,s,h){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:s,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(g,x){return this.options.sortFunction(g.layer,x.layer,g.name,x.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;dr(this._baseLayersList),dr(this._overlaysList),this._layerControlInputs=[];var e,s,h,g,x=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),s=s||g.overlay,e=e||!g.overlay,x+=g.overlay?0:1;return this.options.hideSingleBase&&(e=e&&x>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=s&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var s=this._getLayer(y(e.target)),h=s.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;h&&this._map.fire(h,s)},_createRadioElement:function(e,s){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(s?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(e){var s=document.createElement("label"),h=this._map.hasLayer(e.layer),g;e.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+y(this),h),this._layerControlInputs.push(g),g.layerId=y(e.layer),ie(g,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+e.name;var S=document.createElement("span");s.appendChild(S),S.appendChild(g),S.appendChild(x);var Z=e.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,s,h,g=[],x=[];this._handlingClick=!0;for(var S=e.length-1;S>=0;S--)s=e[S],h=this._getLayer(s.layerId).layer,s.checked?g.push(h):s.checked||x.push(h);for(S=0;S<x.length;S++)this._map.hasLayer(x[S])&&this._map.removeLayer(x[S]);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])||this._map.addLayer(g[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,s,h,g=this._map.getZoom(),x=e.length-1;x>=0;x--)s=e[x],h=this._getLayer(s.layerId).layer,s.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,ie(e,"click",We),this.expand();var s=this;setTimeout(function(){we(e,"click",We),s._preventClick=!1})}}),el=function(e,s,h){return new mr(e,s,h)},Yr=ee.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var s="leaflet-control-zoom",h=fe("div",s+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,s+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,s+"-out",h,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,s,h,g,x){var S=fe("a",h,g);return S.innerHTML=e,S.href="#",S.title=s,S.setAttribute("role","button"),S.setAttribute("aria-label",s),gr(S),ie(S,"click",En),ie(S,"click",x,this),ie(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var e=this._map,s="leaflet-disabled";Oe(this._zoomInButton,s),Oe(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(re(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(re(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});le.mergeOptions({zoomControl:!0}),le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yr,this.addControl(this.zoomControl))});var il=function(e){return new Yr(e)},Jr=ee.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var s="leaflet-control-scale",h=fe("div",s),g=this.options;return this._addScales(g,s+"-line",h),e.on(g.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),h},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,s,h){e.metric&&(this._mScale=fe("div",s,h)),e.imperial&&(this._iScale=fe("div",s,h))},_update:function(){var e=this._map,s=e.getSize().y/2,h=e.distance(e.containerPointToLatLng([0,s]),e.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(h)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var s=this._getRoundNum(e),h=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,h,s/e)},_updateImperial:function(e){var s=e*3.2808399,h,g,x;s>5280?(h=s/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(x=this._getRoundNum(s),this._updateScale(this._iScale,x+" ft",x/s))},_updateScale:function(e,s,h){e.style.width=Math.round(this.options.maxWidth*h)+"px",e.innerHTML=s},_getRoundNum:function(e){var s=Math.pow(10,(Math.floor(e)+"").length-1),h=e/s;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,s*h}}),Xr=function(e){return new Jr(e)},nl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ni=ee.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Zt.inlineSvg?nl+" ":"")+"Leaflet</a>"},initialize:function(e){z(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=fe("div","leaflet-control-attribution"),gr(this._container);for(var s in e._layers)e._layers[s].getAttribution&&this.addAttribution(e._layers[s].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var s in this._attributions)this._attributions[s]&&e.push(s);var h=[];this.options.prefix&&h.push(this.options.prefix),e.length&&h.push(e.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});le.mergeOptions({attributionControl:!0}),le.addInitHook(function(){this.options.attributionControl&&new Ni().addTo(this)});var ya=function(e){return new Ni(e)};ee.Layers=mr,ee.Zoom=Yr,ee.Scale=Jr,ee.Attribution=Ni,Mn.layers=el,Mn.zoom=il,Mn.scale=Xr,Mn.attribution=ya;var oi=Qt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});oi.addTo=function(e,s){return e.addHandler(s,this),this};var rl={Events:St},va=Zt.touch?"touchstart mousedown":"mousedown",cn=qt.extend({options:{clickTolerance:3},initialize:function(e,s,h,g){z(this,g),this._element=e,this._dragStartTarget=s||e,this._preventOutline=h},enable:function(){this._enabled||(ie(this._dragStartTarget,va,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),we(this._dragStartTarget,va,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!$s(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(cn._dragging=this,this._preventOutline&&eo(this._element),Xs(),pr(),!this._moving)){this.fire("down");var s=e.touches?e.touches[0]:e,h=ca(this._element);this._startPoint=new _t(s.clientX,s.clientY),this._startPos=wn(this._element),this._parentScale=io(h);var g=e.type==="mousedown";ie(document,g?"mousemove":"touchmove",this._onMove,this),ie(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var s=e.touches&&e.touches.length===1?e.touches[0]:e,h=new _t(s.clientX,s.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,We(e),this._moved||(this.fire("dragstart"),this._moved=!0,re(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Fe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),we(document,"mousemove touchmove",this._onMove,this),we(document,"mouseup touchend touchcancel",this._onUp,this),Qs(),_r();var s=this._moved&&this._moving;this._moving=!1,cn._dragging=!1,s&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function La(e,s,h){var g,x=[1,4,2,8],S,Z,et,ct,yt,Ot,$t,se;for(S=0,Ot=e.length;S<Ot;S++)e[S]._code=ci(e[S],s);for(et=0;et<4;et++){for($t=x[et],g=[],S=0,Ot=e.length,Z=Ot-1;S<Ot;Z=S++)ct=e[S],yt=e[Z],ct._code&$t?yt._code&$t||(se=fn(yt,ct,$t,s,h),se._code=ci(se,s),g.push(se)):(yt._code&$t&&(se=fn(yt,ct,$t,s,h),se._code=ci(se,s),g.push(se)),g.push(ct));e=g}return e}function ba(e,s){var h,g,x,S,Z,et,ct,yt,Ot;if(!e||e.length===0)throw new Error("latlngs not passed");fi(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var $t=Jt([0,0]),se=xe(e),li=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());li<1700&&($t=ao(e));var Ke=e.length,di=[];for(h=0;h<Ke;h++){var Se=Jt(e[h]);di.push(s.project(Jt([Se.lat-$t.lat,Se.lng-$t.lng])))}for(et=ct=yt=0,h=0,g=Ke-1;h<Ke;g=h++)x=di[h],S=di[g],Z=x.y*S.x-S.y*x.x,ct+=(x.x+S.x)*Z,yt+=(x.y+S.y)*Z,et+=Z*3;et===0?Ot=di[0]:Ot=[ct/et,yt/et];var Hi=s.unproject(Ut(Ot));return Jt([Hi.lat+$t.lat,Hi.lng+$t.lng])}function ao(e){for(var s=0,h=0,g=0,x=0;x<e.length;x++){var S=Jt(e[x]);s+=S.lat,h+=S.lng,g++}return Jt([s/g,h/g])}var sl={__proto__:null,clipPolygon:La,polygonCenter:ba,centroid:ao};function Ca(e,s){if(!s||!e.length)return e.slice();var h=s*s;return e=xa(e,h),e=$e(e,h),e}function uo(e,s,h){return Math.sqrt(yr(e,s,h,!0))}function ol(e,s,h){return yr(e,s,h)}function $e(e,s){var h=e.length,g=typeof Uint8Array<"u"?Uint8Array:Array,x=new g(h);x[0]=x[h-1]=1,ti(e,x,s,0,h-1);var S,Z=[];for(S=0;S<h;S++)x[S]&&Z.push(e[S]);return Z}function ti(e,s,h,g,x){var S=0,Z,et,ct;for(et=g+1;et<=x-1;et++)ct=yr(e[et],e[g],e[x],!0),ct>S&&(Z=et,S=ct);S>h&&(s[Z]=1,ti(e,s,h,g,Z),ti(e,s,h,Z,x))}function xa(e,s){for(var h=[e[0]],g=1,x=0,S=e.length;g<S;g++)al(e[g],e[x])>s&&(h.push(e[g]),x=g);return x<S-1&&h.push(e[S-1]),h}var Pn;function Bn(e,s,h,g,x){var S=g?Pn:ci(e,h),Z=ci(s,h),et,ct,yt;for(Pn=Z;;){if(!(S|Z))return[e,s];if(S&Z)return!1;et=S||Z,ct=fn(e,s,et,h,x),yt=ci(ct,h),et===S?(e=ct,S=yt):(s=ct,Z=yt)}}function fn(e,s,h,g,x){var S=s.x-e.x,Z=s.y-e.y,et=g.min,ct=g.max,yt,Ot;return h&8?(yt=e.x+S*(ct.y-e.y)/Z,Ot=ct.y):h&4?(yt=e.x+S*(et.y-e.y)/Z,Ot=et.y):h&2?(yt=ct.x,Ot=e.y+Z*(ct.x-e.x)/S):h&1&&(yt=et.x,Ot=e.y+Z*(et.x-e.x)/S),new _t(yt,Ot,x)}function ci(e,s){var h=0;return e.x<s.min.x?h|=1:e.x>s.max.x&&(h|=2),e.y<s.min.y?h|=4:e.y>s.max.y&&(h|=8),h}function al(e,s){var h=s.x-e.x,g=s.y-e.y;return h*h+g*g}function yr(e,s,h,g){var x=s.x,S=s.y,Z=h.x-x,et=h.y-S,ct=Z*Z+et*et,yt;return ct>0&&(yt=((e.x-x)*Z+(e.y-S)*et)/ct,yt>1?(x=h.x,S=h.y):yt>0&&(x+=Z*yt,S+=et*yt)),Z=e.x-x,et=e.y-S,g?Z*Z+et*et:new _t(x,S)}function fi(e){return!G(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function xi(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fi(e)}function lo(e,s){var h,g,x,S,Z,et,ct,yt;if(!e||e.length===0)throw new Error("latlngs not passed");fi(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Ot=Jt([0,0]),$t=xe(e),se=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());se<1700&&(Ot=ao(e));var li=e.length,Ke=[];for(h=0;h<li;h++){var di=Jt(e[h]);Ke.push(s.project(Jt([di.lat-Ot.lat,di.lng-Ot.lng])))}for(h=0,g=0;h<li-1;h++)g+=Ke[h].distanceTo(Ke[h+1])/2;if(g===0)yt=Ke[0];else for(h=0,S=0;h<li-1;h++)if(Z=Ke[h],et=Ke[h+1],x=Z.distanceTo(et),S+=x,S>g){ct=(S-g)/x,yt=[et.x-ct*(et.x-Z.x),et.y-ct*(et.y-Z.y)];break}var Se=s.unproject(Ut(yt));return Jt([Se.lat+Ot.lat,Se.lng+Ot.lng])}var Qr={__proto__:null,simplify:Ca,pointToSegmentDistance:uo,closestPointOnSegment:ol,clipSegment:Bn,_getEdgeIntersection:fn,_getBitCode:ci,_sqClosestPointOnSegment:yr,isFlat:fi,_flat:xi,polylineCenter:lo},ho={project:function(e){return new _t(e.lng,e.lat)},unproject:function(e){return new ae(e.y,e.x)},bounds:new ue([-180,-90],[180,90])},wi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var s=Math.PI/180,h=this.R,g=e.lat*s,x=this.R_MINOR/h,S=Math.sqrt(1-x*x),Z=S*Math.sin(g),et=Math.tan(Math.PI/4-g/2)/Math.pow((1-Z)/(1+Z),S/2);return g=-h*Math.log(Math.max(et,1e-10)),new _t(e.lng*s*h,g)},unproject:function(e){for(var s=180/Math.PI,h=this.R,g=this.R_MINOR/h,x=Math.sqrt(1-g*g),S=Math.exp(-e.y/h),Z=Math.PI/2-2*Math.atan(S),et=0,ct=.1,yt;et<15&&Math.abs(ct)>1e-7;et++)yt=x*Math.sin(Z),yt=Math.pow((1-yt)/(1+yt),x/2),ct=Math.PI/2-2*Math.atan(S*yt)-Z,Z+=ct;return new ae(Z*s,e.x*s/h)}},zi={__proto__:null,LonLat:ho,Mercator:wi,SphericalMercator:jt},ts=d({},Dt,{code:"EPSG:3395",projection:wi,transformation:(function(){var e=.5/(Math.PI*wi.R);return _e(e,.5,-e,.5)})()}),co=d({},Dt,{code:"EPSG:4326",projection:ho,transformation:_e(1/180,1,-1/180,.5)}),fo=d({},ft,{projection:ho,transformation:_e(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,s){var h=s.lng-e.lng,g=s.lat-e.lat;return Math.sqrt(h*h+g*g)},infinite:!0});ft.Earth=Dt,ft.EPSG3395=ts,ft.EPSG3857=N,ft.EPSG900913=V,ft.EPSG4326=co,ft.Simple=fo;var ai=qt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[y(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[y(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var s=e.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var h=this.getEvents();s.on(h,this),this.once("remove",function(){s.off(h,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});le.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var s=y(e);return this._layers[s]?this:(this._layers[s]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var s=y(e);return this._layers[s]?(this._loaded&&e.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return y(e)in this._layers},eachLayer:function(e,s){for(var h in this._layers)e.call(s,this._layers[h]);return this},_addLayers:function(e){e=e?G(e)?e:[e]:[];for(var s=0,h=e.length;s<h;s++)this.addLayer(e[s])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[y(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var s=y(e);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,s=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var x=this._zoomBoundLayers[g].options;e=x.minZoom===void 0?e:Math.min(e,x.minZoom),s=x.maxZoom===void 0?s:Math.max(s,x.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=e===1/0?void 0:e,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wn=ai.extend({initialize:function(e,s){z(this,s),this._layers={};var h,g;if(e)for(h=0,g=e.length;h<g;h++)this.addLayer(e[h])},addLayer:function(e){var s=this.getLayerId(e);return this._layers[s]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var s=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(e){var s=typeof e=="number"?e:this.getLayerId(e);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var s=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[e]&&g[e].apply(g,s);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,s){for(var h in this._layers)e.call(s,this._layers[h]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return y(e)}}),ul=function(e,s){return new Wn(e,s)},Bi=Wn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Wn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Wn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Re;for(var s in this._layers){var h=this._layers[s];e.extend(h.getBounds?h.getBounds():h.getLatLng())}return e}}),ll=function(e,s){return new Bi(e,s)},$n=Qt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){z(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,s){var h=this._getIconUrl(e);if(!h){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(g,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(e,s){var h=this.options,g=h[s+"Size"];typeof g=="number"&&(g=[g,g]);var x=Ut(g),S=Ut(s==="shadow"&&h.shadowAnchor||h.iconAnchor||x&&x.divideBy(2,!0));e.className="leaflet-marker-"+s+" "+(h.className||""),S&&(e.style.marginLeft=-S.x+"px",e.style.marginTop=-S.y+"px"),x&&(e.style.width=x.x+"px",e.style.height=x.y+"px")},_createImg:function(e,s){return s=s||document.createElement("img"),s.src=e,s},_getIconUrl:function(e){return Zt.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function hl(e){return new $n(e)}var vr=$n.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof vr.imagePath!="string"&&(vr.imagePath=this._detectIconPath()),(this.options.imagePath||vr.imagePath)+$n.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var s=function(h,g,x){var S=g.exec(h);return S&&S[x]};return e=s(e,/^url\((['"])?(.+)\1\)$/,2),e&&s(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=fe("div","leaflet-default-icon-path",document.body),s=ln(e,"background-image")||ln(e,"backgroundImage");if(document.body.removeChild(e),s=this._stripUrl(s),s)return s;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),es=oi.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new cn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),re(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var s=this._marker,h=s._map,g=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,S=wn(s._icon),Z=h.getPixelBounds(),et=h.getPixelOrigin(),ct=ye(Z.min._subtract(et).add(x),Z.max._subtract(et).subtract(x));if(!ct.contains(S)){var yt=Ut((Math.max(ct.max.x,S.x)-ct.max.x)/(Z.max.x-ct.max.x)-(Math.min(ct.min.x,S.x)-ct.min.x)/(Z.min.x-ct.min.x),(Math.max(ct.max.y,S.y)-ct.max.y)/(Z.max.y-ct.max.y)-(Math.min(ct.min.y,S.y)-ct.min.y)/(Z.min.y-ct.min.y)).multiplyBy(g);h.panBy(yt,{animate:!1}),this._draggable._newPos._add(yt),this._draggable._startPos._add(yt),Fe(s._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=Pt(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(mt(this._panRequest),this._panRequest=Pt(this._adjustPan.bind(this,e)))},_onDrag:function(e){var s=this._marker,h=s._shadow,g=wn(s._icon),x=s._map.layerPointToLatLng(g);h&&Fe(h,g),s._latlng=x,e.latlng=x,e.oldLatLng=this._oldLatLng,s.fire("move",e).fire("drag",e)},_onDragEnd:function(e){mt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),is=ai.extend({options:{icon:new vr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,s){z(this,s),this._latlng=Jt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var s=this._latlng;return this._latlng=Jt(e),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=e.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,e.title&&(h.title=e.title),h.tagName==="IMG"&&(h.alt=e.alt||"")),re(h,s),e.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ie(h,"focus",this._panOnFocus,this);var x=e.icon.createShadow(this._shadow),S=!1;x!==this._shadow&&(this._removeShadow(),S=!0),x&&(re(x,s),x.alt=""),this._shadow=x,e.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&S&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&we(this._icon,"focus",this._panOnFocus,this),Be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Be(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Fe(this._icon,e),this._shadow&&Fe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),es)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new es(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Ci(this._icon,e),this._shadow&&Ci(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var s=this.options.icon.options,h=s.iconSize?Ut(s.iconSize):Ut(0,0),g=s.iconAnchor?Ut(s.iconAnchor):Ut(0,0);e.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cl(e,s){return new is(e,s)}var Ji=ai.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return z(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gi=Ji.extend({options:{fill:!0,radius:10},initialize:function(e,s){z(this,s),this._latlng=Jt(e),this._radius=this.options.radius},setLatLng:function(e){var s=this._latlng;return this._latlng=Jt(e),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var s=e&&e.radius||this._radius;return Ji.prototype.setStyle.call(this,e),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,s=this._radiusY||e,h=this._clickTolerance(),g=[e+h,s+h];this._pxBounds=new ue(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wa(e,s){return new Gi(e,s)}var po=Gi.extend({initialize:function(e,s,h){if(typeof s=="number"&&(s=d({},h,{radius:s})),z(this,s),this._latlng=Jt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Re(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Ji.prototype.setStyle,_project:function(){var e=this._latlng.lng,s=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===Dt.distance){var x=Math.PI/180,S=this._mRadius/Dt.R/x,Z=h.project([s+S,e]),et=h.project([s-S,e]),ct=Z.add(et).divideBy(2),yt=h.unproject(ct).lat,Ot=Math.acos((Math.cos(S*x)-Math.sin(s*x)*Math.sin(yt*x))/(Math.cos(s*x)*Math.cos(yt*x)))/x;(isNaN(Ot)||Ot===0)&&(Ot=S/Math.cos(Math.PI/180*s)),this._point=ct.subtract(h.getPixelOrigin()),this._radius=isNaN(Ot)?0:ct.x-h.project([yt,e-Ot]).x,this._radiusY=ct.y-Z.y}else{var $t=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint($t).x}this._updateBounds()}});function Tn(e,s,h){return new po(e,s,h)}var Xi=Ji.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,s){z(this,s),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var s=1/0,h=null,g=yr,x,S,Z=0,et=this._parts.length;Z<et;Z++)for(var ct=this._parts[Z],yt=1,Ot=ct.length;yt<Ot;yt++){x=ct[yt-1],S=ct[yt];var $t=g(e,x,S,!0);$t<s&&(s=$t,h=g(e,x,S))}return h&&(h.distance=Math.sqrt(s)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,s){return s=s||this._defaultShape(),e=Jt(e),s.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Re,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return fi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var s=[],h=fi(e),g=0,x=e.length;g<x;g++)h?(s[g]=Jt(e[g]),this._bounds.extend(s[g])):s[g]=this._convertLatLngs(e[g]);return s},_project:function(){var e=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),s=new _t(e,e);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(e,s,h){var g=e[0]instanceof ae,x=e.length,S,Z;if(g){for(Z=[],S=0;S<x;S++)Z[S]=this._map.latLngToLayerPoint(e[S]),h.extend(Z[S]);s.push(Z)}else for(S=0;S<x;S++)this._projectLatlngs(e[S],s,h)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,h,g,x,S,Z,et,ct;for(h=0,x=0,S=this._rings.length;h<S;h++)for(ct=this._rings[h],g=0,Z=ct.length;g<Z-1;g++)et=Bn(ct[g],ct[g+1],e,g,!0),et&&(s[x]=s[x]||[],s[x].push(et[0]),(et[1]!==ct[g+1]||g===Z-2)&&(s[x].push(et[1]),x++))}},_simplifyPoints:function(){for(var e=this._parts,s=this.options.smoothFactor,h=0,g=e.length;h<g;h++)e[h]=Ca(e[h],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,s){var h,g,x,S,Z,et,ct=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(h=0,S=this._parts.length;h<S;h++)for(et=this._parts[h],g=0,Z=et.length,x=Z-1;g<Z;x=g++)if(!(!s&&g===0)&&uo(e,et[x],et[g])<=ct)return!0;return!1}});function fl(e,s){return new Xi(e,s)}Xi._flat=xi;var dn=Xi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ba(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var s=Xi.prototype._convertLatLngs.call(this,e),h=s.length;return h>=2&&s[0]instanceof ae&&s[0].equals(s[h-1])&&s.pop(),s},_setLatLngs:function(e){Xi.prototype._setLatLngs.call(this,e),fi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,s=this.options.weight,h=new _t(s,s);if(e=new ue(e.min.subtract(h),e.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,x=this._rings.length,S;g<x;g++)S=La(this._rings[g],e,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var s=!1,h,g,x,S,Z,et,ct,yt;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(S=0,ct=this._parts.length;S<ct;S++)for(h=this._parts[S],Z=0,yt=h.length,et=yt-1;Z<yt;et=Z++)g=h[Z],x=h[et],g.y>e.y!=x.y>e.y&&e.x<(x.x-g.x)*(e.y-g.y)/(x.y-g.y)+g.x&&(s=!s);return s||Xi.prototype._containsPoint.call(this,e,!0)}});function Lr(e,s){return new dn(e,s)}var Qi=Bi.extend({initialize:function(e,s){z(this,s),this._layers={},e&&this.addData(e)},addData:function(e){var s=G(e)?e:e.features,h,g,x;if(s){for(h=0,g=s.length;h<g;h++)x=s[h],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var S=this.options;if(S.filter&&!S.filter(e))return this;var Z=ns(e,S);return Z?(Z.feature=us(e),Z.defaultOptions=Z.options,this.resetStyle(Z),S.onEachFeature&&S.onEachFeature(e,Z),this.addLayer(Z)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=d({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(s){this._setLayerStyle(s,e)},this)},_setLayerStyle:function(e,s){e.setStyle&&(typeof s=="function"&&(s=s(e.feature)),e.setStyle(s))}});function ns(e,s){var h=e.type==="Feature"?e.geometry:e,g=h?h.coordinates:null,x=[],S=s&&s.pointToLayer,Z=s&&s.coordsToLatLng||rs,et,ct,yt,Ot;if(!g&&!h)return null;switch(h.type){case"Point":return et=Z(g),ka(S,e,et,s);case"MultiPoint":for(yt=0,Ot=g.length;yt<Ot;yt++)et=Z(g[yt]),x.push(ka(S,e,et,s));return new Bi(x);case"LineString":case"MultiLineString":return ct=ss(g,h.type==="LineString"?0:1,Z),new Xi(ct,s);case"Polygon":case"MultiPolygon":return ct=ss(g,h.type==="Polygon"?1:2,Z),new dn(ct,s);case"GeometryCollection":for(yt=0,Ot=h.geometries.length;yt<Ot;yt++){var $t=ns({geometry:h.geometries[yt],type:"Feature",properties:e.properties},s);$t&&x.push($t)}return new Bi(x);case"FeatureCollection":for(yt=0,Ot=h.features.length;yt<Ot;yt++){var se=ns(h.features[yt],s);se&&x.push(se)}return new Bi(x);default:throw new Error("Invalid GeoJSON object.")}}function ka(e,s,h,g){return e?e(s,h):new is(h,g&&g.markersInheritOptions&&g)}function rs(e){return new ae(e[1],e[0],e[2])}function ss(e,s,h){for(var g=[],x=0,S=e.length,Z;x<S;x++)Z=s?ss(e[x],s-1,h):(h||rs)(e[x]),g.push(Z);return g}function os(e,s){return e=Jt(e),e.alt!==void 0?[B(e.lng,s),B(e.lat,s),B(e.alt,s)]:[B(e.lng,s),B(e.lat,s)]}function as(e,s,h,g){for(var x=[],S=0,Z=e.length;S<Z;S++)x.push(s?as(e[S],fi(e[S])?0:s-1,h,g):os(e[S],g));return!s&&h&&x.length>0&&x.push(x[0].slice()),x}function Yn(e,s){return e.feature?d({},e.feature,{geometry:s}):us(s)}function us(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var ls={toGeoJSON:function(e){return Yn(this,{type:"Point",coordinates:os(this.getLatLng(),e)})}};is.include(ls),po.include(ls),Gi.include(ls),Xi.include({toGeoJSON:function(e){var s=!fi(this._latlngs),h=as(this._latlngs,s?1:0,!1,e);return Yn(this,{type:(s?"Multi":"")+"LineString",coordinates:h})}}),dn.include({toGeoJSON:function(e){var s=!fi(this._latlngs),h=s&&!fi(this._latlngs[0]),g=as(this._latlngs,h?2:s?1:0,!0,e);return s||(g=[g]),Yn(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),Wn.include({toMultiPoint:function(e){var s=[];return this.eachLayer(function(h){s.push(h.toGeoJSON(e).geometry.coordinates)}),Yn(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(e){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(e);var h=s==="GeometryCollection",g=[];return this.eachLayer(function(x){if(x.toGeoJSON){var S=x.toGeoJSON(e);if(h)g.push(S.geometry);else{var Z=us(S);Z.type==="FeatureCollection"?g.push.apply(g,Z.features):g.push(Z)}}}),h?Yn(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function hs(e,s){return new Qi(e,s)}var Ea=hs,Jn=ai.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,s,h){this._url=e,this._bounds=xe(s),z(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Kn(this._image),this},bringToBack:function(){return this._map&&Cn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=xe(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",s=this._image=e?this._url:fe("img");if(re(s,"leaflet-image-layer"),this._zoomAnimated&&re(s,"leaflet-zoom-animated"),this.options.className&&re(s,this.options.className),s.onselectstart=w,s.onmousemove=w,s.onload=f(this.fire,this,"load"),s.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(e){var s=this._map.getZoomScale(e.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;xn(this._image,h,s)},_reset:function(){var e=this._image,s=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=s.getSize();Fe(e,s.min),e.style.width=h.x+"px",e.style.height=h.y+"px"},_updateOpacity:function(){Ci(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),dl=function(e,s,h){return new Jn(e,s,h)},br=Jn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",s=this._image=e?this._url:fe("video");if(re(s,"leaflet-image-layer"),this._zoomAnimated&&re(s,"leaflet-zoom-animated"),this.options.className&&re(s,this.options.className),s.onselectstart=w,s.onmousemove=w,s.onloadeddata=f(this.fire,this,"load"),e){for(var h=s.getElementsByTagName("source"),g=[],x=0;x<h.length;x++)g.push(h[x].src);this._url=h.length>0?g:[s.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var Z=fe("source");Z.src=this._url[S],s.appendChild(Z)}}});function Ma(e,s,h){return new br(e,s,h)}var Pa=Jn.extend({_initImage:function(){var e=this._image=this._url;re(e,"leaflet-image-layer"),this._zoomAnimated&&re(e,"leaflet-zoom-animated"),this.options.className&&re(e,this.options.className),e.onselectstart=w,e.onmousemove=w}});function pl(e,s,h){return new Pa(e,s,h)}var ji=ai.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,s){e&&(e instanceof ae||G(e))?(this._latlng=Jt(e),z(this,s)):(z(this,e),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Ci(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Ci(this._container,1),this.bringToFront(),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Ci(this._container,0),this._removeTimeout=setTimeout(f(Be,void 0,this._container),200)):Be(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Jt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Kn(this._container),this},bringToBack:function(){return this._map&&Cn(this._container),this},_prepareOpen:function(e){var s=this._source;if(!s._map)return!1;if(s instanceof Bi){s=null;var h=this._source._layers;for(var g in h)if(h[g]._map){s=h[g];break}if(!s)return!1;this._source=s}if(!e)if(s.getCenter)e=s.getCenter();else if(s.getLatLng)e=s.getLatLng();else if(s.getBounds)e=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")e.innerHTML=s;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),s=Ut(this.options.offset),h=this._getAnchor();this._zoomAnimated?Fe(this._container,e.add(h)):s=s.add(e).add(h);var g=this._containerBottom=-s.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=g+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});le.include({_initOverlay:function(e,s,h,g){var x=s;return x instanceof e||(x=new e(g).setContent(s)),h&&x.setLatLng(h),x}}),ai.include({_initOverlay:function(e,s,h,g){var x=h;return x instanceof e?(z(x,g),x._source=this):(x=s&&!g?s:new e(g,this),x.setContent(h)),x}});var pn=ji.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,ji.prototype.openOn.call(this,e)},onAdd:function(e){ji.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ji||this._source.on("preclick",kn))},onRemove:function(e){ji.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ji||this._source.off("preclick",kn))},getEvents:function(){var e=ji.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",s=this._container=fe("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=fe("div",e+"-content-wrapper",s);if(this._contentNode=fe("div",e+"-content",h),gr(s),so(this._contentNode),ie(s,"contextmenu",kn),this._tipContainer=fe("div",e+"-tip-container",s),this._tip=fe("div",e+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=fe("a",e+"-close-button",s);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',ie(g,"click",function(x){We(x),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,s=e.style;s.width="",s.whiteSpace="nowrap";var h=e.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),s.width=h+1+"px",s.whiteSpace="",s.height="";var g=e.offsetHeight,x=this.options.maxHeight,S="leaflet-popup-scrolled";x&&g>x?(s.height=x+"px",re(e,S)):Oe(e,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),h=this._getAnchor();Fe(this._container,s.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,s=parseInt(ln(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+s,g=this._containerWidth,x=new _t(this._containerLeft,-h-this._containerBottom);x._add(wn(this._container));var S=e.layerPointToContainerPoint(x),Z=Ut(this.options.autoPanPadding),et=Ut(this.options.autoPanPaddingTopLeft||Z),ct=Ut(this.options.autoPanPaddingBottomRight||Z),yt=e.getSize(),Ot=0,$t=0;S.x+g+ct.x>yt.x&&(Ot=S.x+g-yt.x+ct.x),S.x-Ot-et.x<0&&(Ot=S.x-et.x),S.y+h+ct.y>yt.y&&($t=S.y+h-yt.y+ct.y),S.y-$t-et.y<0&&($t=S.y-et.y),(Ot||$t)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([Ot,$t]))}},_getAnchor:function(){return Ut(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_l=function(e,s){return new pn(e,s)};le.mergeOptions({closePopupOnClick:!0}),le.include({openPopup:function(e,s,h){return this._initOverlay(pn,e,s,h).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),ai.include({bindPopup:function(e,s){return this._popup=this._initOverlay(pn,this._popup,e,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Bi||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){En(e);var s=e.layer||e.target;if(this._popup._source===s&&!(s instanceof Ji)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=s,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var cs=ji.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){ji.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){ji.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=ji.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",s=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=fe("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var s,h,g=this._map,x=this._container,S=g.latLngToContainerPoint(g.getCenter()),Z=g.layerPointToContainerPoint(e),et=this.options.direction,ct=x.offsetWidth,yt=x.offsetHeight,Ot=Ut(this.options.offset),$t=this._getAnchor();et==="top"?(s=ct/2,h=yt):et==="bottom"?(s=ct/2,h=0):et==="center"?(s=ct/2,h=yt/2):et==="right"?(s=0,h=yt/2):et==="left"?(s=ct,h=yt/2):Z.x<S.x?(et="right",s=0,h=yt/2):(et="left",s=ct+(Ot.x+$t.x)*2,h=yt/2),e=e.subtract(Ut(s,h,!0)).add(Ot).add($t),Oe(x,"leaflet-tooltip-right"),Oe(x,"leaflet-tooltip-left"),Oe(x,"leaflet-tooltip-top"),Oe(x,"leaflet-tooltip-bottom"),re(x,"leaflet-tooltip-"+et),Fe(x,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Ci(this._container,e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(s)},_getAnchor:function(){return Ut(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gl=function(e,s){return new cs(e,s)};le.include({openTooltip:function(e,s,h){return this._initOverlay(cs,e,s,h).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),ai.include({bindTooltip:function(e,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cs,this._tooltip,e,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var s=e?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[s](h),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Bi||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&(ie(s,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),ie(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var s=e.latlng,h,g;this._tooltip.options.sticky&&e.originalEvent&&(h=this._map.mouseEventToContainerPoint(e.originalEvent),g=this._map.containerPointToLayerPoint(h),s=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(s)}});var Ba=$n.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var s=e&&e.tagName==="DIV"?e:document.createElement("div"),h=this.options;if(h.html instanceof Element?(dr(s),s.appendChild(h.html)):s.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=Ut(h.bgPos);s.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function ml(e){return new Ba(e)}$n.Default=vr;var Cr=ai.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Zt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){z(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Be(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Kn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Cn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=k(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof _t?e:new _t(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var s=this.getPane().children,h=-e(-1/0,1/0),g=0,x=s.length,S;g<x;g++)S=s[g].style.zIndex,s[g]!==this._container&&S&&(h=e(h,+S));isFinite(h)&&(this.options.zIndex=h+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Zt.ielt9){Ci(this._container,this.options.opacity);var e=+new Date,s=!1,h=!1;for(var g in this._tiles){var x=this._tiles[g];if(!(!x.current||!x.loaded)){var S=Math.min(1,(e-x.loaded)/200);Ci(x.el,S),S<1?s=!0:(x.active?h=!0:this._onOpaqueTile(x),x.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),s&&(mt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,s=this.options.maxZoom;if(e!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===e?(this._levels[h].el.style.zIndex=s-Math.abs(e-h),this._onUpdateLevel(h)):(Be(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[e],x=this._map;return g||(g=this._levels[e]={},g.el=fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=s,g.origin=x.project(x.unproject(x.getPixelOrigin()),e).round(),g.zoom=e,this._setZoomTransform(g,x.getCenter(),x.getZoom()),w(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var e,s,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)s=this._tiles[e],s.retain=s.current;for(e in this._tiles)if(s=this._tiles[e],s.current&&!s.active){var g=s.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var s in this._tiles)this._tiles[s].coords.z===e&&this._removeTile(s)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Be(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,s,h,g){var x=Math.floor(e/2),S=Math.floor(s/2),Z=h-1,et=new _t(+x,+S);et.z=+Z;var ct=this._tileCoordsToKey(et),yt=this._tiles[ct];return yt&&yt.active?(yt.retain=!0,!0):(yt&&yt.loaded&&(yt.retain=!0),Z>g?this._retainParent(x,S,Z,g):!1)},_retainChildren:function(e,s,h,g){for(var x=2*e;x<2*e+2;x++)for(var S=2*s;S<2*s+2;S++){var Z=new _t(x,S);Z.z=h+1;var et=this._tileCoordsToKey(Z),ct=this._tiles[et];if(ct&&ct.active){ct.retain=!0;continue}else ct&&ct.loaded&&(ct.retain=!0);h+1<g&&this._retainChildren(x,S,h+1,g)}},_resetView:function(e){var s=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var s=this.options;return s.minNativeZoom!==void 0&&e<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<e?s.maxNativeZoom:e},_setView:function(e,s,h,g){var x=Math.round(s);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var S=this.options.updateWhenZooming&&x!==this._tileZoom;(!g||S)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(e),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(e,s)},_setZoomTransforms:function(e,s){for(var h in this._levels)this._setZoomTransform(this._levels[h],e,s)},_setZoomTransform:function(e,s,h){var g=this._map.getZoomScale(h,e.zoom),x=e.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(s,h)).round();Zt.any3d?xn(e.el,x,g):Fe(e.el,x)},_resetGrid:function(){var e=this._map,s=e.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,s.wrapLng[0]],g).x/h.x),Math.ceil(e.project([0,s.wrapLng[1]],g).x/h.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([s.wrapLat[0],0],g).y/h.x),Math.ceil(e.project([s.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var s=this._map,h=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),g=s.getZoomScale(h,this._tileZoom),x=s.project(e,this._tileZoom).floor(),S=s.getSize().divideBy(g*2);return new ue(x.subtract(S),x.add(S))},_update:function(e){var s=this._map;if(s){var h=this._clampZoom(s.getZoom());if(e===void 0&&(e=s.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(e),x=this._pxBoundsToTileRange(g),S=x.getCenter(),Z=[],et=this.options.keepBuffer,ct=new ue(x.getBottomLeft().subtract([et,-et]),x.getTopRight().add([et,-et]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var yt in this._tiles){var Ot=this._tiles[yt].coords;(Ot.z!==this._tileZoom||!ct.contains(new _t(Ot.x,Ot.y)))&&(this._tiles[yt].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(e,h);return}for(var $t=x.min.y;$t<=x.max.y;$t++)for(var se=x.min.x;se<=x.max.x;se++){var li=new _t(se,$t);if(li.z=this._tileZoom,!!this._isValidTile(li)){var Ke=this._tiles[this._tileCoordsToKey(li)];Ke?Ke.current=!0:Z.push(li)}}if(Z.sort(function(Se,Hi){return Se.distanceTo(S)-Hi.distanceTo(S)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var di=document.createDocumentFragment();for(se=0;se<Z.length;se++)this._addTile(Z[se],di);this._level.el.appendChild(di)}}}},_isValidTile:function(e){var s=this._map.options.crs;if(!s.infinite){var h=this._globalTileRange;if(!s.wrapLng&&(e.x<h.min.x||e.x>h.max.x)||!s.wrapLat&&(e.y<h.min.y||e.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(e);return xe(this.options.bounds).overlaps(g)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var s=this._map,h=this.getTileSize(),g=e.scaleBy(h),x=g.add(h),S=s.unproject(g,e.z),Z=s.unproject(x,e.z);return[S,Z]},_tileCoordsToBounds:function(e){var s=this._tileCoordsToNwSe(e),h=new Re(s[0],s[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var s=e.split(":"),h=new _t(+s[0],+s[1]);return h.z=+s[2],h},_removeTile:function(e){var s=this._tiles[e];s&&(Be(s.el),delete this._tiles[e],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){re(e,"leaflet-tile");var s=this.getTileSize();e.style.width=s.x+"px",e.style.height=s.y+"px",e.onselectstart=w,e.onmousemove=w,Zt.ielt9&&this.options.opacity<1&&Ci(e,this.options.opacity)},_addTile:function(e,s){var h=this._getTilePos(e),g=this._tileCoordsToKey(e),x=this.createTile(this._wrapCoords(e),f(this._tileReady,this,e));this._initTile(x),this.createTile.length<2&&Pt(f(this._tileReady,this,e,null,x)),Fe(x,h),this._tiles[g]={el:x,coords:e,current:!0},s.appendChild(x),this.fire("tileloadstart",{tile:x,coords:e})},_tileReady:function(e,s,h){s&&this.fire("tileerror",{error:s,tile:h,coords:e});var g=this._tileCoordsToKey(e);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Ci(h.el,0),mt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),s||(re(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Zt.ielt9||!this._map._fadeAnimated?Pt(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var s=new _t(this._wrapX?b(e.x,this._wrapX):e.x,this._wrapY?b(e.y,this._wrapY):e.y);return s.z=e.z,s},_pxBoundsToTileRange:function(e){var s=this.getTileSize();return new ue(e.min.unscaleBy(s).floor(),e.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function yl(e){return new Cr(e)}var Xn=Cr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,s){this._url=e,s=z(this,s),s.detectRetina&&Zt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,s){return this._url===e&&s===void 0&&(s=!0),this._url=e,s||this.redraw(),this},createTile:function(e,s){var h=document.createElement("img");return ie(h,"load",f(this._tileOnLoad,this,s,h)),ie(h,"error",f(this._tileOnError,this,s,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(e),h},getTileUrl:function(e){var s={r:Zt.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-e.y;this.options.tms&&(s.y=h),s["-y"]=h}return X(this._url,d(s,this.options))},_tileOnLoad:function(e,s){Zt.ielt9?setTimeout(f(e,this,null,s),0):e(null,s)},_tileOnError:function(e,s,h){var g=this.options.errorTileUrl;g&&s.getAttribute("src")!==g&&(s.src=g),e(h,s)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,s=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(e=s-e),e+g},_getSubdomain:function(e){var s=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var e,s;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(s=this._tiles[e].el,s.onload=w,s.onerror=w,!s.complete)){s.src=rt;var h=this._tiles[e].coords;Be(s),delete this._tiles[e],this.fire("tileabort",{tile:s,coords:h})}},_removeTile:function(e){var s=this._tiles[e];if(s)return s.el.setAttribute("src",rt),Cr.prototype._removeTile.call(this,e)},_tileReady:function(e,s,h){if(!(!this._map||h&&h.getAttribute("src")===rt))return Cr.prototype._tileReady.call(this,e,s,h)}});function _o(e,s){return new Xn(e,s)}var fs=Xn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,s){this._url=e;var h=d({},this.defaultWmsParams);for(var g in s)g in this.options||(h[g]=s[g]);s=z(this,s);var x=s.detectRetina&&Zt.retina?2:1,S=this.getTileSize();h.width=S.x*x,h.height=S.y*x,this.wmsParams=h},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Xn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var s=this._tileCoordsToNwSe(e),h=this._crs,g=ye(h.project(s[0]),h.project(s[1])),x=g.min,S=g.max,Z=(this._wmsVersion>=1.3&&this._crs===co?[x.y,x.x,S.y,S.x]:[x.x,x.y,S.x,S.y]).join(","),et=Xn.prototype.getTileUrl.call(this,e);return et+ht(this.wmsParams,et,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(e,s){return d(this.wmsParams,e),s||this.redraw(),this}});function vl(e,s){return new fs(e,s)}Xn.WMS=fs,_o.wms=vl;var tn=ai.extend({options:{padding:.1},initialize:function(e){z(this,e),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,s){var h=this._map.getZoomScale(s,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,s),S=g.multiplyBy(-h).add(x).subtract(this._map._getNewPixelOrigin(e,s));Zt.any3d?xn(this._container,S,h):Fe(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,s=this._map.getSize(),h=this._map.containerPointToLayerPoint(s.multiplyBy(-e)).round();this._bounds=new ue(h,h.add(s.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),go=tn.extend({options:{tolerance:0},getEvents:function(){var e=tn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){tn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");ie(e,"mousemove",this._onMouseMove,this),ie(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ie(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){mt(this._redrawRequest),delete this._ctx,Be(this._container),we(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var s in this._layers)e=this._layers[s],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tn.prototype._update.call(this);var e=this._bounds,s=this._container,h=e.getSize(),g=Zt.retina?2:1;Fe(s,e.min),s.width=g*h.x,s.height=g*h.y,s.style.width=h.x+"px",s.style.height=h.y+"px",Zt.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){tn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[y(e)]=e;var s=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var s=e._order,h=s.next,g=s.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete e._order,delete this._layers[y(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var s=e.options.dashArray.split(/[, ]+/),h=[],g,x;for(x=0;x<s.length;x++){if(g=Number(s[x]),isNaN(g))return;h.push(g)}e.options._dashArray=h}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||Pt(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var s=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(e._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(e._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var s=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,s=this._redrawBounds;if(this._ctx.save(),s){var h=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)e=g.layer,(!s||e._pxBounds&&e._pxBounds.intersects(s))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,s){if(this._drawing){var h,g,x,S,Z=e._parts,et=Z.length,ct=this._ctx;if(et){for(ct.beginPath(),h=0;h<et;h++){for(g=0,x=Z[h].length;g<x;g++)S=Z[h][g],ct[g?"lineTo":"moveTo"](S.x,S.y);s&&ct.closePath()}this._fillStroke(ct,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var s=e._point,h=this._ctx,g=Math.max(Math.round(e._radius),1),x=(Math.max(Math.round(e._radiusY),1)||g)/g;x!==1&&(h.save(),h.scale(1,x)),h.beginPath(),h.arc(s.x,s.y/x,g,0,Math.PI*2,!1),x!==1&&h.restore(),this._fillStroke(h,e)}},_fillStroke:function(e,s){var h=s.options;h.fill&&(e.globalAlpha=h.fillOpacity,e.fillStyle=h.fillColor||h.color,e.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(e.setLineDash&&e.setLineDash(s.options&&s.options._dashArray||[]),e.globalAlpha=h.opacity,e.lineWidth=h.weight,e.strokeStyle=h.color,e.lineCap=h.lineCap,e.lineJoin=h.lineJoin,e.stroke())},_onClick:function(e){for(var s=this._map.mouseEventToLayerPoint(e),h,g,x=this._drawFirst;x;x=x.next)h=x.layer,h.options.interactive&&h._containsPoint(s)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,s)}},_handleMouseOut:function(e){var s=this._hoveredLayer;s&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([s],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,s){if(!this._mouseHoverThrottled){for(var h,g,x=this._drawFirst;x;x=x.next)h=x.layer,h.options.interactive&&h._containsPoint(s)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(e),g&&(re(this._container,"leaflet-interactive"),this._fireEvent([g],e,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,s,h){this._map._fireDOMEvent(s,h||s.type,e)},_bringToFront:function(e){var s=e._order;if(s){var h=s.next,g=s.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(e)}},_bringToBack:function(e){var s=e._order;if(s){var h=s.next,g=s.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(e)}}});function ds(e){return Zt.canvas?new go(e):null}var xr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ll={_initContainer:function(){this._container=fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(tn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var s=e._container=xr("shape");re(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",e._path=xr("path"),s.appendChild(e._path),this._updateStyle(e),this._layers[y(e)]=e},_addPath:function(e){var s=e._container;this._container.appendChild(s),e.options.interactive&&e.addInteractiveTarget(s)},_removePath:function(e){var s=e._container;Be(s),e.removeInteractiveTarget(s),delete this._layers[y(e)]},_updateStyle:function(e){var s=e._stroke,h=e._fill,g=e.options,x=e._container;x.stroked=!!g.stroke,x.filled=!!g.fill,g.stroke?(s||(s=e._stroke=xr("stroke")),x.appendChild(s),s.weight=g.weight+"px",s.color=g.color,s.opacity=g.opacity,g.dashArray?s.dashStyle=G(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=g.lineCap.replace("butt","flat"),s.joinstyle=g.lineJoin):s&&(x.removeChild(s),e._stroke=null),g.fill?(h||(h=e._fill=xr("fill")),x.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(x.removeChild(h),e._fill=null)},_updateCircle:function(e){var s=e._point.round(),h=Math.round(e._radius),g=Math.round(e._radiusY||h);this._setPath(e,e._empty()?"M0 0":"AL "+s.x+","+s.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(e,s){e._path.v=s},_bringToFront:function(e){Kn(e._container)},_bringToBack:function(e){Cn(e._container)}},Qn=Zt.vml?xr:ut,ei=tn.extend({_initContainer:function(){this._container=Qn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Be(this._container),we(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tn.prototype._update.call(this);var e=this._bounds,s=e.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,h.setAttribute("width",s.x),h.setAttribute("height",s.y)),Fe(h,e.min),h.setAttribute("viewBox",[e.min.x,e.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(e){var s=e._path=Qn("path");e.options.className&&re(s,e.options.className),e.options.interactive&&re(s,"leaflet-interactive"),this._updateStyle(e),this._layers[y(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Be(e._path),e.removeInteractiveTarget(e._path),delete this._layers[y(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var s=e._path,h=e.options;s&&(h.stroke?(s.setAttribute("stroke",h.color),s.setAttribute("stroke-opacity",h.opacity),s.setAttribute("stroke-width",h.weight),s.setAttribute("stroke-linecap",h.lineCap),s.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?s.setAttribute("stroke-dasharray",h.dashArray):s.removeAttribute("stroke-dasharray"),h.dashOffset?s.setAttribute("stroke-dashoffset",h.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),h.fill?(s.setAttribute("fill",h.fillColor||h.color),s.setAttribute("fill-opacity",h.fillOpacity),s.setAttribute("fill-rule",h.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(e,s){this._setPath(e,Lt(e._parts,s))},_updateCircle:function(e){var s=e._point,h=Math.max(Math.round(e._radius),1),g=Math.max(Math.round(e._radiusY),1)||h,x="a"+h+","+g+" 0 1,0 ",S=e._empty()?"M0 0":"M"+(s.x-h)+","+s.y+x+h*2+",0 "+x+-h*2+",0 ";this._setPath(e,S)},_setPath:function(e,s){e._path.setAttribute("d",s)},_bringToFront:function(e){Kn(e._path)},_bringToBack:function(e){Cn(e._path)}});Zt.vml&&ei.include(Ll);function ui(e){return Zt.svg||Zt.vml?new ei(e):null}le.include({getRenderer:function(e){var s=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var s=this._paneRenderers[e];return s===void 0&&(s=this._createRenderer({pane:e}),this._paneRenderers[e]=s),s},_createRenderer:function(e){return this.options.preferCanvas&&ds(e)||ui(e)}});var mo=dn.extend({initialize:function(e,s){dn.prototype.initialize.call(this,this._boundsToLatLngs(e),s)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=xe(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Ti(e,s){return new mo(e,s)}ei.create=Qn,ei.pointsToPath=Lt,Qi.geometryToLayer=ns,Qi.coordsToLatLng=rs,Qi.coordsToLatLngs=ss,Qi.latLngToCoords=os,Qi.latLngsToCoords=as,Qi.getFeature=Yn,Qi.asFeature=us,le.mergeOptions({boxZoom:!0});var te=oi.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){ie(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){we(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pr(),Xs(),this._startPoint=this._map.mouseEventToContainerPoint(e),ie(document,{contextmenu:En,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=fe("div","leaflet-zoom-box",this._container),re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var s=new ue(this._point,this._startPoint),h=s.getSize();Fe(this._box,s.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Be(this._box),Oe(this._container,"leaflet-crosshair")),_r(),Qs(),we(document,{contextmenu:En,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var s=new Re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});le.addInitHook("addHandler","boxZoom",te),le.mergeOptions({doubleClickZoom:!0});var ps=oi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var s=this._map,h=s.getZoom(),g=s.options.zoomDelta,x=e.originalEvent.shiftKey?h-g:h+g;s.options.doubleClickZoom==="center"?s.setZoom(x):s.setZoomAround(e.containerPoint,x)}});le.addInitHook("addHandler","doubleClickZoom",ps),le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _s=oi.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new cn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=xe(this._map.options.maxBounds);this._offsetLimit=ye(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var s=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(s),this._prunePositions(s)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,s){return e-(e-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;e.x<s.min.x&&(e.x=this._viscousLimit(e.x,s.min.x)),e.y<s.min.y&&(e.y=this._viscousLimit(e.y,s.min.y)),e.x>s.max.x&&(e.x=this._viscousLimit(e.x,s.max.x)),e.y>s.max.y&&(e.y=this._viscousLimit(e.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,s=Math.round(e/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,x=(g-s+h)%e+s-h,S=(g+s+h)%e-s-h,Z=Math.abs(x+h)<Math.abs(S+h)?x:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(e){var s=this._map,h=s.options,g=!h.inertia||e.noInertia||this._times.length<2;if(s.fire("dragend",e),g)s.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,Z=h.easeLinearity,et=x.multiplyBy(Z/S),ct=et.distanceTo([0,0]),yt=Math.min(h.inertiaMaxSpeed,ct),Ot=et.multiplyBy(yt/ct),$t=yt/(h.inertiaDeceleration*Z),se=Ot.multiplyBy(-$t/2).round();!se.x&&!se.y?s.fire("moveend"):(se=s._limitOffset(se,s.options.maxBounds),Pt(function(){s.panBy(se,{duration:$t,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});le.addInitHook("addHandler","dragging",_s),le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var en=oi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),ie(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),we(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,s=document.documentElement,h=e.scrollTop||s.scrollTop,g=e.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var s=this._panKeys={},h=this.keyCodes,g,x;for(g=0,x=h.left.length;g<x;g++)s[h.left[g]]=[-1*e,0];for(g=0,x=h.right.length;g<x;g++)s[h.right[g]]=[e,0];for(g=0,x=h.down.length;g<x;g++)s[h.down[g]]=[0,e];for(g=0,x=h.up.length;g<x;g++)s[h.up[g]]=[0,-1*e]},_setZoomDelta:function(e){var s=this._zoomKeys={},h=this.keyCodes,g,x;for(g=0,x=h.zoomIn.length;g<x;g++)s[h.zoomIn[g]]=e;for(g=0,x=h.zoomOut.length;g<x;g++)s[h.zoomOut[g]]=-e},_addHooks:function(){ie(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){we(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var s=e.keyCode,h=this._map,g;if(s in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[s],e.shiftKey&&(g=Ut(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(Ut(g),h.options.maxBounds)),h.options.worldCopyJump){var x=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(x)}else h.panBy(g)}else if(s in this._zoomKeys)h.setZoom(h.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;En(e)}}});le.addInitHook("addHandler","keyboard",en),le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var je=oi.extend({addHooks:function(){ie(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){we(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var s=_a(e),h=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),g),En(e)},_performZoom:function(){var e=this._map,s=e.getZoom(),h=this._map.options.zoomSnap||0;e._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,S=h?Math.ceil(x/h)*h:x,Z=e._limitZoom(s+(this._delta>0?S:-S))-s;this._delta=0,this._startTime=null,Z&&(e.options.scrollWheelZoom==="center"?e.setZoom(s+Z):e.setZoomAround(this._lastMousePos,s+Z))}});le.addInitHook("addHandler","scrollWheelZoom",je);var Ta=600;le.mergeOptions({tapHold:Zt.touchNative&&Zt.safari&&Zt.mobile,tapTolerance:15});var gi=oi.extend({addHooks:function(){ie(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){we(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var s=e.touches[0];this._startPos=this._newPos=new _t(s.clientX,s.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(ie(document,"touchend",We),ie(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Ta),ie(document,"touchend touchcancel contextmenu",this._cancel,this),ie(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){we(document,"touchend",We),we(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),we(document,"touchend touchcancel contextmenu",this._cancel,this),we(document,"touchmove",this._onMove,this)},_onMove:function(e){var s=e.touches[0];this._newPos=new _t(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,s){var h=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});h._simulated=!0,s.target.dispatchEvent(h)}});le.addInitHook("addHandler","tapHold",gi),le.mergeOptions({touchZoom:Zt.touch,bounceAtZoomLimits:!0});var mi=oi.extend({addHooks:function(){re(this._map._container,"leaflet-touch-zoom"),ie(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),we(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var s=this._map;if(!(!e.touches||e.touches.length!==2||s._animatingZoom||this._zooming)){var h=s.mouseEventToContainerPoint(e.touches[0]),g=s.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),ie(document,"touchmove",this._onTouchMove,this),ie(document,"touchend touchcancel",this._onTouchEnd,this),We(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var s=this._map,h=s.mouseEventToContainerPoint(e.touches[0]),g=s.mouseEventToContainerPoint(e.touches[1]),x=h.distanceTo(g)/this._startDist;if(this._zoom=s.getScaleZoom(x,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&x<1||this._zoom>s.getMaxZoom()&&x>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var S=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(x===1&&S.x===0&&S.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),mt(this._animRequest);var Z=f(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Pt(Z,this,!0),We(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,mt(this._animRequest),we(document,"touchmove",this._onTouchMove,this),we(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});le.addInitHook("addHandler","touchZoom",mi),le.BoxZoom=te,le.DoubleClickZoom=ps,le.Drag=_s,le.Keyboard=en,le.ScrollWheelZoom=je,le.TapHold=gi,le.TouchZoom=mi,o.Bounds=ue,o.Browser=Zt,o.CRS=ft,o.Canvas=go,o.Circle=po,o.CircleMarker=Gi,o.Class=Qt,o.Control=ee,o.DivIcon=Ba,o.DivOverlay=ji,o.DomEvent=$r,o.DomUtil=Qu,o.Draggable=cn,o.Evented=qt,o.FeatureGroup=Bi,o.GeoJSON=Qi,o.GridLayer=Cr,o.Handler=oi,o.Icon=$n,o.ImageOverlay=Jn,o.LatLng=ae,o.LatLngBounds=Re,o.Layer=ai,o.LayerGroup=Wn,o.LineUtil=Qr,o.Map=le,o.Marker=is,o.Mixin=rl,o.Path=Ji,o.Point=_t,o.PolyUtil=sl,o.Polygon=dn,o.Polyline=Xi,o.Popup=pn,o.PosAnimation=ga,o.Projection=zi,o.Rectangle=mo,o.Renderer=tn,o.SVG=ei,o.SVGOverlay=Pa,o.TileLayer=Xn,o.Tooltip=cs,o.Transformation=ne,o.Util=Gt,o.VideoOverlay=br,o.bind=f,o.bounds=ye,o.canvas=ds,o.circle=Tn,o.circleMarker=wa,o.control=Mn,o.divIcon=ml,o.extend=d,o.featureGroup=ll,o.geoJSON=hs,o.geoJson=Ea,o.gridLayer=yl,o.icon=hl,o.imageOverlay=dl,o.latLng=Jt,o.latLngBounds=xe,o.layerGroup=ul,o.map=ma,o.marker=cl,o.point=Ut,o.polygon=Lr,o.polyline=fl,o.popup=_l,o.rectangle=Ti,o.setOptions=z,o.stamp=y,o.svg=ui,o.svgOverlay=pl,o.tileLayer=_o,o.tooltip=gl,o.transformation=_e,o.version=c,o.videoOverlay=Ma;var Sn=window.L;o.noConflict=function(){return window.L=Sn,this},window.L=o}))})(Po,Po.exports)),Po.exports}var X4=J4();const Q4=$4(X4);var Bo={exports:{}},tL=Bo.exports,Sf;function eL(){return Sf||(Sf=1,(function(t,n){(function(o,c){c(n)})(tL,function(o){var c=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(u){L.Util.setOptions(this,u),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var f=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,f?this._withAnimation:this._noAnimation),this._markerCluster=f?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(u){if(u instanceof L.LayerGroup)return this.addLayers([u]);if(!u.getLatLng)return this._nonPointGroup.addLayer(u),this.fire("layeradd",{layer:u}),this;if(!this._map)return this._needsClustering.push(u),this.fire("layeradd",{layer:u}),this;if(this.hasLayer(u))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(u,this._maxZoom),this.fire("layeradd",{layer:u}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var f=u,_=this._zoom;if(u.__parent)for(;f.__parent._zoom>=_;)f=f.__parent;return this._currentShownBounds.contains(f.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(u,f):this._animationAddLayerNonAnimated(u,f)),this},removeLayer:function(u){return u instanceof L.LayerGroup?this.removeLayers([u]):u.getLatLng?this._map?u.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(u)),this._removeLayer(u,!0),this.fire("layerremove",{layer:u}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),u.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(u)&&(this._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,u)&&this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u}),this):(this._nonPointGroup.removeLayer(u),this.fire("layerremove",{layer:u}),this)},addLayers:function(u,f){if(!L.Util.isArray(u))return this.addLayer(u);var _=this._featureGroup,y=this._nonPointGroup,k=this.options.chunkedLoading,b=this.options.chunkInterval,w=this.options.chunkProgress,B=u.length,P=0,H=!0,z;if(this._map){var ht=new Date().getTime(),tt=L.bind(function(){var G=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();P<B;P++){if(k&&P%200===0){var $=new Date().getTime()-G;if($>b)break}if(z=u[P],z instanceof L.LayerGroup){H&&(u=u.slice(),H=!1),this._extractNonGroupLayers(z,u),B=u.length;continue}if(!z.getLatLng){y.addLayer(z),f||this.fire("layeradd",{layer:z});continue}if(!this.hasLayer(z)&&(this._addLayer(z,this._maxZoom),f||this.fire("layeradd",{layer:z}),z.__parent&&z.__parent.getChildCount()===2)){var rt=z.__parent.getAllChildMarkers(),pt=rt[0]===z?rt[1]:rt[0];_.removeLayer(pt)}}w&&w(P,B,new Date().getTime()-ht),P===B?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(tt,this.options.chunkDelay)},this);tt()}else for(var X=this._needsClustering;P<B;P++){if(z=u[P],z instanceof L.LayerGroup){H&&(u=u.slice(),H=!1),this._extractNonGroupLayers(z,u),B=u.length;continue}if(!z.getLatLng){y.addLayer(z);continue}this.hasLayer(z)||X.push(z)}return this},removeLayers:function(u){var f,_,y=u.length,k=this._featureGroup,b=this._nonPointGroup,w=!0;if(!this._map){for(f=0;f<y;f++){if(_=u[f],_ instanceof L.LayerGroup){w&&(u=u.slice(),w=!1),this._extractNonGroupLayers(_,u),y=u.length;continue}this._arraySplice(this._needsClustering,_),b.removeLayer(_),this.hasLayer(_)&&this._needsRemoving.push({layer:_,latlng:_._latlng}),this.fire("layerremove",{layer:_})}return this}if(this._unspiderfy){this._unspiderfy();var B=u.slice(),P=y;for(f=0;f<P;f++){if(_=B[f],_ instanceof L.LayerGroup){this._extractNonGroupLayers(_,B),P=B.length;continue}this._unspiderfyLayer(_)}}for(f=0;f<y;f++){if(_=u[f],_ instanceof L.LayerGroup){w&&(u=u.slice(),w=!1),this._extractNonGroupLayers(_,u),y=u.length;continue}if(!_.__parent){b.removeLayer(_),this.fire("layerremove",{layer:_});continue}this._removeLayer(_,!0,!0),this.fire("layerremove",{layer:_}),k.hasLayer(_)&&(k.removeLayer(_),_.clusterShow&&_.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(u){u.off(this._childMarkerEventHandlers,this),delete u.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var u=new L.LatLngBounds;this._topClusterLevel&&u.extend(this._topClusterLevel._bounds);for(var f=this._needsClustering.length-1;f>=0;f--)u.extend(this._needsClustering[f].getLatLng());return u.extend(this._nonPointGroup.getBounds()),u},eachLayer:function(u,f){var _=this._needsClustering.slice(),y=this._needsRemoving,k,b,w;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(_),b=_.length-1;b>=0;b--){for(k=!0,w=y.length-1;w>=0;w--)if(y[w].layer===_[b]){k=!1;break}k&&u.call(f,_[b])}this._nonPointGroup.eachLayer(u,f)},getLayers:function(){var u=[];return this.eachLayer(function(f){u.push(f)}),u},getLayer:function(u){var f=null;return u=parseInt(u,10),this.eachLayer(function(_){L.stamp(_)===u&&(f=_)}),f},hasLayer:function(u){if(!u)return!1;var f,_=this._needsClustering;for(f=_.length-1;f>=0;f--)if(_[f]===u)return!0;for(_=this._needsRemoving,f=_.length-1;f>=0;f--)if(_[f].layer===u)return!1;return!!(u.__parent&&u.__parent._group===this)||this._nonPointGroup.hasLayer(u)},zoomToShowLayer:function(u,f){var _=this._map;typeof f!="function"&&(f=function(){});var y=function(){(_.hasLayer(u)||_.hasLayer(u.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",y,this),this.off("animationend",y,this),_.hasLayer(u)?f():u.__parent._icon&&(this.once("spiderfied",f,this),u.__parent.spiderfy()))};u._icon&&this._map.getBounds().contains(u.getLatLng())?f():u.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",y,this),this._map.panTo(u.getLatLng())):(this._map.on("moveend",y,this),this.on("animationend",y,this),u.__parent.zoomToBounds())},onAdd:function(u){this._map=u;var f,_,y;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(u),this._nonPointGroup.addTo(u),this._gridClusters||this._generateInitialClusters(),this._maxLat=u.options.crs.projection.MAX_LATITUDE,f=0,_=this._needsRemoving.length;f<_;f++)y=this._needsRemoving[f],y.newlatlng=y.layer._latlng,y.layer._latlng=y.latlng;for(f=0,_=this._needsRemoving.length;f<_;f++)y=this._needsRemoving[f],this._removeLayer(y.layer,!0),y.layer._latlng=y.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),_=this._needsClustering,this._needsClustering=[],this.addLayers(_,!0)},onRemove:function(u){u.off("zoomend",this._zoomEnd,this),u.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(u){for(var f=u;f&&!f._icon;)f=f.__parent;return f||null},_arraySplice:function(u,f){for(var _=u.length-1;_>=0;_--)if(u[_]===f)return u.splice(_,1),!0},_removeFromGridUnclustered:function(u,f){for(var _=this._map,y=this._gridUnclustered,k=Math.floor(this._map.getMinZoom());f>=k&&y[f].removeObject(u,_.project(u.getLatLng(),f));f--);},_childMarkerDragStart:function(u){u.target.__dragStart=u.target._latlng},_childMarkerMoved:function(u){if(!this._ignoreMove&&!u.target.__dragStart){var f=u.target._popup&&u.target._popup.isOpen();this._moveChild(u.target,u.oldLatLng,u.latlng),f&&u.target.openPopup()}},_moveChild:function(u,f,_){u._latlng=f,this.removeLayer(u),u._latlng=_,this.addLayer(u)},_childMarkerDragEnd:function(u){var f=u.target.__dragStart;delete u.target.__dragStart,f&&this._moveChild(u.target,f,u.target._latlng)},_removeLayer:function(u,f,_){var y=this._gridClusters,k=this._gridUnclustered,b=this._featureGroup,w=this._map,B=Math.floor(this._map.getMinZoom());f&&this._removeFromGridUnclustered(u,this._maxZoom);var P=u.__parent,H=P._markers,z;for(this._arraySplice(H,u);P&&(P._childCount--,P._boundsNeedUpdate=!0,!(P._zoom<B));)f&&P._childCount<=1?(z=P._markers[0]===u?P._markers[1]:P._markers[0],y[P._zoom].removeObject(P,w.project(P._cLatLng,P._zoom)),k[P._zoom].addObject(z,w.project(z.getLatLng(),P._zoom)),this._arraySplice(P.__parent._childClusters,P),P.__parent._markers.push(z),z.__parent=P.__parent,P._icon&&(b.removeLayer(P),_||b.addLayer(z))):P._iconNeedsUpdate=!0,P=P.__parent;delete u.__parent},_isOrIsParent:function(u,f){for(;f;){if(u===f)return!0;f=f.parentNode}return!1},fire:function(u,f,_){if(f&&f.layer instanceof L.MarkerCluster){if(f.originalEvent&&this._isOrIsParent(f.layer._icon,f.originalEvent.relatedTarget))return;u="cluster"+u}L.FeatureGroup.prototype.fire.call(this,u,f,_)},listens:function(u,f){return L.FeatureGroup.prototype.listens.call(this,u,f)||L.FeatureGroup.prototype.listens.call(this,"cluster"+u,f)},_defaultIconCreateFunction:function(u){var f=u.getChildCount(),_=" marker-cluster-";return f<10?_+="small":f<100?_+="medium":_+="large",new L.DivIcon({html:"<div><span>"+f+"</span></div>",className:"marker-cluster"+_,iconSize:new L.Point(40,40)})},_bindEvents:function(){var u=this._map,f=this.options.spiderfyOnMaxZoom,_=this.options.showCoverageOnHover,y=this.options.zoomToBoundsOnClick,k=this.options.spiderfyOnEveryZoom;(f||y||k)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),_&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),u.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(u){var f=u.layer,_=f;if(!(u.type==="clusterkeypress"&&u.originalEvent&&u.originalEvent.keyCode!==13)){for(;_._childClusters.length===1;)_=_._childClusters[0];_._zoom===this._maxZoom&&_._childCount===f._childCount&&this.options.spiderfyOnMaxZoom?f.spiderfy():this.options.zoomToBoundsOnClick&&f.zoomToBounds(),this.options.spiderfyOnEveryZoom&&f.spiderfy(),u.originalEvent&&u.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(u){var f=this._map;this._inZoomAnimation||(this._shownPolygon&&f.removeLayer(this._shownPolygon),u.layer.getChildCount()>2&&u.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(u.layer.getConvexHull(),this.options.polygonOptions),f.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var u=this.options.spiderfyOnMaxZoom,f=this.options.showCoverageOnHover,_=this.options.zoomToBoundsOnClick,y=this.options.spiderfyOnEveryZoom,k=this._map;(u||_||y)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),f&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),k.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var u=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),u),this._currentShownBounds=u}},_generateInitialClusters:function(){var u=Math.ceil(this._map.getMaxZoom()),f=Math.floor(this._map.getMinZoom()),_=this.options.maxClusterRadius,y=_;typeof _!="function"&&(y=function(){return _}),this.options.disableClusteringAtZoom!==null&&(u=this.options.disableClusteringAtZoom-1),this._maxZoom=u,this._gridClusters={},this._gridUnclustered={};for(var k=u;k>=f;k--)this._gridClusters[k]=new L.DistanceGrid(y(k)),this._gridUnclustered[k]=new L.DistanceGrid(y(k));this._topClusterLevel=new this._markerCluster(this,f-1)},_addLayer:function(u,f){var _=this._gridClusters,y=this._gridUnclustered,k=Math.floor(this._map.getMinZoom()),b,w;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(u),u.on(this._childMarkerEventHandlers,this);f>=k;f--){b=this._map.project(u.getLatLng(),f);var B=_[f].getNearObject(b);if(B){B._addChild(u),u.__parent=B;return}if(B=y[f].getNearObject(b),B){var P=B.__parent;P&&this._removeLayer(B,!1);var H=new this._markerCluster(this,f,B,u);_[f].addObject(H,this._map.project(H._cLatLng,f)),B.__parent=H,u.__parent=H;var z=H;for(w=f-1;w>P._zoom;w--)z=new this._markerCluster(this,w,z),_[w].addObject(z,this._map.project(B.getLatLng(),w));P._addChild(z),this._removeFromGridUnclustered(B,f);return}y[f].addObject(u,b)}this._topClusterLevel._addChild(u),u.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(u){u instanceof L.MarkerCluster&&u._iconNeedsUpdate&&u._updateIcon()})},_enqueue:function(u){this._queue.push(u),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var u=0;u<this._queue.length;u++)this._queue[u].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var u=Math.round(this._map._zoom);this._processQueue(),this._zoom<u&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,u)):this._zoom>u?(this._animationStart(),this._animationZoomOut(this._zoom,u)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(u){var f=this._maxLat;return f!==void 0&&(u.getNorth()>=f&&(u._northEast.lat=1/0),u.getSouth()<=-f&&(u._southWest.lat=-1/0)),u},_animationAddLayerNonAnimated:function(u,f){if(f===u)this._featureGroup.addLayer(u);else if(f._childCount===2){f._addToMap();var _=f.getAllChildMarkers();this._featureGroup.removeLayer(_[0]),this._featureGroup.removeLayer(_[1])}else f._updateIcon()},_extractNonGroupLayers:function(u,f){var _=u.getLayers(),y=0,k;for(f=f||[];y<_.length;y++){if(k=_[y],k instanceof L.LayerGroup){this._extractNonGroupLayers(k,f);continue}f.push(k)}return f},_overrideMarkerIcon:function(u){var f=u.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[u]}});return f}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(u,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(u,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(u,f){this._animationAddLayerNonAnimated(u,f)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(u,f){var _=this._getExpandedVisibleBounds(),y=this._featureGroup,k=Math.floor(this._map.getMinZoom()),b;this._ignoreMove=!0,this._topClusterLevel._recursively(_,u,k,function(w){var B=w._latlng,P=w._markers,H;for(_.contains(B)||(B=null),w._isSingleParent()&&u+1===f?(y.removeLayer(w),w._recursivelyAddChildrenToMap(null,f,_)):(w.clusterHide(),w._recursivelyAddChildrenToMap(B,f,_)),b=P.length-1;b>=0;b--)H=P[b],_.contains(H._latlng)||y.removeLayer(H)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(_,f),y.eachLayer(function(w){!(w instanceof L.MarkerCluster)&&w._icon&&w.clusterShow()}),this._topClusterLevel._recursively(_,u,f,function(w){w._recursivelyRestoreChildPositions(f)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(_,u,k,function(w){y.removeLayer(w),w.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(u,f){this._animationZoomOutSingle(this._topClusterLevel,u-1,f),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u,this._getExpandedVisibleBounds())},_animationAddLayer:function(u,f){var _=this,y=this._featureGroup;y.addLayer(u),f!==u&&(f._childCount>2?(f._updateIcon(),this._forceLayout(),this._animationStart(),u._setPos(this._map.latLngToLayerPoint(f.getLatLng())),u.clusterHide(),this._enqueue(function(){y.removeLayer(u),u.clusterShow(),_._animationEnd()})):(this._forceLayout(),_._animationStart(),_._animationZoomOutSingle(f,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(u,f,_){var y=this._getExpandedVisibleBounds(),k=Math.floor(this._map.getMinZoom());u._recursivelyAnimateChildrenInAndAddSelfToMap(y,k,f+1,_);var b=this;this._forceLayout(),u._recursivelyBecomeVisible(y,_),this._enqueue(function(){if(u._childCount===1){var w=u._markers[0];this._ignoreMove=!0,w.setLatLng(w.getLatLng()),this._ignoreMove=!1,w.clusterShow&&w.clusterShow()}else u._recursively(y,_,k,function(B){B._recursivelyRemoveChildrenFromMap(y,k,f+1)});b._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(u){return new L.MarkerClusterGroup(u)};var d=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(u,f,_,y){L.Marker.prototype.initialize.call(this,_?_._cLatLng||_.getLatLng():new L.LatLng(0,0),{icon:this,pane:u.options.clusterPane}),this._group=u,this._zoom=f,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,_&&this._addChild(_),y&&this._addChild(y)},getAllChildMarkers:function(u,f){u=u||[];for(var _=this._childClusters.length-1;_>=0;_--)this._childClusters[_].getAllChildMarkers(u,f);for(var y=this._markers.length-1;y>=0;y--)f&&this._markers[y].__dragStart||u.push(this._markers[y]);return u},getChildCount:function(){return this._childCount},zoomToBounds:function(u){for(var f=this._childClusters.slice(),_=this._group._map,y=_.getBoundsZoom(this._bounds),k=this._zoom+1,b=_.getZoom(),w;f.length>0&&y>k;){k++;var B=[];for(w=0;w<f.length;w++)B=B.concat(f[w]._childClusters);f=B}y>k?this._group._map.setView(this._latlng,k):y<=b?this._group._map.setView(this._latlng,b+1):this._group._map.fitBounds(this._bounds,u)},getBounds:function(){var u=new L.LatLngBounds;return u.extend(this._bounds),u},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(u,f){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(u),u instanceof L.MarkerCluster?(f||(this._childClusters.push(u),u.__parent=this),this._childCount+=u._childCount):(f||this._markers.push(u),this._childCount++),this.__parent&&this.__parent._addChild(u,!0)},_setClusterCenter:function(u){this._cLatLng||(this._cLatLng=u._cLatLng||u._latlng)},_resetBounds:function(){var u=this._bounds;u._southWest&&(u._southWest.lat=1/0,u._southWest.lng=1/0),u._northEast&&(u._northEast.lat=-1/0,u._northEast.lng=-1/0)},_recalculateBounds:function(){var u=this._markers,f=this._childClusters,_=0,y=0,k=this._childCount,b,w,B,P;if(k!==0){for(this._resetBounds(),b=0;b<u.length;b++)B=u[b]._latlng,this._bounds.extend(B),_+=B.lat,y+=B.lng;for(b=0;b<f.length;b++)w=f[b],w._boundsNeedUpdate&&w._recalculateBounds(),this._bounds.extend(w._bounds),B=w._wLatLng,P=w._childCount,_+=B.lat*P,y+=B.lng*P;this._latlng=this._wLatLng=new L.LatLng(_/k,y/k),this._boundsNeedUpdate=!1}},_addToMap:function(u){u&&(this._backupLatlng=this._latlng,this.setLatLng(u)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(u,f,_){this._recursively(u,this._group._map.getMinZoom(),_-1,function(y){var k=y._markers,b,w;for(b=k.length-1;b>=0;b--)w=k[b],w._icon&&(w._setPos(f),w.clusterHide())},function(y){var k=y._childClusters,b,w;for(b=k.length-1;b>=0;b--)w=k[b],w._icon&&(w._setPos(f),w.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(u,f,_,y){this._recursively(u,y,f,function(k){k._recursivelyAnimateChildrenIn(u,k._group._map.latLngToLayerPoint(k.getLatLng()).round(),_),k._isSingleParent()&&_-1===y?(k.clusterShow(),k._recursivelyRemoveChildrenFromMap(u,f,_)):k.clusterHide(),k._addToMap()})},_recursivelyBecomeVisible:function(u,f){this._recursively(u,this._group._map.getMinZoom(),f,null,function(_){_.clusterShow()})},_recursivelyAddChildrenToMap:function(u,f,_){this._recursively(_,this._group._map.getMinZoom()-1,f,function(y){if(f!==y._zoom)for(var k=y._markers.length-1;k>=0;k--){var b=y._markers[k];_.contains(b._latlng)&&(u&&(b._backupLatlng=b.getLatLng(),b.setLatLng(u),b.clusterHide&&b.clusterHide()),y._group._featureGroup.addLayer(b))}},function(y){y._addToMap(u)})},_recursivelyRestoreChildPositions:function(u){for(var f=this._markers.length-1;f>=0;f--){var _=this._markers[f];_._backupLatlng&&(_.setLatLng(_._backupLatlng),delete _._backupLatlng)}if(u-1===this._zoom)for(var y=this._childClusters.length-1;y>=0;y--)this._childClusters[y]._restorePosition();else for(var k=this._childClusters.length-1;k>=0;k--)this._childClusters[k]._recursivelyRestoreChildPositions(u)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(u,f,_,y){var k,b;this._recursively(u,f-1,_-1,function(w){for(b=w._markers.length-1;b>=0;b--)k=w._markers[b],(!y||!y.contains(k._latlng))&&(w._group._featureGroup.removeLayer(k),k.clusterShow&&k.clusterShow())},function(w){for(b=w._childClusters.length-1;b>=0;b--)k=w._childClusters[b],(!y||!y.contains(k._latlng))&&(w._group._featureGroup.removeLayer(k),k.clusterShow&&k.clusterShow())})},_recursively:function(u,f,_,y,k){var b=this._childClusters,w=this._zoom,B,P;if(f<=w&&(y&&y(this),k&&w===_&&k(this)),w<f||w<_)for(B=b.length-1;B>=0;B--)P=b[B],P._boundsNeedUpdate&&P._recalculateBounds(),u.intersects(P._bounds)&&P._recursively(u,f,_,y,k)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var u=this.options.opacity;return this.setOpacity(0),this.options.opacity=u,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(u){this._cellSize=u,this._sqCellSize=u*u,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(u,f){var _=this._getCoord(f.x),y=this._getCoord(f.y),k=this._grid,b=k[y]=k[y]||{},w=b[_]=b[_]||[],B=L.Util.stamp(u);this._objectPoint[B]=f,w.push(u)},updateObject:function(u,f){this.removeObject(u),this.addObject(u,f)},removeObject:function(u,f){var _=this._getCoord(f.x),y=this._getCoord(f.y),k=this._grid,b=k[y]=k[y]||{},w=b[_]=b[_]||[],B,P;for(delete this._objectPoint[L.Util.stamp(u)],B=0,P=w.length;B<P;B++)if(w[B]===u)return w.splice(B,1),P===1&&delete b[_],!0},eachObject:function(u,f){var _,y,k,b,w,B,P,H=this._grid;for(_ in H){w=H[_];for(y in w)for(B=w[y],k=0,b=B.length;k<b;k++)P=u.call(f,B[k]),P&&(k--,b--)}},getNearObject:function(u){var f=this._getCoord(u.x),_=this._getCoord(u.y),y,k,b,w,B,P,H,z,ht=this._objectPoint,tt=this._sqCellSize,X=null;for(y=_-1;y<=_+1;y++)if(w=this._grid[y],w){for(k=f-1;k<=f+1;k++)if(B=w[k],B)for(b=0,P=B.length;b<P;b++)H=B[b],z=this._sqDist(ht[L.Util.stamp(H)],u),(z<tt||z<=tt&&X===null)&&(tt=z,X=H)}return X},_getCoord:function(u){var f=Math.floor(u/this._cellSize);return isFinite(f)?f:u},_sqDist:function(u,f){var _=f.x-u.x,y=f.y-u.y;return _*_+y*y}},(function(){L.QuickHull={getDistant:function(u,f){var _=f[1].lat-f[0].lat,y=f[0].lng-f[1].lng;return y*(u.lat-f[0].lat)+_*(u.lng-f[0].lng)},findMostDistantPointFromBaseLine:function(u,f){var _=0,y=null,k=[],b,w,B;for(b=f.length-1;b>=0;b--){if(w=f[b],B=this.getDistant(w,u),B>0)k.push(w);else continue;B>_&&(_=B,y=w)}return{maxPoint:y,newPoints:k}},buildConvexHull:function(u,f){var _=[],y=this.findMostDistantPointFromBaseLine(u,f);return y.maxPoint?(_=_.concat(this.buildConvexHull([u[0],y.maxPoint],y.newPoints)),_=_.concat(this.buildConvexHull([y.maxPoint,u[1]],y.newPoints)),_):[u[0]]},getConvexHull:function(u){var f=!1,_=!1,y=!1,k=!1,b=null,w=null,B=null,P=null,H=null,z=null,ht;for(ht=u.length-1;ht>=0;ht--){var tt=u[ht];(f===!1||tt.lat>f)&&(b=tt,f=tt.lat),(_===!1||tt.lat<_)&&(w=tt,_=tt.lat),(y===!1||tt.lng>y)&&(B=tt,y=tt.lng),(k===!1||tt.lng<k)&&(P=tt,k=tt.lng)}_!==f?(z=w,H=b):(z=P,H=B);var X=[].concat(this.buildConvexHull([z,H],u),this.buildConvexHull([H,z],u));return X}}})(),L.MarkerCluster.include({getConvexHull:function(){var u=this.getAllChildMarkers(),f=[],_,y;for(y=u.length-1;y>=0;y--)_=u[y].getLatLng(),f.push(_);return L.QuickHull.getConvexHull(f)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var u=this.getAllChildMarkers(null,!0),f=this._group,_=f._map,y=_.latLngToLayerPoint(this._latlng),k;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?k=this._group.options.spiderfyShapePositions(u.length,y):u.length>=this._circleSpiralSwitchover?k=this._generatePointsSpiral(u.length,y):(y.y+=10,k=this._generatePointsCircle(u.length,y)),this._animationSpiderfy(u,k)}},unspiderfy:function(u){this._group._inZoomAnimation||(this._animationUnspiderfy(u),this._group._spiderfied=null)},_generatePointsCircle:function(u,f){var _=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+u),y=_/this._2PI,k=this._2PI/u,b=[],w,B;for(y=Math.max(y,35),b.length=u,w=0;w<u;w++)B=this._circleStartAngle+w*k,b[w]=new L.Point(f.x+y*Math.cos(B),f.y+y*Math.sin(B))._round();return b},_generatePointsSpiral:function(u,f){var _=this._group.options.spiderfyDistanceMultiplier,y=_*this._spiralLengthStart,k=_*this._spiralFootSeparation,b=_*this._spiralLengthFactor*this._2PI,w=0,B=[],P;for(B.length=u,P=u;P>=0;P--)P<u&&(B[P]=new L.Point(f.x+y*Math.cos(w),f.y+y*Math.sin(w))._round()),w+=k/y+P*5e-4,y+=b/w;return B},_noanimationUnspiderfy:function(){var u=this._group,f=u._map,_=u._featureGroup,y=this.getAllChildMarkers(null,!0),k,b;for(u._ignoreMove=!0,this.setOpacity(1),b=y.length-1;b>=0;b--)k=y[b],_.removeLayer(k),k._preSpiderfyLatlng&&(k.setLatLng(k._preSpiderfyLatlng),delete k._preSpiderfyLatlng),k.setZIndexOffset&&k.setZIndexOffset(0),k._spiderLeg&&(f.removeLayer(k._spiderLeg),delete k._spiderLeg);u.fire("unspiderfied",{cluster:this,markers:y}),u._ignoreMove=!1,u._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(u,f){var _=this._group,y=_._map,k=_._featureGroup,b=this._group.options.spiderLegPolylineOptions,w,B,P,H;for(_._ignoreMove=!0,w=0;w<u.length;w++)H=y.layerPointToLatLng(f[w]),B=u[w],P=new L.Polyline([this._latlng,H],b),y.addLayer(P),B._spiderLeg=P,B._preSpiderfyLatlng=B._latlng,B.setLatLng(H),B.setZIndexOffset&&B.setZIndexOffset(1e6),k.addLayer(B);this.setOpacity(.3),_._ignoreMove=!1,_.fire("spiderfied",{cluster:this,markers:u})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(u,f){var _=this,y=this._group,k=y._map,b=y._featureGroup,w=this._latlng,B=k.latLngToLayerPoint(w),P=L.Path.SVG,H=L.extend({},this._group.options.spiderLegPolylineOptions),z=H.opacity,ht,tt,X,G,$,rt;for(z===void 0&&(z=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),P?(H.opacity=0,H.className=(H.className||"")+" leaflet-cluster-spider-leg"):H.opacity=z,y._ignoreMove=!0,ht=0;ht<u.length;ht++)tt=u[ht],rt=k.layerPointToLatLng(f[ht]),X=new L.Polyline([w,rt],H),k.addLayer(X),tt._spiderLeg=X,P&&(G=X._path,$=G.getTotalLength()+.1,G.style.strokeDasharray=$,G.style.strokeDashoffset=$),tt.setZIndexOffset&&tt.setZIndexOffset(1e6),tt.clusterHide&&tt.clusterHide(),b.addLayer(tt),tt._setPos&&tt._setPos(B);for(y._forceLayout(),y._animationStart(),ht=u.length-1;ht>=0;ht--)rt=k.layerPointToLatLng(f[ht]),tt=u[ht],tt._preSpiderfyLatlng=tt._latlng,tt.setLatLng(rt),tt.clusterShow&&tt.clusterShow(),P&&(X=tt._spiderLeg,G=X._path,G.style.strokeDashoffset=0,X.setStyle({opacity:z}));this.setOpacity(.3),y._ignoreMove=!1,setTimeout(function(){y._animationEnd(),y.fire("spiderfied",{cluster:_,markers:u})},200)},_animationUnspiderfy:function(u){var f=this,_=this._group,y=_._map,k=_._featureGroup,b=u?y._latLngToNewLayerPoint(this._latlng,u.zoom,u.center):y.latLngToLayerPoint(this._latlng),w=this.getAllChildMarkers(null,!0),B=L.Path.SVG,P,H,z,ht,tt,X;for(_._ignoreMove=!0,_._animationStart(),this.setOpacity(1),H=w.length-1;H>=0;H--)P=w[H],P._preSpiderfyLatlng&&(P.closePopup(),P.setLatLng(P._preSpiderfyLatlng),delete P._preSpiderfyLatlng,X=!0,P._setPos&&(P._setPos(b),X=!1),P.clusterHide&&(P.clusterHide(),X=!1),X&&k.removeLayer(P),B&&(z=P._spiderLeg,ht=z._path,tt=ht.getTotalLength()+.1,ht.style.strokeDashoffset=tt,z.setStyle({opacity:0})));_._ignoreMove=!1,setTimeout(function(){var G=0;for(H=w.length-1;H>=0;H--)P=w[H],P._spiderLeg&&G++;for(H=w.length-1;H>=0;H--)P=w[H],P._spiderLeg&&(P.clusterShow&&P.clusterShow(),P.setZIndexOffset&&P.setZIndexOffset(0),G>1&&k.removeLayer(P),y.removeLayer(P._spiderLeg),delete P._spiderLeg);_._animationEnd(),_.fire("unspiderfied",{cluster:f,markers:w})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(u){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(u))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(u){this._spiderfied&&this._spiderfied.unspiderfy(u)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(u){u._spiderLeg&&(this._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),this._map.removeLayer(u._spiderLeg),delete u._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(u){return u?u instanceof L.MarkerClusterGroup?u=u._topClusterLevel.getAllChildMarkers():u instanceof L.LayerGroup?u=u._layers:u instanceof L.MarkerCluster?u=u.getAllChildMarkers():u instanceof L.Marker&&(u=[u]):u=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(u),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(u),this},_flagParentsIconsNeedUpdate:function(u){var f,_;for(f in u)for(_=u[f].__parent;_;)_._iconNeedsUpdate=!0,_=_.__parent},_refreshSingleMarkerModeMarkers:function(u){var f,_;for(f in u)_=u[f],this.hasLayer(_)&&_.setIcon(this._overrideMarkerIcon(_))}}),L.Marker.include({refreshIconOptions:function(u,f){var _=this.options.icon;return L.setOptions(_,u),this.setIcon(_),f&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),o.MarkerClusterGroup=c,o.MarkerCluster=d,Object.defineProperty(o,"__esModule",{value:!0})})})(Bo,Bo.exports)),Bo.exports}eL();var Af={},Df;function iL(){return Df||(Df=1,(()=>{var t=Object.create,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,d=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,f=(i,r)=>()=>(r||i((r={exports:{}}).exports,r),r.exports),_=(i,r,a,l)=>{if(r&&typeof r=="object"||typeof r=="function")for(let p of c(r))!u.call(i,p)&&p!==a&&n(i,p,{get:()=>r[p],enumerable:!(l=o(r,p))||l.enumerable});return i},y=(i,r,a)=>(a=i!=null?t(d(i)):{},_(r||!i||!i.__esModule?n(a,"default",{value:i,enumerable:!0}):a,i)),k=f((i,r)=>{function a(){this.__data__=[],this.size=0}r.exports=a}),b=f((i,r)=>{function a(l,p){return l===p||l!==l&&p!==p}r.exports=a}),w=f((i,r)=>{var a=b();function l(p,m){for(var v=p.length;v--;)if(a(p[v][0],m))return v;return-1}r.exports=l}),B=f((i,r)=>{var a=w(),l=Array.prototype,p=l.splice;function m(v){var C=this.__data__,M=a(C,v);if(M<0)return!1;var T=C.length-1;return M==T?C.pop():p.call(C,M,1),--this.size,!0}r.exports=m}),P=f((i,r)=>{var a=w();function l(p){var m=this.__data__,v=a(m,p);return v<0?void 0:m[v][1]}r.exports=l}),H=f((i,r)=>{var a=w();function l(p){return a(this.__data__,p)>-1}r.exports=l}),z=f((i,r)=>{var a=w();function l(p,m){var v=this.__data__,C=a(v,p);return C<0?(++this.size,v.push([p,m])):v[C][1]=m,this}r.exports=l}),ht=f((i,r)=>{var a=k(),l=B(),p=P(),m=H(),v=z();function C(M){var T=-1,U=M==null?0:M.length;for(this.clear();++T<U;){var F=M[T];this.set(F[0],F[1])}}C.prototype.clear=a,C.prototype.delete=l,C.prototype.get=p,C.prototype.has=m,C.prototype.set=v,r.exports=C}),tt=f((i,r)=>{var a=ht();function l(){this.__data__=new a,this.size=0}r.exports=l}),X=f((i,r)=>{function a(l){var p=this.__data__,m=p.delete(l);return this.size=p.size,m}r.exports=a}),G=f((i,r)=>{function a(l){return this.__data__.get(l)}r.exports=a}),$=f((i,r)=>{function a(l){return this.__data__.has(l)}r.exports=a}),rt=f((i,r)=>{var a=typeof $a=="object"&&$a&&$a.Object===Object&&$a;r.exports=a}),pt=f((i,r)=>{var a=rt(),l=typeof self=="object"&&self&&self.Object===Object&&self,p=a||l||Function("return this")();r.exports=p}),kt=f((i,r)=>{var a=pt(),l=a.Symbol;r.exports=l}),zt=f((i,r)=>{var a=kt(),l=Object.prototype,p=l.hasOwnProperty,m=l.toString,v=a?a.toStringTag:void 0;function C(M){var T=p.call(M,v),U=M[v];try{M[v]=void 0;var F=!0}catch{}var st=m.call(M);return F&&(T?M[v]=U:delete M[v]),st}r.exports=C}),wt=f((i,r)=>{var a=Object.prototype,l=a.toString;function p(m){return l.call(m)}r.exports=p}),xt=f((i,r)=>{var a=kt(),l=zt(),p=wt(),m="[object Null]",v="[object Undefined]",C=a?a.toStringTag:void 0;function M(T){return T==null?T===void 0?v:m:C&&C in Object(T)?l(T):p(T)}r.exports=M}),Pt=f((i,r)=>{function a(l){var p=typeof l;return l!=null&&(p=="object"||p=="function")}r.exports=a}),mt=f((i,r)=>{var a=xt(),l=Pt(),p="[object AsyncFunction]",m="[object Function]",v="[object GeneratorFunction]",C="[object Proxy]";function M(T){if(!l(T))return!1;var U=a(T);return U==m||U==v||U==p||U==C}r.exports=M}),Gt=f((i,r)=>{var a=pt(),l=a["__core-js_shared__"];r.exports=l}),Qt=f((i,r)=>{var a=Gt(),l=(function(){var m=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""})();function p(m){return!!l&&l in m}r.exports=p}),pe=f((i,r)=>{var a=Function.prototype,l=a.toString;function p(m){if(m!=null){try{return l.call(m)}catch{}try{return m+""}catch{}}return""}r.exports=p}),St=f((i,r)=>{var a=mt(),l=Qt(),p=Pt(),m=pe(),v=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,M=Function.prototype,T=Object.prototype,U=M.toString,F=T.hasOwnProperty,st=RegExp("^"+U.call(F).replace(v,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function at(bt){if(!p(bt)||l(bt))return!1;var At=a(bt)?st:C;return At.test(m(bt))}r.exports=at}),qt=f((i,r)=>{function a(l,p){return l?.[p]}r.exports=a}),_t=f((i,r)=>{var a=St(),l=qt();function p(m,v){var C=l(m,v);return a(C)?C:void 0}r.exports=p}),me=f((i,r)=>{var a=_t(),l=pt(),p=a(l,"Map");r.exports=p}),Ut=f((i,r)=>{var a=_t(),l=a(Object,"create");r.exports=l}),ue=f((i,r)=>{var a=Ut();function l(){this.__data__=a?a(null):{},this.size=0}r.exports=l}),ye=f((i,r)=>{function a(l){var p=this.has(l)&&delete this.__data__[l];return this.size-=p?1:0,p}r.exports=a}),Re=f((i,r)=>{var a=Ut(),l="__lodash_hash_undefined__",p=Object.prototype,m=p.hasOwnProperty;function v(C){var M=this.__data__;if(a){var T=M[C];return T===l?void 0:T}return m.call(M,C)?M[C]:void 0}r.exports=v}),xe=f((i,r)=>{var a=Ut(),l=Object.prototype,p=l.hasOwnProperty;function m(v){var C=this.__data__;return a?C[v]!==void 0:p.call(C,v)}r.exports=m}),ae=f((i,r)=>{var a=Ut(),l="__lodash_hash_undefined__";function p(m,v){var C=this.__data__;return this.size+=this.has(m)?0:1,C[m]=a&&v===void 0?l:v,this}r.exports=p}),Jt=f((i,r)=>{var a=ue(),l=ye(),p=Re(),m=xe(),v=ae();function C(M){var T=-1,U=M==null?0:M.length;for(this.clear();++T<U;){var F=M[T];this.set(F[0],F[1])}}C.prototype.clear=a,C.prototype.delete=l,C.prototype.get=p,C.prototype.has=m,C.prototype.set=v,r.exports=C}),ft=f((i,r)=>{var a=Jt(),l=ht(),p=me();function m(){this.size=0,this.__data__={hash:new a,map:new(p||l),string:new a}}r.exports=m}),Dt=f((i,r)=>{function a(l){var p=typeof l;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?l!=="__proto__":l===null}r.exports=a}),Bt=f((i,r)=>{var a=Dt();function l(p,m){var v=p.__data__;return a(m)?v[typeof m=="string"?"string":"hash"]:v.map}r.exports=l}),jt=f((i,r)=>{var a=Bt();function l(p){var m=a(this,p).delete(p);return this.size-=m?1:0,m}r.exports=l}),ne=f((i,r)=>{var a=Bt();function l(p){return a(this,p).get(p)}r.exports=l}),_e=f((i,r)=>{var a=Bt();function l(p){return a(this,p).has(p)}r.exports=l}),N=f((i,r)=>{var a=Bt();function l(p,m){var v=a(this,p),C=v.size;return v.set(p,m),this.size+=v.size==C?0:1,this}r.exports=l}),V=f((i,r)=>{var a=ft(),l=jt(),p=ne(),m=_e(),v=N();function C(M){var T=-1,U=M==null?0:M.length;for(this.clear();++T<U;){var F=M[T];this.set(F[0],F[1])}}C.prototype.clear=a,C.prototype.delete=l,C.prototype.get=p,C.prototype.has=m,C.prototype.set=v,r.exports=C}),ut=f((i,r)=>{var a=ht(),l=me(),p=V(),m=200;function v(C,M){var T=this.__data__;if(T instanceof a){var U=T.__data__;if(!l||U.length<m-1)return U.push([C,M]),this.size=++T.size,this;T=this.__data__=new p(U)}return T.set(C,M),this.size=T.size,this}r.exports=v}),Lt=f((i,r)=>{var a=ht(),l=tt(),p=X(),m=G(),v=$(),C=ut();function M(T){var U=this.__data__=new a(T);this.size=U.size}M.prototype.clear=l,M.prototype.delete=p,M.prototype.get=m,M.prototype.has=v,M.prototype.set=C,r.exports=M}),dt=f((i,r)=>{var a=_t(),l=(function(){try{var p=a(Object,"defineProperty");return p({},"",{}),p}catch{}})();r.exports=l}),vt=f((i,r)=>{var a=dt();function l(p,m,v){m=="__proto__"&&a?a(p,m,{configurable:!0,enumerable:!0,value:v,writable:!0}):p[m]=v}r.exports=l}),Tt=f((i,r)=>{var a=vt(),l=b();function p(m,v,C){(C!==void 0&&!l(m[v],C)||C===void 0&&!(v in m))&&a(m,v,C)}r.exports=p}),Mt=f((i,r)=>{function a(l){return function(p,m,v){for(var C=-1,M=Object(p),T=v(p),U=T.length;U--;){var F=T[l?U:++C];if(m(M[F],F,M)===!1)break}return p}}r.exports=a}),Et=f((i,r)=>{var a=Mt(),l=a();r.exports=l}),Ct=f((i,r)=>{var a=pt(),l=typeof i=="object"&&i&&!i.nodeType&&i,p=l&&typeof r=="object"&&r&&!r.nodeType&&r,m=p&&p.exports===l,v=m?a.Buffer:void 0,C=v?v.allocUnsafe:void 0;function M(T,U){if(U)return T.slice();var F=T.length,st=C?C(F):new T.constructor(F);return T.copy(st),st}r.exports=M}),Vt=f((i,r)=>{var a=pt(),l=a.Uint8Array;r.exports=l}),Rt=f((i,r)=>{var a=Vt();function l(p){var m=new p.constructor(p.byteLength);return new a(m).set(new a(p)),m}r.exports=l}),Ht=f((i,r)=>{var a=Rt();function l(p,m){var v=m?a(p.buffer):p.buffer;return new p.constructor(v,p.byteOffset,p.length)}r.exports=l}),Wt=f((i,r)=>{function a(l,p){var m=-1,v=l.length;for(p||(p=Array(v));++m<v;)p[m]=l[m];return p}r.exports=a}),oe=f((i,r)=>{var a=Pt(),l=Object.create,p=(function(){function m(){}return function(v){if(!a(v))return{};if(l)return l(v);m.prototype=v;var C=new m;return m.prototype=void 0,C}})();r.exports=p}),ve=f((i,r)=>{function a(l,p){return function(m){return l(p(m))}}r.exports=a}),ce=f((i,r)=>{var a=ve(),l=a(Object.getPrototypeOf,Object);r.exports=l}),Ue=f((i,r)=>{var a=Object.prototype;function l(p){var m=p&&p.constructor,v=typeof m=="function"&&m.prototype||a;return p===v}r.exports=l}),Ge=f((i,r)=>{var a=oe(),l=ce(),p=Ue();function m(v){return typeof v.constructor=="function"&&!p(v)?a(l(v)):{}}r.exports=m}),Ze=f((i,r)=>{function a(l){return l!=null&&typeof l=="object"}r.exports=a}),Xe=f((i,r)=>{var a=xt(),l=Ze(),p="[object Arguments]";function m(v){return l(v)&&a(v)==p}r.exports=m}),Ii=f((i,r)=>{var a=Xe(),l=Ze(),p=Object.prototype,m=p.hasOwnProperty,v=p.propertyIsEnumerable,C=a((function(){return arguments})())?a:function(M){return l(M)&&m.call(M,"callee")&&!v.call(M,"callee")};r.exports=C}),Yi=f((i,r)=>{var a=Array.isArray;r.exports=a}),Qe=f((i,r)=>{var a=9007199254740991;function l(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=a}r.exports=l}),Ve=f((i,r)=>{var a=mt(),l=Qe();function p(m){return m!=null&&l(m.length)&&!a(m)}r.exports=p}),jr=f((i,r)=>{var a=Ve(),l=Ze();function p(m){return l(m)&&a(m)}r.exports=p}),Hr=f((i,r)=>{function a(){return!1}r.exports=a}),Us=f((i,r)=>{var a=pt(),l=Hr(),p=typeof i=="object"&&i&&!i.nodeType&&i,m=p&&typeof r=="object"&&r&&!r.nodeType&&r,v=m&&m.exports===p,C=v?a.Buffer:void 0,M=C?C.isBuffer:void 0,T=M||l;r.exports=T}),Qo=f((i,r)=>{var a=xt(),l=ce(),p=Ze(),m="[object Object]",v=Function.prototype,C=Object.prototype,M=v.toString,T=C.hasOwnProperty,U=M.call(Object);function F(st){if(!p(st)||a(st)!=m)return!1;var at=l(st);if(at===null)return!0;var bt=T.call(at,"constructor")&&at.constructor;return typeof bt=="function"&&bt instanceof bt&&M.call(bt)==U}r.exports=F}),ta=f((i,r)=>{var a=xt(),l=Qe(),p=Ze(),m="[object Arguments]",v="[object Array]",C="[object Boolean]",M="[object Date]",T="[object Error]",U="[object Function]",F="[object Map]",st="[object Number]",at="[object Object]",bt="[object RegExp]",At="[object Set]",Ft="[object String]",he="[object WeakMap]",j="[object ArrayBuffer]",K="[object DataView]",J="[object Float32Array]",lt="[object Float64Array]",Q="[object Int8Array]",ot="[object Int16Array]",E="[object Int32Array]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",I={};I[J]=I[lt]=I[Q]=I[ot]=I[E]=I[A]=I[R]=I[D]=I[O]=!0,I[m]=I[v]=I[j]=I[C]=I[K]=I[M]=I[T]=I[U]=I[F]=I[st]=I[at]=I[bt]=I[At]=I[Ft]=I[he]=!1;function W(q){return p(q)&&l(q.length)&&!!I[a(q)]}r.exports=W}),Iu=f((i,r)=>{function a(l){return function(p){return l(p)}}r.exports=a}),Fu=f((i,r)=>{var a=rt(),l=typeof i=="object"&&i&&!i.nodeType&&i,p=l&&typeof r=="object"&&r&&!r.nodeType&&r,m=p&&p.exports===l,v=m&&a.process,C=(function(){try{var M=p&&p.require&&p.require("util").types;return M||v&&v.binding&&v.binding("util")}catch{}})();r.exports=C}),ea=f((i,r)=>{var a=ta(),l=Iu(),p=Fu(),m=p&&p.isTypedArray,v=m?l(m):a;r.exports=v}),ia=f((i,r)=>{function a(l,p){if(!(p==="constructor"&&typeof l[p]=="function")&&p!="__proto__")return l[p]}r.exports=a}),Nu=f((i,r)=>{var a=vt(),l=b(),p=Object.prototype,m=p.hasOwnProperty;function v(C,M,T){var U=C[M];(!(m.call(C,M)&&l(U,T))||T===void 0&&!(M in C))&&a(C,M,T)}r.exports=v}),zu=f((i,r)=>{var a=Nu(),l=vt();function p(m,v,C,M){var T=!C;C||(C={});for(var U=-1,F=v.length;++U<F;){var st=v[U],at=M?M(C[st],m[st],st,C,m):void 0;at===void 0&&(at=m[st]),T?l(C,st,at):a(C,st,at)}return C}r.exports=p}),Zs=f((i,r)=>{function a(l,p){for(var m=-1,v=Array(l);++m<l;)v[m]=p(m);return v}r.exports=a}),na=f((i,r)=>{var a=9007199254740991,l=/^(?:0|[1-9]\d*)$/;function p(m,v){var C=typeof m;return v=v??a,!!v&&(C=="number"||C!="symbol"&&l.test(m))&&m>-1&&m%1==0&&m<v}r.exports=p}),Gu=f((i,r)=>{var a=Zs(),l=Ii(),p=Yi(),m=Us(),v=na(),C=ea(),M=Object.prototype,T=M.hasOwnProperty;function U(F,st){var at=p(F),bt=!at&&l(F),At=!at&&!bt&&m(F),Ft=!at&&!bt&&!At&&C(F),he=at||bt||At||Ft,j=he?a(F.length,String):[],K=j.length;for(var J in F)(st||T.call(F,J))&&!(he&&(J=="length"||At&&(J=="offset"||J=="parent")||Ft&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||v(J,K)))&&j.push(J);return j}r.exports=U}),ju=f((i,r)=>{function a(l){var p=[];if(l!=null)for(var m in Object(l))p.push(m);return p}r.exports=a}),Hu=f((i,r)=>{var a=Pt(),l=Ue(),p=ju(),m=Object.prototype,v=m.hasOwnProperty;function C(M){if(!a(M))return p(M);var T=l(M),U=[];for(var F in M)F=="constructor"&&(T||!v.call(M,F))||U.push(F);return U}r.exports=C}),Pi=f((i,r)=>{var a=Gu(),l=Hu(),p=Ve();function m(v){return p(v)?a(v,!0):l(v)}r.exports=m}),Zt=f((i,r)=>{var a=zu(),l=Pi();function p(m){return a(m,l(m))}r.exports=p}),ra=f((i,r)=>{var a=Tt(),l=Ct(),p=Ht(),m=Wt(),v=Ge(),C=Ii(),M=Yi(),T=jr(),U=Us(),F=mt(),st=Pt(),at=Qo(),bt=ea(),At=ia(),Ft=Zt();function he(j,K,J,lt,Q,ot,E){var A=At(j,J),R=At(K,J),D=E.get(R);if(D){a(j,J,D);return}var O=ot?ot(A,R,J+"",j,K,E):void 0,I=O===void 0;if(I){var W=M(R),q=!W&&U(R),Y=!W&&!q&&bt(R);O=R,W||q||Y?M(A)?O=A:T(A)?O=m(A):q?(I=!1,O=l(R,!0)):Y?(I=!1,O=p(R,!0)):O=[]:at(R)||C(R)?(O=A,C(A)?O=Ft(A):(!st(A)||F(A))&&(O=v(R))):I=!1}I&&(E.set(R,O),Q(O,R,lt,ot,E),E.delete(R)),a(j,J,O)}r.exports=he}),sa=f((i,r)=>{var a=Lt(),l=Tt(),p=Et(),m=ra(),v=Pt(),C=Pi(),M=ia();function T(U,F,st,at,bt){U!==F&&p(F,function(At,Ft){if(bt||(bt=new a),v(At))m(U,F,Ft,st,T,at,bt);else{var he=at?at(M(U,Ft),At,Ft+"",U,F,bt):void 0;he===void 0&&(he=At),l(U,Ft,he)}},C)}r.exports=T}),Vs=f((i,r)=>{function a(l){return l}r.exports=a}),oa=f((i,r)=>{function a(l,p,m){switch(m.length){case 0:return l.call(p);case 1:return l.call(p,m[0]);case 2:return l.call(p,m[0],m[1]);case 3:return l.call(p,m[0],m[1],m[2])}return l.apply(p,m)}r.exports=a}),Ks=f((i,r)=>{var a=oa(),l=Math.max;function p(m,v,C){return v=l(v===void 0?m.length-1:v,0),function(){for(var M=arguments,T=-1,U=l(M.length-v,0),F=Array(U);++T<U;)F[T]=M[v+T];T=-1;for(var st=Array(v+1);++T<v;)st[T]=M[T];return st[v]=C(F),a(m,this,st)}}r.exports=p}),aa=f((i,r)=>{function a(l){return function(){return l}}r.exports=a}),Vn=f((i,r)=>{var a=aa(),l=dt(),p=Vs(),m=l?function(v,C){return l(v,"toString",{configurable:!0,enumerable:!1,value:a(C),writable:!0})}:p;r.exports=m}),ua=f((i,r)=>{var a=800,l=16,p=Date.now;function m(v){var C=0,M=0;return function(){var T=p(),U=l-(T-M);if(M=T,U>0){if(++C>=a)return arguments[0]}else C=0;return v.apply(void 0,arguments)}}r.exports=m}),Uu=f((i,r)=>{var a=Vn(),l=ua(),p=l(a);r.exports=p}),Zu=f((i,r)=>{var a=Vs(),l=Ks(),p=Uu();function m(v,C){return p(l(v,C,a),v+"")}r.exports=m}),Vu=f((i,r)=>{var a=b(),l=Ve(),p=na(),m=Pt();function v(C,M,T){if(!m(T))return!1;var U=typeof M;return(U=="number"?l(T)&&p(M,T.length):U=="string"&&M in T)?a(T[M],C):!1}r.exports=v}),Ku=f((i,r)=>{var a=Zu(),l=Vu();function p(m){return a(function(v,C){var M=-1,T=C.length,U=T>1?C[T-1]:void 0,F=T>2?C[2]:void 0;for(U=m.length>3&&typeof U=="function"?(T--,U):void 0,F&&l(C[0],C[1],F)&&(U=T<3?void 0:U,T=1),v=Object(v);++M<T;){var st=C[M];st&&m(v,st,M,U)}return v})}r.exports=p}),Ur=f((i,r)=>{var a=sa(),l=Ku(),p=l(function(m,v,C){a(m,v,C)});r.exports=p}),qs=f((i,r)=>{var a=xt(),l=Ze(),p="[object Symbol]";function m(v){return typeof v=="symbol"||l(v)&&a(v)==p}r.exports=m}),Zr=f((i,r)=>{var a=Yi(),l=qs(),p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;function v(C,M){if(a(C))return!1;var T=typeof C;return T=="number"||T=="symbol"||T=="boolean"||C==null||l(C)?!0:m.test(C)||!p.test(C)||M!=null&&C in Object(M)}r.exports=v}),qu=f((i,r)=>{var a=V(),l="Expected a function";function p(m,v){if(typeof m!="function"||v!=null&&typeof v!="function")throw new TypeError(l);var C=function(){var M=arguments,T=v?v.apply(this,M):M[0],U=C.cache;if(U.has(T))return U.get(T);var F=m.apply(this,M);return C.cache=U.set(T,F)||U,F};return C.cache=new(p.Cache||a),C}p.Cache=a,r.exports=p}),Wu=f((i,r)=>{var a=qu(),l=500;function p(m){var v=a(m,function(M){return C.size===l&&C.clear(),M}),C=v.cache;return v}r.exports=p}),$u=f((i,r)=>{var a=Wu(),l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,m=a(function(v){var C=[];return v.charCodeAt(0)===46&&C.push(""),v.replace(l,function(M,T,U,F){C.push(U?F.replace(p,"$1"):T||M)}),C});r.exports=m}),Yu=f((i,r)=>{function a(l,p){for(var m=-1,v=l==null?0:l.length,C=Array(v);++m<v;)C[m]=p(l[m],m,l);return C}r.exports=a}),Ju=f((i,r)=>{var a=kt(),l=Yu(),p=Yi(),m=qs(),v=a?a.prototype:void 0,C=v?v.toString:void 0;function M(T){if(typeof T=="string")return T;if(p(T))return l(T,M)+"";if(m(T))return C?C.call(T):"";var U=T+"";return U=="0"&&1/T==-1/0?"-0":U}r.exports=M}),Ws=f((i,r)=>{var a=Ju();function l(p){return p==null?"":a(p)}r.exports=l}),fr=f((i,r)=>{var a=Yi(),l=Zr(),p=$u(),m=Ws();function v(C,M){return a(C)?C:l(C,M)?[C]:p(m(C))}r.exports=v}),la=f((i,r)=>{var a=qs();function l(p){if(typeof p=="string"||a(p))return p;var m=p+"";return m=="0"&&1/p==-1/0?"-0":m}r.exports=l}),ha=f((i,r)=>{var a=fr(),l=la();function p(m,v){v=a(v,m);for(var C=0,M=v.length;m!=null&&C<M;)m=m[l(v[C++])];return C&&C==M?m:void 0}r.exports=p}),ln=f((i,r)=>{var a=ha();function l(p,m,v){var C=p==null?void 0:a(p,m);return C===void 0?v:C}r.exports=l}),fe=f((i,r)=>{(function(a,l){typeof i=="object"&&typeof r<"u"?r.exports=l():(a=a||self).RBush=l()})(i,function(){function a(j,K,J,lt,Q){(function ot(E,A,R,D,O){for(;D>R;){if(D-R>600){var I=D-R+1,W=A-R+1,q=Math.log(I),Y=.5*Math.exp(2*q/3),nt=.5*Math.sqrt(q*Y*(I-Y)/I)*(W-I/2<0?-1:1),it=Math.max(R,Math.floor(A-W*Y/I+nt)),gt=Math.min(D,Math.floor(A+(I-W)*Y/I+nt));ot(E,A,it,gt,O)}var It=E[A],Nt=R,Kt=D;for(l(E,R,A),O(E[D],It)>0&&l(E,R,D);Nt<Kt;){for(l(E,Nt,Kt),Nt++,Kt--;O(E[Nt],It)<0;)Nt++;for(;O(E[Kt],It)>0;)Kt--}O(E[R],It)===0?l(E,R,Kt):l(E,++Kt,D),Kt<=A&&(R=Kt+1),A<=Kt&&(D=Kt-1)}})(j,K,J||0,lt||j.length-1,Q||p)}function l(j,K,J){var lt=j[K];j[K]=j[J],j[J]=lt}function p(j,K){return j<K?-1:j>K?1:0}var m=function(j){j===void 0&&(j=9),this._maxEntries=Math.max(4,j),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function v(j,K,J){if(!J)return K.indexOf(j);for(var lt=0;lt<K.length;lt++)if(J(j,K[lt]))return lt;return-1}function C(j,K){M(j,0,j.children.length,K,j)}function M(j,K,J,lt,Q){Q||(Q=Ft(null)),Q.minX=1/0,Q.minY=1/0,Q.maxX=-1/0,Q.maxY=-1/0;for(var ot=K;ot<J;ot++){var E=j.children[ot];T(Q,j.leaf?lt(E):E)}return Q}function T(j,K){return j.minX=Math.min(j.minX,K.minX),j.minY=Math.min(j.minY,K.minY),j.maxX=Math.max(j.maxX,K.maxX),j.maxY=Math.max(j.maxY,K.maxY),j}function U(j,K){return j.minX-K.minX}function F(j,K){return j.minY-K.minY}function st(j){return(j.maxX-j.minX)*(j.maxY-j.minY)}function at(j){return j.maxX-j.minX+(j.maxY-j.minY)}function bt(j,K){return j.minX<=K.minX&&j.minY<=K.minY&&K.maxX<=j.maxX&&K.maxY<=j.maxY}function At(j,K){return K.minX<=j.maxX&&K.minY<=j.maxY&&K.maxX>=j.minX&&K.maxY>=j.minY}function Ft(j){return{children:j,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function he(j,K,J,lt,Q){for(var ot=[K,J];ot.length;)if(!((J=ot.pop())-(K=ot.pop())<=lt)){var E=K+Math.ceil((J-K)/lt/2)*lt;a(j,E,K,J,Q),ot.push(K,E,E,J)}}return m.prototype.all=function(){return this._all(this.data,[])},m.prototype.search=function(j){var K=this.data,J=[];if(!At(j,K))return J;for(var lt=this.toBBox,Q=[];K;){for(var ot=0;ot<K.children.length;ot++){var E=K.children[ot],A=K.leaf?lt(E):E;At(j,A)&&(K.leaf?J.push(E):bt(j,A)?this._all(E,J):Q.push(E))}K=Q.pop()}return J},m.prototype.collides=function(j){var K=this.data;if(!At(j,K))return!1;for(var J=[];K;){for(var lt=0;lt<K.children.length;lt++){var Q=K.children[lt],ot=K.leaf?this.toBBox(Q):Q;if(At(j,ot)){if(K.leaf||bt(j,ot))return!0;J.push(Q)}}K=J.pop()}return!1},m.prototype.load=function(j){if(!j||!j.length)return this;if(j.length<this._minEntries){for(var K=0;K<j.length;K++)this.insert(j[K]);return this}var J=this._build(j.slice(),0,j.length-1,0);if(this.data.children.length)if(this.data.height===J.height)this._splitRoot(this.data,J);else{if(this.data.height<J.height){var lt=this.data;this.data=J,J=lt}this._insert(J,this.data.height-J.height-1,!0)}else this.data=J;return this},m.prototype.insert=function(j){return j&&this._insert(j,this.data.height-1),this},m.prototype.clear=function(){return this.data=Ft([]),this},m.prototype.remove=function(j,K){if(!j)return this;for(var J,lt,Q,ot=this.data,E=this.toBBox(j),A=[],R=[];ot||A.length;){if(ot||(ot=A.pop(),lt=A[A.length-1],J=R.pop(),Q=!0),ot.leaf){var D=v(j,ot.children,K);if(D!==-1)return ot.children.splice(D,1),A.push(ot),this._condense(A),this}Q||ot.leaf||!bt(ot,E)?lt?(J++,ot=lt.children[J],Q=!1):ot=null:(A.push(ot),R.push(J),J=0,lt=ot,ot=ot.children[0])}return this},m.prototype.toBBox=function(j){return j},m.prototype.compareMinX=function(j,K){return j.minX-K.minX},m.prototype.compareMinY=function(j,K){return j.minY-K.minY},m.prototype.toJSON=function(){return this.data},m.prototype.fromJSON=function(j){return this.data=j,this},m.prototype._all=function(j,K){for(var J=[];j;)j.leaf?K.push.apply(K,j.children):J.push.apply(J,j.children),j=J.pop();return K},m.prototype._build=function(j,K,J,lt){var Q,ot=J-K+1,E=this._maxEntries;if(ot<=E)return C(Q=Ft(j.slice(K,J+1)),this.toBBox),Q;lt||(lt=Math.ceil(Math.log(ot)/Math.log(E)),E=Math.ceil(ot/Math.pow(E,lt-1))),(Q=Ft([])).leaf=!1,Q.height=lt;var A=Math.ceil(ot/E),R=A*Math.ceil(Math.sqrt(E));he(j,K,J,R,this.compareMinX);for(var D=K;D<=J;D+=R){var O=Math.min(D+R-1,J);he(j,D,O,A,this.compareMinY);for(var I=D;I<=O;I+=A){var W=Math.min(I+A-1,O);Q.children.push(this._build(j,I,W,lt-1))}}return C(Q,this.toBBox),Q},m.prototype._chooseSubtree=function(j,K,J,lt){for(;lt.push(K),!K.leaf&&lt.length-1!==J;){for(var Q=1/0,ot=1/0,E=void 0,A=0;A<K.children.length;A++){var R=K.children[A],D=st(R),O=(I=j,W=R,(Math.max(W.maxX,I.maxX)-Math.min(W.minX,I.minX))*(Math.max(W.maxY,I.maxY)-Math.min(W.minY,I.minY))-D);O<ot?(ot=O,Q=D<Q?D:Q,E=R):O===ot&&D<Q&&(Q=D,E=R)}K=E||K.children[0]}var I,W;return K},m.prototype._insert=function(j,K,J){var lt=J?j:this.toBBox(j),Q=[],ot=this._chooseSubtree(lt,this.data,K,Q);for(ot.children.push(j),T(ot,lt);K>=0&&Q[K].children.length>this._maxEntries;)this._split(Q,K),K--;this._adjustParentBBoxes(lt,Q,K)},m.prototype._split=function(j,K){var J=j[K],lt=J.children.length,Q=this._minEntries;this._chooseSplitAxis(J,Q,lt);var ot=this._chooseSplitIndex(J,Q,lt),E=Ft(J.children.splice(ot,J.children.length-ot));E.height=J.height,E.leaf=J.leaf,C(J,this.toBBox),C(E,this.toBBox),K?j[K-1].children.push(E):this._splitRoot(J,E)},m.prototype._splitRoot=function(j,K){this.data=Ft([j,K]),this.data.height=j.height+1,this.data.leaf=!1,C(this.data,this.toBBox)},m.prototype._chooseSplitIndex=function(j,K,J){for(var lt,Q,ot,E,A,R,D,O=1/0,I=1/0,W=K;W<=J-K;W++){var q=M(j,0,W,this.toBBox),Y=M(j,W,J,this.toBBox),nt=(Q=q,ot=Y,E=void 0,A=void 0,R=void 0,D=void 0,E=Math.max(Q.minX,ot.minX),A=Math.max(Q.minY,ot.minY),R=Math.min(Q.maxX,ot.maxX),D=Math.min(Q.maxY,ot.maxY),Math.max(0,R-E)*Math.max(0,D-A)),it=st(q)+st(Y);nt<O?(O=nt,lt=W,I=it<I?it:I):nt===O&&it<I&&(I=it,lt=W)}return lt||J-K},m.prototype._chooseSplitAxis=function(j,K,J){var lt=j.leaf?this.compareMinX:U,Q=j.leaf?this.compareMinY:F;this._allDistMargin(j,K,J,lt)<this._allDistMargin(j,K,J,Q)&&j.children.sort(lt)},m.prototype._allDistMargin=function(j,K,J,lt){j.children.sort(lt);for(var Q=this.toBBox,ot=M(j,0,K,Q),E=M(j,J-K,J,Q),A=at(ot)+at(E),R=K;R<J-K;R++){var D=j.children[R];T(ot,j.leaf?Q(D):D),A+=at(ot)}for(var O=J-K-1;O>=K;O--){var I=j.children[O];T(E,j.leaf?Q(I):I),A+=at(E)}return A},m.prototype._adjustParentBBoxes=function(j,K,J){for(var lt=J;lt>=0;lt--)T(K[lt],j)},m.prototype._condense=function(j){for(var K=j.length-1,J=void 0;K>=0;K--)j[K].children.length===0?K>0?(J=j[K-1].children).splice(J.indexOf(j[K]),1):this.clear():C(j[K],this.toBBox)},m})}),Be=f(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=63710088e-1,i.factors={centimeters:i.earthRadius*100,centimetres:i.earthRadius*100,degrees:i.earthRadius/111325,feet:i.earthRadius*3.28084,inches:i.earthRadius*39.37,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:i.earthRadius*1e3,millimetres:i.earthRadius*1e3,nauticalmiles:i.earthRadius/1852,radians:1,yards:i.earthRadius*1.0936},i.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function r(D,O,I){I===void 0&&(I={});var W={type:"Feature"};return(I.id===0||I.id)&&(W.id=I.id),I.bbox&&(W.bbox=I.bbox),W.properties=O||{},W.geometry=D,W}i.feature=r;function a(D,O,I){switch(D){case"Point":return l(O).geometry;case"LineString":return C(O).geometry;case"Polygon":return m(O).geometry;case"MultiPoint":return F(O).geometry;case"MultiLineString":return U(O).geometry;case"MultiPolygon":return st(O).geometry;default:throw new Error(D+" is invalid")}}i.geometry=a;function l(D,O,I){if(I===void 0&&(I={}),!D)throw new Error("coordinates is required");if(!Array.isArray(D))throw new Error("coordinates must be an Array");if(D.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ot(D[0])||!ot(D[1]))throw new Error("coordinates must contain numbers");var W={type:"Point",coordinates:D};return r(W,O,I)}i.point=l;function p(D,O,I){return I===void 0&&(I={}),T(D.map(function(W){return l(W,O)}),I)}i.points=p;function m(D,O,I){I===void 0&&(I={});for(var W=0,q=D;W<q.length;W++){var Y=q[W];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var nt=0;nt<Y[Y.length-1].length;nt++)if(Y[Y.length-1][nt]!==Y[0][nt])throw new Error("First and last Position are not equivalent.")}var it={type:"Polygon",coordinates:D};return r(it,O,I)}i.polygon=m;function v(D,O,I){return I===void 0&&(I={}),T(D.map(function(W){return m(W,O)}),I)}i.polygons=v;function C(D,O,I){if(I===void 0&&(I={}),D.length<2)throw new Error("coordinates must be an array of two or more positions");var W={type:"LineString",coordinates:D};return r(W,O,I)}i.lineString=C;function M(D,O,I){return I===void 0&&(I={}),T(D.map(function(W){return C(W,O)}),I)}i.lineStrings=M;function T(D,O){O===void 0&&(O={});var I={type:"FeatureCollection"};return O.id&&(I.id=O.id),O.bbox&&(I.bbox=O.bbox),I.features=D,I}i.featureCollection=T;function U(D,O,I){I===void 0&&(I={});var W={type:"MultiLineString",coordinates:D};return r(W,O,I)}i.multiLineString=U;function F(D,O,I){I===void 0&&(I={});var W={type:"MultiPoint",coordinates:D};return r(W,O,I)}i.multiPoint=F;function st(D,O,I){I===void 0&&(I={});var W={type:"MultiPolygon",coordinates:D};return r(W,O,I)}i.multiPolygon=st;function at(D,O,I){I===void 0&&(I={});var W={type:"GeometryCollection",geometries:D};return r(W,O,I)}i.geometryCollection=at;function bt(D,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var I=Math.pow(10,O||0);return Math.round(D*I)/I}i.round=bt;function At(D,O){O===void 0&&(O="kilometers");var I=i.factors[O];if(!I)throw new Error(O+" units is invalid");return D*I}i.radiansToLength=At;function Ft(D,O){O===void 0&&(O="kilometers");var I=i.factors[O];if(!I)throw new Error(O+" units is invalid");return D/I}i.lengthToRadians=Ft;function he(D,O){return K(Ft(D,O))}i.lengthToDegrees=he;function j(D){var O=D%360;return O<0&&(O+=360),O}i.bearingToAzimuth=j;function K(D){var O=D%(2*Math.PI);return O*180/Math.PI}i.radiansToDegrees=K;function J(D){var O=D%360;return O*Math.PI/180}i.degreesToRadians=J;function lt(D,O,I){if(O===void 0&&(O="kilometers"),I===void 0&&(I="kilometers"),!(D>=0))throw new Error("length must be a positive number");return At(Ft(D,O),I)}i.convertLength=lt;function Q(D,O,I){if(O===void 0&&(O="meters"),I===void 0&&(I="kilometers"),!(D>=0))throw new Error("area must be a positive number");var W=i.areaFactors[O];if(!W)throw new Error("invalid original units");var q=i.areaFactors[I];if(!q)throw new Error("invalid final units");return D/W*q}i.convertArea=Q;function ot(D){return!isNaN(D)&&D!==null&&!Array.isArray(D)}i.isNumber=ot;function E(D){return!!D&&D.constructor===Object}i.isObject=E;function A(D){if(!D)throw new Error("bbox is required");if(!Array.isArray(D))throw new Error("bbox must be an Array");if(D.length!==4&&D.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");D.forEach(function(O){if(!ot(O))throw new Error("bbox must only contain numbers")})}i.validateBBox=A;function R(D){if(!D)throw new Error("id is required");if(["string","number"].indexOf(typeof D)===-1)throw new Error("id must be a number or a string")}i.validateId=R}),dr=f(i=>{Object.defineProperty(i,"__esModule",{value:!0});var r=Be();function a(K,J,lt){if(K!==null)for(var Q,ot,E,A,R,D,O,I=0,W=0,q,Y=K.type,nt=Y==="FeatureCollection",it=Y==="Feature",gt=nt?K.features.length:1,It=0;It<gt;It++){O=nt?K.features[It].geometry:it?K.geometry:K,q=O?O.type==="GeometryCollection":!1,R=q?O.geometries.length:1;for(var Nt=0;Nt<R;Nt++){var Kt=0,Le=0;if(A=q?O.geometries[Nt]:O,A!==null){D=A.coordinates;var ke=A.type;switch(I=lt&&(ke==="Polygon"||ke==="MultiPolygon")?1:0,ke){case null:break;case"Point":if(J(D,W,It,Kt,Le)===!1)return!1;W++,Kt++;break;case"LineString":case"MultiPoint":for(Q=0;Q<D.length;Q++){if(J(D[Q],W,It,Kt,Le)===!1)return!1;W++,ke==="MultiPoint"&&Kt++}ke==="LineString"&&Kt++;break;case"Polygon":case"MultiLineString":for(Q=0;Q<D.length;Q++){for(ot=0;ot<D[Q].length-I;ot++){if(J(D[Q][ot],W,It,Kt,Le)===!1)return!1;W++}ke==="MultiLineString"&&Kt++,ke==="Polygon"&&Le++}ke==="Polygon"&&Kt++;break;case"MultiPolygon":for(Q=0;Q<D.length;Q++){for(Le=0,ot=0;ot<D[Q].length;ot++){for(E=0;E<D[Q][ot].length-I;E++){if(J(D[Q][ot][E],W,It,Kt,Le)===!1)return!1;W++}Le++}Kt++}break;case"GeometryCollection":for(Q=0;Q<A.geometries.length;Q++)if(a(A.geometries[Q],J,lt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function l(K,J,lt,Q){var ot=lt;return a(K,function(E,A,R,D,O){A===0&&lt===void 0?ot=E:ot=J(ot,E,A,R,D,O)},Q),ot}function p(K,J){var lt;switch(K.type){case"FeatureCollection":for(lt=0;lt<K.features.length&&J(K.features[lt].properties,lt)!==!1;lt++);break;case"Feature":J(K.properties,0);break}}function m(K,J,lt){var Q=lt;return p(K,function(ot,E){E===0&&lt===void 0?Q=ot:Q=J(Q,ot,E)}),Q}function v(K,J){if(K.type==="Feature")J(K,0);else if(K.type==="FeatureCollection")for(var lt=0;lt<K.features.length&&J(K.features[lt],lt)!==!1;lt++);}function C(K,J,lt){var Q=lt;return v(K,function(ot,E){E===0&&lt===void 0?Q=ot:Q=J(Q,ot,E)}),Q}function M(K){var J=[];return a(K,function(lt){J.push(lt)}),J}function T(K,J){var lt,Q,ot,E,A,R,D,O,I,W,q=0,Y=K.type==="FeatureCollection",nt=K.type==="Feature",it=Y?K.features.length:1;for(lt=0;lt<it;lt++){for(R=Y?K.features[lt].geometry:nt?K.geometry:K,O=Y?K.features[lt].properties:nt?K.properties:{},I=Y?K.features[lt].bbox:nt?K.bbox:void 0,W=Y?K.features[lt].id:nt?K.id:void 0,D=R?R.type==="GeometryCollection":!1,A=D?R.geometries.length:1,ot=0;ot<A;ot++){if(E=D?R.geometries[ot]:R,E===null){if(J(null,q,O,I,W)===!1)return!1;continue}switch(E.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(J(E,q,O,I,W)===!1)return!1;break}case"GeometryCollection":{for(Q=0;Q<E.geometries.length;Q++)if(J(E.geometries[Q],q,O,I,W)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}q++}}function U(K,J,lt){var Q=lt;return T(K,function(ot,E,A,R,D){E===0&&lt===void 0?Q=ot:Q=J(Q,ot,E,A,R,D)}),Q}function F(K,J){T(K,function(lt,Q,ot,E,A){var R=lt===null?null:lt.type;switch(R){case null:case"Point":case"LineString":case"Polygon":return J(r.feature(lt,ot,{bbox:E,id:A}),Q,0)===!1?!1:void 0}var D;switch(R){case"MultiPoint":D="Point";break;case"MultiLineString":D="LineString";break;case"MultiPolygon":D="Polygon";break}for(var O=0;O<lt.coordinates.length;O++){var I=lt.coordinates[O],W={type:D,coordinates:I};if(J(r.feature(W,ot),Q,O)===!1)return!1}})}function st(K,J,lt){var Q=lt;return F(K,function(ot,E,A){E===0&&A===0&&lt===void 0?Q=ot:Q=J(Q,ot,E,A)}),Q}function at(K,J){F(K,function(lt,Q,ot){var E=0;if(lt.geometry){var A=lt.geometry.type;if(!(A==="Point"||A==="MultiPoint")){var R,D=0,O=0,I=0;if(a(lt,function(W,q,Y,nt,it){if(R===void 0||Q>D||nt>O||it>I){R=W,D=Q,O=nt,I=it,E=0;return}var gt=r.lineString([R,W],lt.properties);if(J(gt,Q,ot,it,E)===!1)return!1;E++,R=W})===!1)return!1}}})}function bt(K,J,lt){var Q=lt,ot=!1;return at(K,function(E,A,R,D,O){ot===!1&&lt===void 0?Q=E:Q=J(Q,E,A,R,D,O),ot=!0}),Q}function At(K,J){if(!K)throw new Error("geojson is required");F(K,function(lt,Q,ot){if(lt.geometry!==null){var E=lt.geometry.type,A=lt.geometry.coordinates;switch(E){case"LineString":if(J(lt,Q,ot,0,0)===!1)return!1;break;case"Polygon":for(var R=0;R<A.length;R++)if(J(r.lineString(A[R],lt.properties),Q,ot,R)===!1)return!1;break}}})}function Ft(K,J,lt){var Q=lt;return At(K,function(ot,E,A,R){E===0&&lt===void 0?Q=ot:Q=J(Q,ot,E,A,R)}),Q}function he(K,J){if(J=J||{},!r.isObject(J))throw new Error("options is invalid");var lt=J.featureIndex||0,Q=J.multiFeatureIndex||0,ot=J.geometryIndex||0,E=J.segmentIndex||0,A=J.properties,R;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),A=A||K.features[lt].properties,R=K.features[lt].geometry;break;case"Feature":A=A||K.properties,R=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":R=K;break;default:throw new Error("geojson is invalid")}if(R===null)return null;var D=R.coordinates;switch(R.type){case"Point":case"MultiPoint":return null;case"LineString":return E<0&&(E=D.length+E-1),r.lineString([D[E],D[E+1]],A,J);case"Polygon":return ot<0&&(ot=D.length+ot),E<0&&(E=D[ot].length+E-1),r.lineString([D[ot][E],D[ot][E+1]],A,J);case"MultiLineString":return Q<0&&(Q=D.length+Q),E<0&&(E=D[Q].length+E-1),r.lineString([D[Q][E],D[Q][E+1]],A,J);case"MultiPolygon":return Q<0&&(Q=D.length+Q),ot<0&&(ot=D[Q].length+ot),E<0&&(E=D[Q][ot].length-E-1),r.lineString([D[Q][ot][E],D[Q][ot][E+1]],A,J)}throw new Error("geojson is invalid")}function j(K,J){if(J=J||{},!r.isObject(J))throw new Error("options is invalid");var lt=J.featureIndex||0,Q=J.multiFeatureIndex||0,ot=J.geometryIndex||0,E=J.coordIndex||0,A=J.properties,R;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),A=A||K.features[lt].properties,R=K.features[lt].geometry;break;case"Feature":A=A||K.properties,R=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":R=K;break;default:throw new Error("geojson is invalid")}if(R===null)return null;var D=R.coordinates;switch(R.type){case"Point":return r.point(D,A,J);case"MultiPoint":return Q<0&&(Q=D.length+Q),r.point(D[Q],A,J);case"LineString":return E<0&&(E=D.length+E),r.point(D[E],A,J);case"Polygon":return ot<0&&(ot=D.length+ot),E<0&&(E=D[ot].length+E),r.point(D[ot][E],A,J);case"MultiLineString":return Q<0&&(Q=D.length+Q),E<0&&(E=D[Q].length+E),r.point(D[Q][E],A,J);case"MultiPolygon":return Q<0&&(Q=D.length+Q),ot<0&&(ot=D[Q].length+ot),E<0&&(E=D[Q][ot].length-E),r.point(D[Q][ot][E],A,J)}throw new Error("geojson is invalid")}i.coordAll=M,i.coordEach=a,i.coordReduce=l,i.featureEach=v,i.featureReduce=C,i.findPoint=j,i.findSegment=he,i.flattenEach=F,i.flattenReduce=st,i.geomEach=T,i.geomReduce=U,i.lineEach=At,i.lineReduce=Ft,i.propEach=p,i.propReduce=m,i.segmentEach=at,i.segmentReduce=bt}),Kn=f(i=>{Object.defineProperty(i,"__esModule",{value:!0});var r=dr();function a(l){var p=[1/0,1/0,-1/0,-1/0];return r.coordEach(l,function(m){p[0]>m[0]&&(p[0]=m[0]),p[1]>m[1]&&(p[1]=m[1]),p[2]<m[0]&&(p[2]=m[0]),p[3]<m[1]&&(p[3]=m[1])}),p}a.default=a,i.default=a}),Cn=f((i,r)=>{var a=fe(),l=Be(),p=dr(),m=Kn().default,v=p.featureEach;p.coordEach,l.polygon;var C=l.featureCollection;function M(T){var U=new a(T);return U.insert=function(F){if(F.type!=="Feature")throw new Error("invalid feature");return F.bbox=F.bbox?F.bbox:m(F),a.prototype.insert.call(this,F)},U.load=function(F){var st=[];return Array.isArray(F)?F.forEach(function(at){if(at.type!=="Feature")throw new Error("invalid features");at.bbox=at.bbox?at.bbox:m(at),st.push(at)}):v(F,function(at){if(at.type!=="Feature")throw new Error("invalid features");at.bbox=at.bbox?at.bbox:m(at),st.push(at)}),a.prototype.load.call(this,st)},U.remove=function(F,st){if(F.type!=="Feature")throw new Error("invalid feature");return F.bbox=F.bbox?F.bbox:m(F),a.prototype.remove.call(this,F,st)},U.clear=function(){return a.prototype.clear.call(this)},U.search=function(F){var st=a.prototype.search.call(this,this.toBBox(F));return C(st)},U.collides=function(F){return a.prototype.collides.call(this,this.toBBox(F))},U.all=function(){var F=a.prototype.all.call(this);return C(F)},U.toJSON=function(){return a.prototype.toJSON.call(this)},U.fromJSON=function(F){return a.prototype.fromJSON.call(this,F)},U.toBBox=function(F){var st;if(F.bbox)st=F.bbox;else if(Array.isArray(F)&&F.length===4)st=F;else if(Array.isArray(F)&&F.length===6)st=[F[0],F[1],F[3],F[4]];else if(F.type==="Feature")st=m(F);else if(F.type==="FeatureCollection")st=m(F);else throw new Error("invalid geojson");return{minX:st[0],minY:st[1],maxX:st[2],maxY:st[3]}},U}r.exports=M,r.exports.default=M});Array.prototype.findIndex=Array.prototype.findIndex||function(i){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var r=Object(this),a=r.length>>>0,l=arguments[1],p=0;p<a;p++)if(i.call(l,r[p],p,r))return p;return-1},Array.prototype.find=Array.prototype.find||function(i){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var r=Object(this),a=r.length>>>0,l=arguments[1],p=0;p<a;p++){var m=r[p];if(i.call(l,m,p,r))return m}},typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");i=Object(i);for(var r=1;r<arguments.length;r++){var a=arguments[r];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i}),(function(i){i.forEach(function(r){r.hasOwnProperty("remove")||Object.defineProperty(r,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(i,r){if(this==null)throw new TypeError('"this" is null or not defined');var a=Object(this),l=a.length>>>0;if(l===0)return!1;var p=r|0,m=Math.max(p>=0?p:l-Math.abs(p),0);function v(C,M){return C===M||typeof C=="number"&&typeof M=="number"&&isNaN(C)&&isNaN(M)}for(;m<l;){if(v(a[m],i))return!0;m++}return!1}});var $s={version:"2.18.3"},re=y(Ur()),Oe={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Ys={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},Vr={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Ci={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Xu={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},Kr={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},xn={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},Fe={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},wn={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},pr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},_r={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Js={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},qn={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Xs={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},Qs={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},qr={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},to={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},eo={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},Wr={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},ca={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},io={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},Qu={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},ie={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},Fi={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},we={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},fa={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},no={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},ro=qn,hn={en:Oe,de:Ys,it:Vr,id:Ci,ro:Xu,ru:Kr,es:xn,nl:Fe,fr:wn,pt:ro,pt_br:Js,pt_pt:qn,zh:pr,zh_tw:_r,pl:Xs,sv:Qs,el:qr,hu:to,da:eo,no:Wr,fa:ca,ua:io,tr:Qu,cz:ie,ja:Fi,fi:we,ko:fa,ky:no},kn={_globalEditModeEnabled:!1,enableGlobalEditMode(i){let r={...i};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(a=>{this._isRelevantForEdit(a)&&a.pm.enable(r)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(i=>{i.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(i=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(i)},handleLayerAdditionInGlobalEditMode(){let i=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let r in i){let a=i[r];this._isRelevantForEdit(a)&&a.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:i}){this._addedLayersEdit[L.stamp(i)]=i},_isRelevantForEdit(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowEditing}},so=kn,gr={_globalDragModeEnabled:!1,enableGlobalDragMode(){let i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},i.forEach(r=>{this._isRelevantForDrag(r)&&r.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,i.forEach(r=>{r.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let i=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let r in i){let a=i[r];this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}},_layerAddedDrag({layer:i}){this._addedLayersDrag[L.stamp(i)]=i},_isRelevantForDrag(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.draggable}},We=gr,En={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(i=>{this._isRelevantForRemoval(i)&&(i.pm.enabled()&&i.pm.disable(),i.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(i=>{i.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(i){let r=i.target;this._isRelevantForRemoval(r)&&!r.pm.dragging()&&(r.removeFrom(this.map.pm._getContainingLayer()),r.remove(),r instanceof L.LayerGroup?(this._fireRemoveLayerGroup(r),this._fireRemoveLayerGroup(this.map,r)):(r.pm._fireRemove(r),r.pm._fireRemove(this.map,r)))},_isRelevantForRemoval(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let i=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let r in i){let a=i[r];this._isRelevantForRemoval(a)&&(a.pm.enabled()&&a.pm.disable(),a.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:i}){this._addedLayersRemoval[L.stamp(i)]=i}},da=En,pa={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(i=>i instanceof L.Polyline).forEach(i=>{this._isRelevantForRotate(i)&&i.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(i=>i instanceof L.Polyline).forEach(i=>{i.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(i){return i.pm&&i instanceof L.Polyline&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let i=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let r in i){let a=i[r];this._isRelevantForRemoval(a)&&a.pm.enableRotate()}},_layerAddedRotate({layer:i}){this._addedLayersRotate[L.stamp(i)]=i}},tl=pa,_a=y(Ur()),oo={_fireDrawStart(i="Draw",r={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},i,r)},_fireDrawEnd(i="Draw",r={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},i,r)},_fireCreate(i,r="Draw",a={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:i,layer:i},r,a)},_fireCenterPlaced(i="Draw",r={}){let a=i==="Draw"?this._layer:void 0,l=i!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:a,layer:l,latlng:this._layer.getLatLng()},i,r)},_fireCut(i,r,a,l="Draw",p={}){this.__fire(i,"pm:cut",{shape:this._shape,layer:r,originalLayer:a},l,p)},_fireEdit(i=this._layer,r="Edit",a={}){this.__fire(i,"pm:edit",{layer:this._layer,shape:this.getShape()},r,a)},_fireEnable(i="Edit",r={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},i,r)},_fireDisable(i="Edit",r={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},i,r)},_fireUpdate(i="Edit",r={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},i,r)},_fireMarkerDragStart(i,r=void 0,a="Edit",l={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:r},a,l)},_fireMarkerDrag(i,r=void 0,a="Edit",l={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:r},a,l)},_fireMarkerDragEnd(i,r=void 0,a=void 0,l="Edit",p={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:r,intersectionReset:a},l,p)},_fireDragStart(i="Edit",r={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},i,r)},_fireDrag(i,r="Edit",a={}){this.__fire(this._layer,"pm:drag",{...i,shape:this.getShape()},r,a)},_fireDragEnd(i="Edit",r={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},i,r)},_fireDragEnable(i="Edit",r={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},i,r)},_fireDragDisable(i="Edit",r={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},i,r)},_fireRemove(i,r=i,a="Edit",l={}){this.__fire(i,"pm:remove",{layer:r,shape:this.getShape()},a,l)},_fireVertexAdded(i,r,a,l="Edit",p={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:i,indexPath:r,latlng:a,shape:this.getShape()},l,p)},_fireVertexRemoved(i,r,a="Edit",l={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:i,indexPath:r,shape:this.getShape()},a,l)},_fireVertexClick(i,r,a="Edit",l={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:i,indexPath:r,shape:this.getShape()},a,l)},_fireIntersect(i,r=this._layer,a="Edit",l={}){this.__fire(r,"pm:intersect",{layer:this._layer,intersection:i,shape:this.getShape()},a,l)},_fireLayerReset(i,r,a="Edit",l={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:i,indexPath:r,shape:this.getShape()},a,l)},_fireChange(i,r="Edit",a={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:i,shape:this.getShape()},r,a)},_fireTextChange(i,r="Edit",a={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:i,shape:this.getShape()},r,a)},_fireTextFocus(i="Edit",r={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},i,r)},_fireTextBlur(i="Edit",r={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},i,r)},_fireSnapDrag(i,r,a="Snapping",l={}){this.__fire(i,"pm:snapdrag",r,a,l)},_fireSnap(i,r,a="Snapping",l={}){this.__fire(i,"pm:snap",r,a,l)},_fireUnsnap(i,r,a="Snapping",l={}){this.__fire(i,"pm:unsnap",r,a,l)},_fireRotationEnable(i,r,a="Rotation",l={}){this.__fire(i,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},a,l)},_fireRotationDisable(i,r="Rotation",a={}){this.__fire(i,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},r,a)},_fireRotationStart(i,r,a="Rotation",l={}){this.__fire(i,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:r},a,l)},_fireRotation(i,r,a,l=this._rotationLayer,p="Rotation",m={}){this.__fire(i,"pm:rotate",{layer:l,helpLayer:this._layer,startAngle:this._startAngle,angle:l.pm.getAngle(),angleDiff:r,oldLatLngs:a,newLatLngs:l.getLatLngs()},p,m)},_fireRotationEnd(i,r,a,l="Rotation",p={}){this.__fire(i,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:r,angle:this._rotationLayer.pm.getAngle(),originLatLngs:a,newLatLngs:this._rotationLayer.getLatLngs()},l,p)},_fireActionClick(i,r,a,l="Toolbar",p={}){this.__fire(this._map,"pm:actionclick",{text:i.text,action:i,btnName:r,button:a},l,p)},_fireButtonClick(i,r,a="Toolbar",l={}){this.__fire(this._map,"pm:buttonclick",{btnName:i,button:r},a,l)},_fireLangChange(i,r,a,l,p="Global",m={}){this.__fire(this.map,"pm:langchange",{oldLang:i,activeLang:r,fallback:a,translations:l},p,m)},_fireGlobalDragModeToggled(i,r="Global",a={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:i,map:this.map},r,a)},_fireGlobalEditModeToggled(i,r="Global",a={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:i,map:this.map},r,a)},_fireGlobalRemovalModeToggled(i,r="Global",a={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:i,map:this.map},r,a)},_fireGlobalCutModeToggled(i="Global",r={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},i,r)},_fireGlobalDrawModeToggled(i="Global",r={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},i,r)},_fireGlobalRotateModeToggled(i="Global",r={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},i,r)},_fireRemoveLayerGroup(i,r=i,a="Edit",l={}){this.__fire(i,"pm:remove",{layer:r,shape:void 0},a,l)},_fireKeyeventEvent(i,r,a,l="Global",p={}){this.__fire(this.map,"pm:keyevent",{event:i,eventType:r,focusOn:a},l,p)},__fire(i,r,a,l,p={}){a=(0,_a.default)(a,p,{source:l}),L.PM.Utils._fireEvent(i,r,a)}},$r=oo,ga=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(i){this.map=i,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),i.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(i){let r="document";this.map.getContainer().contains(i.target)&&(r="map");let a={event:i,eventType:i.type,focusOn:r};this._lastEvents[i.type]=a,this._lastEvents.current=a,this.map.pm._fireKeyeventEvent(i,i.type,r)},_onBlur(i){i.altKey=!1;let r={event:i,eventType:i.type,focusOn:"document"};this._lastEvents[i.type]=r,this._lastEvents.current=r},getLastKeyEvent(i="current"){return this._lastEvents[i]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),le=ga,ma=y(ln());function ee(i){let r=L.PM.activeLang;return(0,ma.default)(hn[r],i)||(0,ma.default)(hn.en,i)||i}function Mn(i){for(let r=0;r<i.length;r+=1){let a=i[r];if(Array.isArray(a)){if(Mn(a))return!0}else if(a!=null&&a!=="")return!0}return!1}function mr(i){return i.reduce((r,a)=>{if(a.length!==0){let l=Array.isArray(a)?mr(a):a;Array.isArray(l)?l.length!==0&&r.push(l):r.push(l)}return r},[])}function el(i,r,a){let l={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:p,b:m,f:v}=l,C=i.lng,M=i.lat,T=a,U=Math.PI,F=r*U/180,st=Math.sin(F),at=Math.cos(F),bt=(1-v)*Math.tan(M*U/180),At=1/Math.sqrt(1+bt*bt),Ft=bt*At,he=Math.atan2(bt,at),j=At*st,K=1-j*j,J=K*(p*p-m*m)/(m*m),lt=1+J/16384*(4096+J*(-768+J*(320-175*J))),Q=J/1024*(256+J*(-128+J*(74-47*J))),ot=T/(m*lt),E=2*Math.PI,A,R,D;for(;Math.abs(ot-E)>1e-12;){A=Math.cos(2*he+ot),R=Math.sin(ot),D=Math.cos(ot);let gt=Q*R*(A+Q/4*(D*(-1+2*A*A)-Q/6*A*(-3+4*R*R)*(-3+4*A*A)));E=ot,ot=T/(m*lt)+gt}let O=Ft*R-At*D*at,I=Math.atan2(Ft*D+At*R*at,(1-v)*Math.sqrt(j*j+O*O)),W=Math.atan2(R*st,At*D-Ft*R*at),q=v/16*K*(4+v*(4-3*K)),Y=W-(1-q)*v*j*(ot+q*R*(A+q*D*(-1+2*A*A))),nt=C+Y*180/U,it=I*180/U;return L.latLng(nt,it)}function Yr(i,r,a,l,p=!0){let m,v,C,M=[];for(let T=0;T<a;T+=1){if(p)m=T*360/a+l,v=el(i,m,r),C=L.latLng(v.lng,v.lat);else{let U=i.lat+Math.cos(2*T*Math.PI/a)*r,F=i.lng+Math.sin(2*T*Math.PI/a)*r;C=L.latLng(U,F)}M.push(C)}return M}function il(i,r,a){r=(r+360)%360;let l=Math.PI/180,p=180/Math.PI,{R:m}=L.CRS.Earth,v=i.lng*l,C=i.lat*l,M=r*l,T=Math.sin(C),U=Math.cos(C),F=Math.cos(a/m),st=Math.sin(a/m),at=Math.asin(T*F+U*st*Math.cos(M)),bt=v+Math.atan2(Math.sin(M)*st*U,F-T*Math.sin(at));bt*=p;let At=bt-360,Ft=bt<-180?bt+360:bt;return bt=bt>180?At:Ft,L.latLng([at*p,bt])}function Jr(i,r,a){let l=i.latLngToContainerPoint(r),p=i.latLngToContainerPoint(a),m=Math.atan2(p.y-l.y,p.x-l.x)*180/Math.PI+90;return m+=m<0?360:0,m}function Xr(i,r,a,l){let p=Jr(i,r,a);return il(r,p,l)}function nl(i,r,a="asc"){if(!r||Object.keys(r).length===0)return(M,T)=>M-T;let l=Object.keys(r),p,m=l.length-1,v={};for(;m>=0;)p=l[m],v[p.toLowerCase()]=r[p],m-=1;function C(M){if(M instanceof L.Marker)return"Marker";if(M instanceof L.Circle)return"Circle";if(M instanceof L.CircleMarker)return"CircleMarker";if(M instanceof L.Rectangle)return"Rectangle";if(M instanceof L.Polygon)return"Polygon";if(M instanceof L.Polyline)return"Line"}return(M,T)=>{let U,F;if(U=C(M.layer).toLowerCase(),F=C(T.layer).toLowerCase(),!U||!F)return 0;let st=U in v?v[U]:Number.MAX_SAFE_INTEGER,at=F in v?v[F]:Number.MAX_SAFE_INTEGER,bt=0;return st<at?bt=-1:st>at&&(bt=1),a==="desc"?bt*-1:bt}}function Ni(i,r=i.getLatLngs()){return i instanceof L.Polygon?L.polygon(r).getLatLngs():L.polyline(r).getLatLngs()}function ya(i,r){if(r.options.crs?.projection?.MAX_LATITUDE){let a=r.options.crs?.projection?.MAX_LATITUDE;i.lat=Math.max(Math.min(a,i.lat),-a)}return i}function oi(i){return i.options.renderer||i._map&&(i._map._getPaneRenderer(i.options.pane)||i._map.options.renderer||i._map._renderer)||i._renderer}var rl=L.Class.extend({includes:[so,We,da,tl,$r],initialize(i){this.map=i,this.Draw=new L.PM.Draw(i),this.Toolbar=new L.PM.Toolbar(i),this.Keyboard=le(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(i)},setLang(i="en",r,a="en"){if(i=i.trim().toLowerCase(),!/^[a-z]{2}$/.test(i)){let p=i.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(p){let m=[`${p[1]}_${p[2]}`,`${p[1]}`];for(let v of m)if(hn[v]){i=v;break}}}let l=L.PM.activeLang;r&&(hn[i]=(0,re.default)(hn[a],r)),L.PM.activeLang=i,this.map.pm.Toolbar.reinit(),this._fireLangChange(l,i,a,hn[i])},addControls(i){this.Toolbar.addControls(i)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(i="Polygon",r){i==="Poly"&&(i="Polygon"),this.Draw.enable(i,r)},disableDraw(i="Polygon"){i==="Poly"&&(i="Polygon"),this.Draw.disable(i)},setPathOptions(i,r={}){let a=r.ignoreShapes||[],l=r.merge||!1;this.map.pm.Draw.shapes.forEach(p=>{a.indexOf(p)===-1&&this.map.pm.Draw[p].setPathOptions(i,l)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(i){let r=(0,re.default)(this.globalOptions,i);r.editable&&(r.resizeableCircleMarker=r.editable,delete r.editable);let a=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!r.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),a=!0);let l=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!r.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),l=!0),this.map.pm.Draw.shapes.forEach(p=>{this.map.pm.Draw[p].setOptions(r)}),a&&this.map.pm.Draw.CircleMarker.enable(),l&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(p=>{p.pm.setOptions(r)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=r,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(i=>{i.pm.enabled()&&i.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(i){return this.Draw.Cut.enable(i)},toggleGlobalCutMode(i){return this.Draw.Cut.toggle(i)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(i=!1){let r=L.PM.Utils.findLayers(this.map);if(!i)return r;let a=L.featureGroup();return a._pmTempLayer=!0,r.forEach(l=>{a.addLayer(l)}),a},getGeomanDrawLayers(i=!1){let r=L.PM.Utils.findLayers(this.map).filter(l=>l._drawnByGeoman===!0);if(!i)return r;let a=L.featureGroup();return a._pmTempLayer=!0,r.forEach(l=>{a.addLayer(l)}),a},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(i){this._touchEventCounter===0&&(L.DomEvent.on(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(i){this._touchEventCounter===1&&(L.DomEvent.off(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(i){oi(this.map)._onMouseMove(this._createMouseEvent("mousemove",i))},_canvasTouchClick(i){let r="";i.type==="touchstart"||i.type==="pointerdown"?r="mousedown":(i.type==="touchend"||i.type==="pointerup"||i.type==="touchcancel"||i.type==="pointercancel")&&(r="mouseup"),r&&oi(this.map)._onClick(this._createMouseEvent(r,i))},_createMouseEvent(i,r){let a,l=r.touches[0]||r.changedTouches[0];try{a=new MouseEvent(i,{bubbles:r.bubbles,cancelable:r.cancelable,view:r.view,detail:l.detail,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,metaKey:r.metaKey,button:r.button,relatedTarget:r.relatedTarget})}catch{a=document.createEvent("MouseEvents"),a.initMouseEvent(i,r.bubbles,r.cancelable,r.view,l.detail,l.screenX,l.screenY,l.clientX,l.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget)}return a}}),va=rl,cn=L.Control.extend({includes:[$r],options:{position:"topleft",disableByOtherButtons:!0},initialize(i){this._button=L.Util.extend({},this.options,i)},onAdd(i){return this._map=i,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let i=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),i?i.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(i){return typeof i=="boolean"?this._button.toggleStatus=i:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(i){i&&i.preventDefault(),!this._button.disabled&&(this._button.onClick(i,{button:this,event:i}),this._clicked(i),this._button.afterClick(i,{button:this,event:i}))},_makeButton(i){let r=this.options.position.indexOf("right")>-1?"pos-right":"",a=L.DomUtil.create("div",`button-container  ${r}`,this._container);i.title&&a.setAttribute("title",i.title);let l=L.DomUtil.create("a","leaflet-buttons-control-button",a);l.setAttribute("role","button"),l.setAttribute("tabindex","0"),l.href="#";let p=L.DomUtil.create("div",`leaflet-pm-actions-container ${r}`,a),m=i.actions,v={cancel:{text:ee("actions.cancel"),title:ee("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:ee("actions.finish"),title:ee("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:ee("actions.removeLastVertex"),title:ee("actions.removeLastVertex"),onClick(){this._map.pm.Draw[i.jsClass]._removeLastVertex()}},finish:{text:ee("actions.finish"),title:ee("actions.finish"),onClick(M){this._map.pm.Draw[i.jsClass]._finishShape(M)}}};i._preparedActions=m.map(M=>{let T=typeof M=="string"?M:M.name,U;if(v[T])U=v[T];else if(M.text)U=M;else return U;let F=L.DomUtil.create("a",`leaflet-pm-action ${r} action-${T}`,p);if(F.setAttribute("role","button"),F.setAttribute("tabindex","0"),F.href="#",U.title&&(F.title=U.title),F.innerHTML=U.text,L.DomEvent.disableClickPropagation(F),L.DomEvent.on(F,"click",L.DomEvent.stop),U._node=F,!i.disabled&&U.onClick){let st=at=>{at.preventDefault();let bt="",{buttons:At}=this._map.pm.Toolbar;for(let Ft in At)if(At[Ft]._button===i){bt=Ft;break}this._fireActionClick(U,bt,i)};L.DomEvent.addListener(F,"click",st,this),L.DomEvent.addListener(F,"click",U.onClick,this),L.DomEvent.addListener(F,"click",()=>this._updateActiveAction(i))}return U}),this._updateActiveAction(i),i.toggleStatus&&L.DomUtil.addClass(a,"active");let C=L.DomUtil.create("div","control-icon",l);return i.iconUrl&&C.setAttribute("src",i.iconUrl),i.className&&L.DomUtil.addClass(C,i.className),L.DomEvent.disableClickPropagation(l),L.DomEvent.on(l,"click",L.DomEvent.stop),i.disabled||(L.DomEvent.addListener(l,"click",this._onBtnClick,this),L.DomEvent.addListener(l,"click",this._triggerClick,this)),i.disabled&&(L.DomUtil.addClass(l,"pm-disabled"),l.setAttribute("aria-disabled","true")),a},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let i="",{buttons:r}=this._map.pm.Toolbar;for(let a in r)if(r[a]._button===this._button){i=a;break}this._fireButtonClick(i,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let i="pm-disabled",r=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(r,i),r.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(r,i),r.setAttribute("aria-disabled","false"))},_updateActiveAction(i){i._preparedActions?.forEach(r=>{r?._node&&(r.isActive&&r.isActive.call(this)?L.DomUtil.addClass(r._node,"active-action"):L.DomUtil.removeClass(r._node,"active-action"))})}}),La=cn;L.Control.PMButton=La;var ba=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(i){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(i)},reinit(){let i=this.isVisible;this.removeControls(),this._defineButtons(),i&&this.addControls()},init(i){this.map=i,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(i){let r=`${i}Container`;return this[r]||(this[r]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${i} leaflet-bar leaflet-control`)),this[r]},getButtons(){return this.buttons},addControls(i=this.options){typeof i.editPolygon<"u"&&(i.editMode=i.editPolygon),typeof i.deleteLayer<"u"&&(i.removalMode=i.deleteLayer),L.Util.setOptions(this,i),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let i=this.getButtons(),r={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let a in i){let l=i[a];L.Util.setOptions(l,{className:r.geomanIcons[a]})}},removeControls(){let i=this.getButtons();for(let r in i)i[r].remove();this.isVisible=!1},toggleControls(i=this.options){this.isVisible?this.removeControls():this.addControls(i)},_addButton(i,r){return this.buttons[i]=r,this.options[i]=!!this.options[i]||!1,this.buttons[i]},triggerClickOnToggledButtons(i){for(let r in this.buttons){let a=this.buttons[r];a._button.disableByOtherButtons&&a!==i&&a.toggled()&&a._triggerClick()}},toggleButton(i,r,a=!0){i==="editPolygon"&&(i="editMode"),i==="deleteLayer"&&(i="removalMode");let l=i;return a&&this.triggerClickOnToggledButtons(this.buttons[l]),this.buttons[l]?this.buttons[l].toggle(r):!1},_defineButtons(){let i={className:"control-icon leaflet-pm-icon-marker",title:ee("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(st,at)=>{this.map.pm.Draw[at.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},r={title:ee("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(st,at)=>{this.map.pm.Draw[at.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},a={className:"control-icon leaflet-pm-icon-polyline",title:ee("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(st,at)=>{this.map.pm.Draw[at.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},l={title:ee("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(st,at)=>{this.map.pm.Draw[at.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:ee("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(st,at)=>{this.map.pm.Draw[at.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},m={title:ee("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(st,at)=>{this.map.pm.Draw[at.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},v={title:ee("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},C={title:ee("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},M={title:ee("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(st,at)=>{this.map.pm.Draw[at.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},T={title:ee("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},U={title:ee("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},F={className:"control-icon leaflet-pm-icon-text",title:ee("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(st,at)=>{this.map.pm.Draw[at.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(i)),this._addButton("drawPolyline",new L.Control.PMButton(a)),this._addButton("drawRectangle",new L.Control.PMButton(m)),this._addButton("drawPolygon",new L.Control.PMButton(r)),this._addButton("drawCircle",new L.Control.PMButton(l)),this._addButton("drawCircleMarker",new L.Control.PMButton(p)),this._addButton("drawText",new L.Control.PMButton(F)),this._addButton("editMode",new L.Control.PMButton(v)),this._addButton("dragMode",new L.Control.PMButton(C)),this._addButton("cutPolygon",new L.Control.PMButton(M)),this._addButton("removalMode",new L.Control.PMButton(T)),this._addButton("rotateMode",new L.Control.PMButton(U))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let i=this.getButtons(),r=[];this.options.drawControls===!1&&(r=r.concat(Object.keys(i).filter(a=>!i[a]._button.tool))),this.options.editControls===!1&&(r=r.concat(Object.keys(i).filter(a=>i[a]._button.tool==="edit"))),this.options.optionsControls===!1&&(r=r.concat(Object.keys(i).filter(a=>i[a]._button.tool==="options"))),this.options.customControls===!1&&(r=r.concat(Object.keys(i).filter(a=>i[a]._button.tool==="custom")));for(let a in i)if(this.options[a]&&r.indexOf(a)===-1){let l=i[a]._button.tool;l||(l="draw"),i[a].setPosition(this._getBtnPosition(l)),i[a].addTo(this.map)}},_getBtnPosition(i){return this.options.positions&&this.options.positions[i]?this.options.positions[i]:this.options.position},setBlockPosition(i,r){this.options.positions[i]=r,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(i,r){if(r)typeof r!="object"&&(r={name:r});else throw new TypeError("Button has no name");let a=this._btnNameMapping(i);if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");let l=this.map.pm.Draw.createNewDrawInstance(r.name,a);r={...this.buttons[a]._button,...r};let p=this.createCustomControl(r);return{drawInstance:l,control:p}},createCustomControl(i){if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");i.onClick||(i.onClick=()=>{}),i.afterClick||(i.afterClick=()=>{}),i.toggle!==!1&&(i.toggle=!0),i.block&&(i.block=i.block.toLowerCase()),(!i.block||i.block==="draw")&&(i.block=""),i.className?i.className.indexOf("control-icon")===-1&&(i.className=`control-icon ${i.className}`):i.className="control-icon";let r={tool:i.block,className:i.className,title:i.title||"",jsClass:i.name,onClick:i.onClick,afterClick:i.afterClick,doToggle:i.toggle,toggleStatus:!1,disableOtherButtons:i.disableOtherButtons??!0,disableByOtherButtons:i.disableByOtherButtons??!0,cssToggle:i.toggle,position:this.options.position,actions:i.actions||[],disabled:!!i.disabled};this.options[i.name]!==!1&&(this.options[i.name]=!0);let a=this._addButton(i.name,new L.Control.PMButton(r));return this.changeControlOrder(),a},controlExists(i){return!!this.getButton(i)},getButton(i){return this.getButtons()[i]},getButtonsInBlock(i){let r={};if(i)for(let a in this.getButtons()){let l=this.getButtons()[a];(l._button.tool===i||i==="draw"&&!l._button.tool)&&(r[a]=l)}return r},changeControlOrder(i=[]){let r=this._shapeMapping(),a=[];i.forEach(m=>{r[m]?a.push(r[m]):a.push(m)});let l=this.getButtons(),p={};a.forEach(m=>{l[m]&&(p[m]=l[m])}),Object.keys(l).filter(m=>!l[m]._button.tool||l[m]._button.tool==="draw").forEach(m=>{a.indexOf(m)===-1&&(p[m]=l[m])}),Object.keys(l).filter(m=>l[m]._button.tool==="edit").forEach(m=>{a.indexOf(m)===-1&&(p[m]=l[m])}),Object.keys(l).filter(m=>l[m]._button.tool==="options").forEach(m=>{a.indexOf(m)===-1&&(p[m]=l[m])}),Object.keys(l).filter(m=>l[m]._button.tool==="custom").forEach(m=>{a.indexOf(m)===-1&&(p[m]=l[m])}),Object.keys(l).forEach(m=>{a.indexOf(m)===-1&&(p[m]=l[m])}),this.map.pm.Toolbar.buttons=p,this._showHideButtons()},getControlOrder(){let i=this.getButtons(),r=[];for(let a in i)r.push(a);return r},changeActionsOfControl(i,r){let a=this._btnNameMapping(i);if(!a)throw new TypeError("No name passed");if(!r)throw new TypeError("No actions passed");if(!this.buttons[a])throw new TypeError("Button with this name not exists");this.buttons[a]._button.actions=r,this.changeControlOrder()},setButtonDisabled(i,r){let a=this._btnNameMapping(i);r?this.buttons[a].disable():this.buttons[a].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(i){let r=this._shapeMapping();return r[i]?r[i]:i}}),ao=ba,sl=y(Ur()),Ca={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(i){i.forEach(r=>{if(Array.isArray(r)){this._assignEvents(r);return}r.off("drag",this._handleSnapping,this),r.on("drag",this._handleSnapping,this),r.off("dragend",this._cleanupSnapping,this),r.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(i){if(i){let r=i.target;r._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(r=>{r.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(i){let r=i.target;if(r._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),i?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let a=this._calcClosestLayer(r.getLatLng(),this._snapList);if(Object.keys(a).length===0)return!1;let l=a.layer instanceof L.Marker||a.layer instanceof L.CircleMarker||!this.options.snapSegment,p;l?p=a.latlng:p=this._checkPrioritiySnapping(a);let m=this.options.snapDistance,v={marker:r,shape:this._shape,snapLatLng:p,segment:a.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:a.layer,distance:a.distance};if(this._fireSnapDrag(v.marker,v),this._fireSnapDrag(this._layer,v),a.distance<m){r._orgLatLng=r.getLatLng(),r.setLatLng(p),r._snapped=!0,r._snapInfo=v;let C=()=>{this._snapLatLng=p,this._fireSnap(r,v),this._fireSnap(this._layer,v)},M=this._snapLatLng||{},T=p||{};(M.lat!==T.lat||M.lng!==T.lng)&&C()}else this._snapLatLng&&(this._unsnap(v),r._snapped=!1,r._snapInfo=void 0,this._fireUnsnap(v.marker,v),this._fireUnsnap(this._layer,v));return!0},_createSnapList(){let i=[],r=[],a=this._map;a.off("layerremove",this._handleSnapLayerRemoval,this),a.on("layerremove",this._handleSnapLayerRemoval,this),a.eachLayer(l=>{if((l instanceof L.Polyline||l instanceof L.Marker||l instanceof L.CircleMarker||l instanceof L.ImageOverlay)&&l.options.snapIgnore!==!0){if(l.options.snapIgnore===void 0&&(!L.PM.optIn&&l.options.pmIgnore===!0||L.PM.optIn&&l.options.pmIgnore!==!1))return;(l instanceof L.Circle||l instanceof L.CircleMarker)&&l.pm&&l.pm._hiddenPolyCircle?i.push(l.pm._hiddenPolyCircle):l instanceof L.ImageOverlay&&(l=L.rectangle(l.getBounds())),i.push(l);let p=L.polyline([],{color:"red",pmIgnore:!0});p._pmTempLayer=!0,r.push(p),(l instanceof L.Circle||l instanceof L.CircleMarker)&&r.push(p)}}),i=i.filter(l=>this._layer!==l),i=i.filter(l=>l._latlng||l._latlngs&&Mn(l._latlngs)),i=i.filter(l=>!l._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let l=L.polyline([],{color:"red",pmIgnore:!0});l._pmTempLayer=!0,r.push(l)}),this._snapList=i.concat(this._otherSnapLayers)):this._snapList=i,this.debugIndicatorLines=r},_handleSnapLayerRemoval({layer:i}){if(!i._leaflet_id)return;let r=this._snapList.findIndex(a=>a._leaflet_id===i._leaflet_id);r>-1&&this._snapList.splice(r,1)},_calcClosestLayer(i,r){return this._calcClosestLayers(i,r,1)[0]},_calcClosestLayers(i,r,a=1){let l=[],p={};r.forEach((v,C)=>{if(v._parentCopy&&v._parentCopy===this._layer||v.getLatLngs?.().flat(5).length<2)return;let M=this._calcLayerDistances(i,v);if(M.distance=Math.floor(M.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[C]){let T=L.polyline([],{color:"red",pmIgnore:!0});T._pmTempLayer=!0,this.debugIndicatorLines[C]=T}this.debugIndicatorLines[C].setLatLngs([i,M.latlng])}a===1&&(p.distance===void 0||M.distance-5<=p.distance)?(M.distance+5<p.distance&&(l=[]),p=M,p.layer=v,l.push(p)):a!==1&&(p={},p=M,p.layer=v,l.push(p))}),a!==1&&(l=l.sort((v,C)=>v.distance-C.distance)),a===-1&&(a=l.length);let m=this._getClosestLayerByPriority(l,a);return L.Util.isArray(m)?m:[m]},_calcLayerDistances(i,r){let a=this._map,l=r instanceof L.Marker||r instanceof L.CircleMarker,p=r instanceof L.Polygon,m=i;if(l){let v=r.getLatLng();return{latlng:{...v},distance:this._getDistance(a,v,m)}}return this._calcLatLngDistances(m,r.getLatLngs(),a,p)},_calcLatLngDistances(i,r,a,l=!1){let p,m,v,C=M=>{M.forEach((T,U)=>{if(Array.isArray(T)){C(T);return}if(this.options.snapSegment){let F=T,st;l?st=U+1===M.length?0:U+1:st=U+1===M.length?void 0:U+1;let at=M[st];if(at){let bt=this._getDistanceToSegment(a,i,F,at);(m===void 0||bt<m)&&(m=bt,v=[F,at])}}else{let F=this._getDistance(a,i,T);(m===void 0||F<m)&&(m=F,p=T)}})};return C(r),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(a,i,v[0],v[1])},segment:v,distance:m}:{latlng:p,distance:m}},_getClosestLayerByPriority(i,r=1){i=i.sort((v,C)=>v._leaflet_id-C._leaflet_id);let a=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],l=this._map.pm.globalOptions.snappingOrder||[],p=0,m={};return l.concat(a).forEach(v=>{m[v]||(p+=1,m[v]=p)}),i.sort(nl("instanceofShape",m)),r===1?i[0]||{}:i.slice(0,r)},_checkPrioritiySnapping(i){let r=this._map,a=i.segment[0],l=i.segment[1],p=i.latlng,m=p;if(this.options.snapVertex){let v=this._getDistance(r,a,p),C=this._getDistance(r,l,p),M=v<C?a:l,T=v<C?v:C;if(this.options.snapMiddle){let F=L.PM.Utils.calcMiddleLatLng(r,a,l),st=this._getDistance(r,F,p);st<v&&st<C&&(M=F,T=st)}let U=this.options.snapDistance;T<U&&(m=M)}return{...m}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(i,r,a,l){let p=i.getMaxZoom();p===1/0&&(p=i.getZoom());let m=i.project(r,p),v=i.project(a,p),C=i.project(l,p),M=L.LineUtil.closestPointOnSegment(m,v,C);return i.unproject(M,p)},_getDistanceToSegment(i,r,a,l){let p=i.latLngToContainerPoint(r),m=i.latLngToContainerPoint(a),v=i.latLngToContainerPoint(l);return L.LineUtil.pointToSegmentDistance(p,m,v)},_getDistance(i,r,a){return i.latLngToContainerPoint(r).distanceTo(i.latLngToContainerPoint(a))}},uo=Ca,ol=L.Class.extend({includes:[uo,$r],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(i){L.Util.setOptions(this,i),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(i){let r=new L.Icon.Default;r.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=r,this._map=i,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(a=>{this[a]=new L.PM.Draw[a](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(i,r=!1){r?this.options.pathOptions=(0,sl.default)(this.options.pathOptions,i):this.options.pathOptions=i},getShapes(){return this.shapes},getShape(){return this._shape},enable(i,r){if(!i)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[i].enable(r)},disable(){this.shapes.forEach(i=>{this[i].disable()})},addControls(){this.shapes.forEach(i=>{this[i].addButton()})},getActiveShape(){let i;return this.shapes.forEach(r=>{this[r]._enabled&&(i=r)}),i},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let i=[];this._map.eachLayer(r=>{(r instanceof L.Polyline||r instanceof L.Marker||r instanceof L.Circle||r instanceof L.CircleMarker||r instanceof L.ImageOverlay)&&(r._pmTempLayer||i.push(r))}),this._enabled?i.forEach(r=>{L.PM.Utils.disablePopup(r)}):i.forEach(r=>{L.PM.Utils.enablePopup(r)})},createNewDrawInstance(i,r){let a=this._getShapeFromBtnName(r);if(this[i])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[a])throw new TypeError(`There is no class L.PM.Draw.${a}`);return this[i]=new L.PM.Draw[a](this._map),this[i].toolbarButtonName=i,this[i]._shape=i,this.shapes.push(i),this[r]&&this[i].setOptions(this[r].options),this[i].setOptions(this[i].options),this[i]},_getShapeFromBtnName(i){let r={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return r[i]?r[i]:this[i]?this[i]._shape:i},_finishLayer(i){i.pm&&(i.pm.setOptions(this.options),i.pm._shape=this._shape,i.pm._map=this._map),this._addDrawnLayerProp(i)},_addDrawnLayerProp(i){i._drawnByGeoman=!0},_setPane(i,r){r==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),$e=ol;$e.Marker=$e.extend({initialize(i){this._map=i,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(i){L.Util.setOptions(this,i),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(ee("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},isRelevantMarker(i){return i instanceof L.Marker&&i.pm&&!i._pmTempLayer&&!i.pm._initTextMarker},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let r=i;r.target=this._hintMarker,this._handleSnapping(r)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(i){if(!i.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let r=this._hintMarker.getLatLng(),a=new L.Marker(r,this.options.markerStyle);this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable?a.pm.enable():a.dragging&&a.dragging.disable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var ti=63710088e-1,xa={centimeters:ti*100,centimetres:ti*100,degrees:ti/111325,feet:ti*3.28084,inches:ti*39.37,kilometers:ti/1e3,kilometres:ti/1e3,meters:ti,metres:ti,miles:ti/1609.344,millimeters:ti*1e3,millimetres:ti*1e3,nauticalmiles:ti/1852,radians:1,yards:ti*1.0936};function Pn(i,r,a){a===void 0&&(a={});var l={type:"Feature"};return(a.id===0||a.id)&&(l.id=a.id),a.bbox&&(l.bbox=a.bbox),l.properties=r||{},l.geometry=i,l}function Bn(i,r,a){if(a===void 0&&(a={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!lo(i[0])||!lo(i[1]))throw new Error("coordinates must contain numbers");var l={type:"Point",coordinates:i};return Pn(l,r,a)}function fn(i,r,a){if(a===void 0&&(a={}),i.length<2)throw new Error("coordinates must be an array of two or more positions");var l={type:"LineString",coordinates:i};return Pn(l,r,a)}function ci(i,r){r===void 0&&(r={});var a={type:"FeatureCollection"};return r.id&&(a.id=r.id),r.bbox&&(a.bbox=r.bbox),a.features=i,a}function al(i,r){r===void 0&&(r="kilometers");var a=xa[r];if(!a)throw new Error(r+" units is invalid");return i*a}function yr(i,r){r===void 0&&(r="kilometers");var a=xa[r];if(!a)throw new Error(r+" units is invalid");return i/a}function fi(i){var r=i%(2*Math.PI);return r*180/Math.PI}function xi(i){var r=i%360;return r*Math.PI/180}function lo(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function Qr(i){var r,a,l={type:"FeatureCollection",features:[]};if(i.type==="Feature"?a=i.geometry:a=i,a.type==="LineString")r=[a.coordinates];else if(a.type==="MultiLineString")r=a.coordinates;else if(a.type==="MultiPolygon")r=[].concat.apply([],a.coordinates);else if(a.type==="Polygon")r=a.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return r.forEach(function(p){r.forEach(function(m){for(var v=0;v<p.length-1;v++)for(var C=v;C<m.length-1;C++)if(!(p===m&&(Math.abs(v-C)===1||v===0&&C===p.length-2&&p[v][0]===p[p.length-1][0]&&p[v][1]===p[p.length-1][1]))){var M=ho(p[v][0],p[v][1],p[v+1][0],p[v+1][1],m[C][0],m[C][1],m[C+1][0],m[C+1][1]);M&&l.features.push(Bn([M[0],M[1]]))}})}),l}function ho(i,r,a,l,p,m,v,C){var M,T,U,F,st,at={x:null,y:null,onLine1:!1,onLine2:!1};return M=(C-m)*(a-i)-(v-p)*(l-r),M===0?at.x!==null&&at.y!==null?at:!1:(T=r-m,U=i-p,F=(v-p)*T-(C-m)*U,st=(a-i)*T-(l-r)*U,T=F/M,U=st/M,at.x=i+T*(a-i),at.y=r+T*(l-r),T>=0&&T<=1&&(at.onLine1=!0),U>=0&&U<=1&&(at.onLine2=!0),at.onLine1&&at.onLine2?[at.x,at.y]:!1)}$e.Line=$e.extend({initialize(i){this._map=i,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(i){L.Util.setOptions(this,i),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(ee("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine(){let i=this._layer.getLatLngs();if(i.length>0){let r=i[i.length-1];this._hintline.setLatLngs([r,this._hintMarker.getLatLng()])}},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let a=i;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let r=this._layer._defaultShape().slice();r.push(this._hintMarker.getLatLng()),this._change(r)},hasSelfIntersection(){return Qr(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(i,r){let a=L.polyline(this._layer.getLatLngs());i&&(r||(r=this._hintMarker.getLatLng()),a.addLatLng(r));let l=Qr(a.toGeoJSON(15));this._doesSelfIntersect=l.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(l,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(i){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,i.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let r=this._hintMarker.getLatLng(),a=this._layer.getLatLngs(),l=a[a.length-1];if(r.equals(a[0])||a.length>0&&r.equals(l)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:r,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(r);let p=this._createMarker(r);this._setTooltipText(),this._setHintLineAfterNewVertex(r),this._fireVertexAdded(p,void 0,r,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(i)},_setHintLineAfterNewVertex(i){this._hintline.setLatLngs([i,i])},_removeLastVertex(){let i=this._markers;if(i.length<=1){this.disable();return}let r=this._layer.getLatLngs(),a=i[i.length-1],{indexPath:l}=L.PM.Utils.findDeepMarkerIndex(i,a);i.pop(),this._layerGroup.removeLayer(a);let p=i[i.length-1],m=r.indexOf(p.getLatLng());r=r.slice(0,m+1),this._layer.setLatLngs(r),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(a,l,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let i=this._layer.getLatLngs();if(i.length<=1)return;let r=L.polyline(i,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this.options.snappable&&this._cleanupSnapping();let a=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(a))},_createMarker(i){let r=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),r.on("click",this._finishShape,this),r},_setTooltipText(){let{length:i}=this._layer.getLatLngs().flat(),r="";i<=1?r=ee("tooltips.continueLine"):r=ee("tooltips.finishLine"),this._hintMarker.setTooltipContent(r)},_change(i){this._fireChange(i,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),$e.Polygon=$e.Line.extend({initialize(i){this._map=i,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(i){L.PM.Draw.Line.prototype.enable.call(this,i),this._layer.pm._shape="Polygon"},_createMarker(i){let r=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),this._layer.getLatLngs().flat().length===1?(r.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(r)-1,this.options.snappable&&this._cleanupSnapping()):r.on("click",()=>1),r},_setTooltipText(){let{length:i}=this._layer.getLatLngs().flat(),r="";i<=2?r=ee("tooltips.continueLine"):r=ee("tooltips.finishPoly"),this._hintMarker.setTooltipContent(r)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let i=this._layer.getLatLngs();if(i.length<=2)return;let r=L.polygon(i,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let a=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(a))}}),$e.Rectangle=$e.extend({initialize(i){this._map=i,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(i){if(L.Util.setOptions(this,i),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(ee("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let r=0;r<2;r+=1){let a=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._styleMarkers.push(a)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_placeStartingMarkers(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let r=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(r),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(a=>{L.DomUtil.addClass(a._icon,"visible"),a.setLatLng(r)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(ee("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let i=this._startMarker.getLatLng();i&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([i,i]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let a=i;a.target=this._hintMarker,this._handleSnapping(a)}let r=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(r,"Draw")},_syncRectangleSize(){let i=ya(this._startMarker.getLatLng(),this._map),r=ya(this._hintMarker.getLatLng(),this._map),a=L.PM.Utils._getRotatedRectangle(i,r,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(a),this.options.cursorMarker&&this._styleMarkers){let l=[];a.forEach(p=>{!p.equals(i,1e-8)&&!p.equals(r,1e-8)&&l.push(p)}),l.forEach((p,m)=>{try{this._styleMarkers[m].setLatLng(p)}catch{}})}},_findCorners(){let i=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(i[0],i[2],this.options.rectangleAngle||0,this._map)},_finishShape(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let r=this._hintMarker.getLatLng(),a=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||a.equals(r))return;let l=L.rectangle([a,r],this.options.pathOptions);if(this.options.rectangleAngle){let m=L.PM.Utils._getRotatedRectangle(a,r,this.options.rectangleAngle||0,this._map);l.setLatLngs(m),l.pm&&l.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l);let p=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(p))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),$e.CircleMarker=$e.extend({initialize(i){this._map=i,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(i){if(L.Util.setOptions(this,i),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let r={};L.extend(r,this.options.templineStyle),r.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),r),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(ee("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(ee("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.disable()})},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_placeCenterMarker(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let r=this._hintMarker.getLatLng();this._centerMarker.setLatLng(r),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(ee("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let i=this._centerMarker.getLatLng(),r=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,r])},_syncCircleRadius(){let i=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),a=this._distanceCalculation(i,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a)},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let a=i;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();let r=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(r,"Draw")},isRelevantMarker(i){return i instanceof L.CircleMarker&&!(i instanceof L.Circle)&&i.pm&&!i._pmTempLayer},_createMarker(i){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!i.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let r=this._hintMarker.getLatLng(),a=new this._BaseCircleClass(r,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(a),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(i){i.pm&&this.options.markerEditable&&i.pm.enable()},_finishShape(i){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let r=this._centerMarker.getLatLng(),a=this._defaultRadius;if(this.options[this._editableOption]){let v=this._hintMarker.getLatLng();a=this._distanceCalculation(r,v),this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?a=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(a=this.options[this._maxRadiusOption])}let l={...this.options.pathOptions,radius:a},p=new this._BaseCircleClass(r,l);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),p.pm&&p.pm._updateHiddenPolyCircle(),this._fireCreate(p);let m=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(m))},_getNewDestinationOfHintMarker(){let i=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return i;let r=this._centerMarker.getLatLng(),a=this._distanceCalculation(r,i);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?i=Xr(this._map,r,i,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(i=Xr(this._map,r,i,this._getMaxDistanceInMeter()))}return i},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let i=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),a=this._distanceCalculation(i,r);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let i={};L.extend(i,this.options.templineStyle),this.options[this._editableOption]&&(i.radius=0),this._layer?.setStyle(i),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(i,r){return this._map.project(i).distanceTo(this._map.project(r))}}),$e.Circle=$e.CircleMarker.extend({initialize(i){this._map=i,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(i,r){return this._map.distance(i,r)}});function wi(i){if(!i)throw new Error("coord is required");if(!Array.isArray(i)){if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates}if(Array.isArray(i)&&i.length>=2&&!Array.isArray(i[0])&&!Array.isArray(i[1]))return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function zi(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function ts(i){return i.type==="Feature"?i.geometry:i}function co(i,r){return i.type==="FeatureCollection"?"FeatureCollection":i.type==="GeometryCollection"?"GeometryCollection":i.type==="Feature"&&i.geometry!==null?i.geometry.type:i.type}function fo(i,r,a){if(i!==null)for(var l,p,m,v,C,M,T,U=0,F=0,st,at=i.type,bt=at==="FeatureCollection",At=at==="Feature",Ft=bt?i.features.length:1,he=0;he<Ft;he++){T=bt?i.features[he].geometry:At?i.geometry:i,st=T?T.type==="GeometryCollection":!1,C=st?T.geometries.length:1;for(var j=0;j<C;j++){var K=0,J=0;if(v=st?T.geometries[j]:T,v!==null){M=v.coordinates;var lt=v.type;switch(U=0,lt){case null:break;case"Point":if(r(M,F,he,K,J)===!1)return!1;F++,K++;break;case"LineString":case"MultiPoint":for(l=0;l<M.length;l++){if(r(M[l],F,he,K,J)===!1)return!1;F++,lt==="MultiPoint"&&K++}lt==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(l=0;l<M.length;l++){for(p=0;p<M[l].length-U;p++){if(r(M[l][p],F,he,K,J)===!1)return!1;F++}lt==="MultiLineString"&&K++,lt==="Polygon"&&J++}lt==="Polygon"&&K++;break;case"MultiPolygon":for(l=0;l<M.length;l++){for(J=0,p=0;p<M[l].length;p++){for(m=0;m<M[l][p].length-U;m++){if(r(M[l][p][m],F,he,K,J)===!1)return!1;F++}J++}K++}break;case"GeometryCollection":for(l=0;l<v.geometries.length;l++)if(fo(v.geometries[l],r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ai(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var a=0;a<i.features.length&&r(i.features[a],a)!==!1;a++);}function Wn(i,r,a){var l=a;return ai(i,function(p,m){m===0&&a===void 0?l=p:l=r(l,p,m)}),l}function ul(i,r){var a,l,p,m,v,C,M,T,U,F,st=0,at=i.type==="FeatureCollection",bt=i.type==="Feature",At=at?i.features.length:1;for(a=0;a<At;a++){for(C=at?i.features[a].geometry:bt?i.geometry:i,T=at?i.features[a].properties:bt?i.properties:{},U=at?i.features[a].bbox:bt?i.bbox:void 0,F=at?i.features[a].id:bt?i.id:void 0,M=C?C.type==="GeometryCollection":!1,v=M?C.geometries.length:1,p=0;p<v;p++){if(m=M?C.geometries[p]:C,m===null){if(r(null,st,T,U,F)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(r(m,st,T,U,F)===!1)return!1;break}case"GeometryCollection":{for(l=0;l<m.geometries.length;l++)if(r(m.geometries[l],st,T,U,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}st++}}function Bi(i,r){ul(i,function(a,l,p,m,v){var C=a===null?null:a.type;switch(C){case null:case"Point":case"LineString":case"Polygon":return r(Pn(a,p,{bbox:m,id:v}),l,0)===!1?!1:void 0}var M;switch(C){case"MultiPoint":M="Point";break;case"MultiLineString":M="LineString";break;case"MultiPolygon":M="Polygon";break}for(var T=0;T<a.coordinates.length;T++){var U=a.coordinates[T],F={type:M,coordinates:U};if(r(Pn(F,p),l,T)===!1)return!1}})}function ll(i){if(!i)throw new Error("geojson is required");var r=[];return Bi(i,function(a){$n(a,r)}),ci(r)}function $n(i,r){var a=[],l=i.geometry;if(l!==null){switch(l.type){case"Polygon":a=zi(l);break;case"LineString":a=[zi(l)]}a.forEach(function(p){var m=hl(p,i.properties);m.forEach(function(v){v.id=r.length,r.push(v)})})}}function hl(i,r){var a=[];return i.reduce(function(l,p){var m=fn([l,p],r);return m.bbox=vr(l,p),a.push(m),p}),a}function vr(i,r){var a=i[0],l=i[1],p=r[0],m=r[1],v=a<p?a:p,C=l<m?l:m,M=a>p?a:p,T=l>m?l:m;return[v,C,M,T]}var es=ll,is=y(Cn(),1);function cl(i,r){var a={},l=[];if(i.type==="LineString"&&(i=Pn(i)),r.type==="LineString"&&(r=Pn(r)),i.type==="Feature"&&r.type==="Feature"&&i.geometry!==null&&r.geometry!==null&&i.geometry.type==="LineString"&&r.geometry.type==="LineString"&&i.geometry.coordinates.length===2&&r.geometry.coordinates.length===2){var p=Ji(i,r);return p&&l.push(p),ci(l)}var m=(0,is.default)();return m.load(es(r)),ai(es(i),function(v){ai(m.search(v),function(C){var M=Ji(v,C);if(M){var T=zi(M).join(",");a[T]||(a[T]=!0,l.push(M))}})}),ci(l)}function Ji(i,r){var a=zi(i),l=zi(r);if(a.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(l.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var p=a[0][0],m=a[0][1],v=a[1][0],C=a[1][1],M=l[0][0],T=l[0][1],U=l[1][0],F=l[1][1],st=(F-T)*(v-p)-(U-M)*(C-m),at=(U-M)*(m-T)-(F-T)*(p-M),bt=(v-p)*(m-T)-(C-m)*(p-M);if(st===0)return null;var At=at/st,Ft=bt/st;if(At>=0&&At<=1&&Ft>=0&&Ft<=1){var he=p+At*(v-p),j=m+At*(C-m);return Bn([he,j])}return null}var Gi=cl,wa=y(Cn(),1);function po(i,r,a){a===void 0&&(a={});var l=wi(i),p=wi(r),m=xi(p[1]-l[1]),v=xi(p[0]-l[0]),C=xi(l[1]),M=xi(p[1]),T=Math.pow(Math.sin(m/2),2)+Math.pow(Math.sin(v/2),2)*Math.cos(C)*Math.cos(M);return al(2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T)),a.units)}var Tn=po;function Xi(i){var r=i[0],a=i[1],l=i[2],p=i[3],m=Tn(i.slice(0,2),[l,a]),v=Tn(i.slice(0,2),[r,p]);if(m>=v){var C=(a+p)/2;return[r,C-(l-r)/2,l,C+(l-r)/2]}else{var M=(r+l)/2;return[M-(p-a)/2,a,M+(p-a)/2,p]}}var fl=Xi;function dn(i){var r=[1/0,1/0,-1/0,-1/0];return fo(i,function(a){r[0]>a[0]&&(r[0]=a[0]),r[1]>a[1]&&(r[1]=a[1]),r[2]<a[0]&&(r[2]=a[0]),r[3]<a[1]&&(r[3]=a[1])}),r}dn.default=dn;var Lr=dn;function Qi(i,r){r===void 0&&(r={});var a=r.precision,l=r.coordinates,p=r.mutate;if(a=a==null||isNaN(a)?6:a,l=l==null||isNaN(l)?3:l,!i)throw new Error("<geojson> is required");if(typeof a!="number")throw new Error("<precision> must be a number");if(typeof l!="number")throw new Error("<coordinates> must be a number");(p===!1||p===void 0)&&(i=JSON.parse(JSON.stringify(i)));var m=Math.pow(10,a);return fo(i,function(v){ns(v,m,l)}),i}function ns(i,r,a){i.length>a&&i.splice(a,i.length);for(var l=0;l<i.length;l++)i[l]=Math.round(i[l]*r)/r;return i}var ka=Qi;function rs(i,r,a){if(a===void 0&&(a={}),a.final===!0)return ss(i,r);var l=wi(i),p=wi(r),m=xi(l[0]),v=xi(p[0]),C=xi(l[1]),M=xi(p[1]),T=Math.sin(v-m)*Math.cos(M),U=Math.cos(C)*Math.sin(M)-Math.sin(C)*Math.cos(M)*Math.cos(v-m);return fi(Math.atan2(T,U))}function ss(i,r){var a=rs(r,i);return a=(a+180)%360,a}function os(i,r,a,l){l===void 0&&(l={});var p=wi(i),m=xi(p[0]),v=xi(p[1]),C=xi(a),M=yr(r,l.units),T=Math.asin(Math.sin(v)*Math.cos(M)+Math.cos(v)*Math.sin(M)*Math.cos(C)),U=m+Math.atan2(Math.sin(C)*Math.sin(M)*Math.cos(v),Math.cos(M)-Math.sin(v)*Math.sin(T)),F=fi(U),st=fi(T);return Bn([F,st],l.properties)}function as(i,r,a){a===void 0&&(a={});var l=Bn([1/0,1/0],{dist:1/0}),p=0;return Bi(i,function(m){for(var v=zi(m),C=0;C<v.length-1;C++){var M=Bn(v[C]);M.properties.dist=Tn(r,M,a);var T=Bn(v[C+1]);T.properties.dist=Tn(r,T,a);var U=Tn(M,T,a),F=Math.max(M.properties.dist,T.properties.dist),st=rs(M,T),at=os(r,F,st+90,a),bt=os(r,F,st-90,a),At=Gi(fn([at.geometry.coordinates,bt.geometry.coordinates]),fn([M.geometry.coordinates,T.geometry.coordinates])),Ft=null;At.features.length>0&&(Ft=At.features[0],Ft.properties.dist=Tn(r,Ft,a),Ft.properties.location=p+Tn(M,Ft,a)),M.properties.dist<l.properties.dist&&(l=M,l.properties.index=C,l.properties.location=p),T.properties.dist<l.properties.dist&&(l=T,l.properties.index=C+1,l.properties.location=p+U),Ft&&Ft.properties.dist<l.properties.dist&&(l=Ft,l.properties.index=C),p+=U}}),l}var Yn=as;function us(i,r){if(!i)throw new Error("line is required");if(!r)throw new Error("splitter is required");var a=co(i),l=co(r);if(a!=="LineString")throw new Error("line must be LineString");if(l==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(l==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var p=ka(r,{precision:7});switch(l){case"Point":return hs(i,p);case"MultiPoint":return ls(i,p);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return ls(i,Gi(i,p))}}function ls(i,r){var a=[],l=(0,wa.default)();return Bi(r,function(p){if(a.forEach(function(C,M){C.id=M}),!a.length)a=hs(i,p).features,a.forEach(function(C){C.bbox||(C.bbox=fl(Lr(C)))}),l.load(ci(a));else{var m=l.search(p);if(m.features.length){var v=Ea(p,m);a=a.filter(function(C){return C.id!==v.id}),l.remove(v),ai(hs(v,p),function(C){a.push(C),l.insert(C)})}}}),ci(a)}function hs(i,r){var a=[],l=zi(i)[0],p=zi(i)[i.geometry.coordinates.length-1];if(Jn(l,wi(r))||Jn(p,wi(r)))return ci([i]);var m=(0,wa.default)(),v=es(i);m.load(v);var C=m.search(r);if(!C.features.length)return ci([i]);var M=Ea(r,C),T=[l],U=Wn(v,function(F,st,at){var bt=zi(st)[1],At=wi(r);return at===M.id?(F.push(At),a.push(fn(F)),Jn(At,bt)?[At]:[At,bt]):(F.push(bt),F)},T);return U.length>1&&a.push(fn(U)),ci(a)}function Ea(i,r){if(!r.features.length)throw new Error("lines must contain features");if(r.features.length===1)return r.features[0];var a,l=1/0;return ai(r,function(p){var m=Yn(p,i),v=m.properties.dist;v<l&&(a=p,l=v)}),a}function Jn(i,r){return i[0]===r[0]&&i[1]===r[1]}var dl=us;function br(i,r,a){if(a===void 0&&(a={}),!i)throw new Error("point is required");if(!r)throw new Error("polygon is required");var l=wi(i),p=ts(r),m=p.type,v=r.bbox,C=p.coordinates;if(v&&Pa(l,v)===!1)return!1;m==="Polygon"&&(C=[C]);for(var M=!1,T=0;T<C.length&&!M;T++)if(Ma(l,C[T][0],a.ignoreBoundary)){for(var U=!1,F=1;F<C[T].length&&!U;)Ma(l,C[T][F],!a.ignoreBoundary)&&(U=!0),F++;U||(M=!0)}return M}function Ma(i,r,a){var l=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var p=0,m=r.length-1;p<r.length;m=p++){var v=r[p][0],C=r[p][1],M=r[m][0],T=r[m][1],U=i[1]*(v-M)+C*(M-i[0])+T*(i[0]-v)===0&&(v-i[0])*(M-i[0])<=0&&(C-i[1])*(T-i[1])<=0;if(U)return!a;var F=C>i[1]!=T>i[1]&&i[0]<(M-v)*(i[1]-C)/(T-C)+v;F&&(l=!l)}return l}function Pa(i,r){return r[0]<=i[0]&&r[1]<=i[1]&&r[2]>=i[0]&&r[3]>=i[1]}function pl(i,r,a){a===void 0&&(a={});for(var l=wi(i),p=zi(r),m=0;m<p.length-1;m++){var v=!1;if(a.ignoreEndVertices&&(m===0&&(v="start"),m===p.length-2&&(v="end"),m===0&&m+1===p.length-1&&(v="both")),ji(p[m],p[m+1],l,v,typeof a.epsilon>"u"?null:a.epsilon))return!0}return!1}function ji(i,r,a,l,p){var m=a[0],v=a[1],C=i[0],M=i[1],T=r[0],U=r[1],F=a[0]-C,st=a[1]-M,at=T-C,bt=U-M,At=F*bt-st*at;if(p!==null){if(Math.abs(At)>p)return!1}else if(At!==0)return!1;if(l){if(l==="start")return Math.abs(at)>=Math.abs(bt)?at>0?C<m&&m<=T:T<=m&&m<C:bt>0?M<v&&v<=U:U<=v&&v<M;if(l==="end")return Math.abs(at)>=Math.abs(bt)?at>0?C<=m&&m<T:T<m&&m<=C:bt>0?M<=v&&v<U:U<v&&v<=M;if(l==="both")return Math.abs(at)>=Math.abs(bt)?at>0?C<m&&m<T:T<m&&m<C:bt>0?M<v&&v<U:U<v&&v<M}else return Math.abs(at)>=Math.abs(bt)?at>0?C<=m&&m<=T:T<=m&&m<=C:bt>0?M<=v&&v<=U:U<=v&&v<=M;return!1}var pn=pl;function _l(i,r){var a=ts(i),l=ts(r),p=a.type,m=l.type,v=a.coordinates,C=l.coordinates;switch(p){case"Point":switch(m){case"Point":return fs(v,C);default:throw new Error("feature2 "+m+" geometry not supported")}case"MultiPoint":switch(m){case"Point":return cs(a,l);case"MultiPoint":return gl(a,l);default:throw new Error("feature2 "+m+" geometry not supported")}case"LineString":switch(m){case"Point":return pn(l,a,{ignoreEndVertices:!0});case"LineString":return Cr(a,l);case"MultiPoint":return Ba(a,l);default:throw new Error("feature2 "+m+" geometry not supported")}case"Polygon":switch(m){case"Point":return br(l,a,{ignoreBoundary:!0});case"LineString":return yl(a,l);case"Polygon":return Xn(a,l);case"MultiPoint":return ml(a,l);default:throw new Error("feature2 "+m+" geometry not supported")}default:throw new Error("feature1 "+p+" geometry not supported")}}function cs(i,r){var a,l=!1;for(a=0;a<i.coordinates.length;a++)if(fs(i.coordinates[a],r.coordinates)){l=!0;break}return l}function gl(i,r){for(var a=0,l=r.coordinates;a<l.length;a++){for(var p=l[a],m=!1,v=0,C=i.coordinates;v<C.length;v++){var M=C[v];if(fs(p,M)){m=!0;break}}if(!m)return!1}return!0}function Ba(i,r){for(var a=!1,l=0,p=r.coordinates;l<p.length;l++){var m=p[l];if(pn(m,i,{ignoreEndVertices:!0})&&(a=!0),!pn(m,i))return!1}return!!a}function ml(i,r){for(var a=0,l=r.coordinates;a<l.length;a++){var p=l[a];if(!br(p,i,{ignoreBoundary:!0}))return!1}return!0}function Cr(i,r){for(var a=!1,l=0,p=r.coordinates;l<p.length;l++){var m=p[l];if(pn({type:"Point",coordinates:m},i,{ignoreEndVertices:!0})&&(a=!0),!pn({type:"Point",coordinates:m},i,{ignoreEndVertices:!1}))return!1}return a}function yl(i,r){var a=!1,l=0,p=Lr(i),m=Lr(r);if(!_o(p,m))return!1;for(l;l<r.coordinates.length-1;l++){var v=vl(r.coordinates[l],r.coordinates[l+1]);if(br({type:"Point",coordinates:v},i,{ignoreBoundary:!0})){a=!0;break}}return a}function Xn(i,r){if(i.type==="Feature"&&i.geometry===null||r.type==="Feature"&&r.geometry===null)return!1;var a=Lr(i),l=Lr(r);if(!_o(a,l))return!1;for(var p=ts(r).coordinates,m=0,v=p;m<v.length;m++)for(var C=v[m],M=0,T=C;M<T.length;M++){var U=T[M];if(!br(U,i))return!1}return!0}function _o(i,r){return!(i[0]>r[0]||i[2]<r[2]||i[1]>r[1]||i[3]<r[3])}function fs(i,r){return i[0]===r[0]&&i[1]===r[1]}function vl(i,r){return[(i[0]+r[0])/2,(i[1]+r[1])/2]}var tn=y(ln()),go=i=>()=>i,ds=i=>{let r=i?(a,l)=>l.minus(a).abs().isLessThanOrEqualTo(i):go(!1);return(a,l)=>r(a,l)?0:a.comparedTo(l)};function xr(i){let r=i?(a,l,p,m,v)=>a.exponentiatedBy(2).isLessThanOrEqualTo(m.minus(l).exponentiatedBy(2).plus(v.minus(p).exponentiatedBy(2)).times(i)):go(!1);return(a,l,p)=>{let m=a.x,v=a.y,C=p.x,M=p.y,T=v.minus(M).times(l.x.minus(C)).minus(m.minus(C).times(l.y.minus(M)));return r(T,m,v,C,M)?0:T.comparedTo(0)}}var Ll=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Qn=Math.ceil,ei=Math.floor,ui="[BigNumber Error] ",mo=ui+"Number primitive has more than 15 significant digits: ",Ti=1e14,te=14,ps=9007199254740991,_s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],en=1e7,je=1e9;function Ta(i){var r,a,l,p=j.prototype={constructor:j,toString:null,valueOf:null},m=new j(1),v=20,C=4,M=-7,T=21,U=-1e7,F=1e7,st=!1,at=1,bt=0,At={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ft="0123456789abcdefghijklmnopqrstuvwxyz",he=!0;function j(E,A){var R,D,O,I,W,q,Y,nt,it=this;if(!(it instanceof j))return new j(E,A);if(A==null){if(E&&E._isBigNumber===!0){it.s=E.s,!E.c||E.e>F?it.c=it.e=null:E.e<U?it.c=[it.e=0]:(it.e=E.e,it.c=E.c.slice());return}if((q=typeof E=="number")&&E*0==0){if(it.s=1/E<0?(E=-E,-1):1,E===~~E){for(I=0,W=E;W>=10;W/=10,I++);I>F?it.c=it.e=null:(it.e=I,it.c=[E]);return}nt=String(E)}else{if(!Ll.test(nt=String(E)))return l(it,nt,q);it.s=nt.charCodeAt(0)==45?(nt=nt.slice(1),-1):1}(I=nt.indexOf("."))>-1&&(nt=nt.replace(".","")),(W=nt.search(/e/i))>0?(I<0&&(I=W),I+=+nt.slice(W+1),nt=nt.substring(0,W)):I<0&&(I=nt.length)}else{if(e(A,2,Ft.length,"Base"),A==10&&he)return it=new j(E),Q(it,v+it.e+1,C);if(nt=String(E),q=typeof E=="number"){if(E*0!=0)return l(it,nt,q,A);if(it.s=1/E<0?(nt=nt.slice(1),-1):1,j.DEBUG&&nt.replace(/^0\.0*|\./,"").length>15)throw Error(mo+E)}else it.s=nt.charCodeAt(0)===45?(nt=nt.slice(1),-1):1;for(R=Ft.slice(0,A),I=W=0,Y=nt.length;W<Y;W++)if(R.indexOf(D=nt.charAt(W))<0){if(D=="."){if(W>I){I=Y;continue}}else if(!O&&(nt==nt.toUpperCase()&&(nt=nt.toLowerCase())||nt==nt.toLowerCase()&&(nt=nt.toUpperCase()))){O=!0,W=-1,I=0;continue}return l(it,String(E),q,A)}q=!1,nt=a(nt,A,10,it.s),(I=nt.indexOf("."))>-1?nt=nt.replace(".",""):I=nt.length}for(W=0;nt.charCodeAt(W)===48;W++);for(Y=nt.length;nt.charCodeAt(--Y)===48;);if(nt=nt.slice(W,++Y)){if(Y-=W,q&&j.DEBUG&&Y>15&&(E>ps||E!==ei(E)))throw Error(mo+it.s*E);if((I=I-W-1)>F)it.c=it.e=null;else if(I<U)it.c=[it.e=0];else{if(it.e=I,it.c=[],W=(I+1)%te,I<0&&(W+=te),W<Y){for(W&&it.c.push(+nt.slice(0,W)),Y-=te;W<Y;)it.c.push(+nt.slice(W,W+=te));W=te-(nt=nt.slice(W)).length}else W-=Y;for(;W--;nt+="0");it.c.push(+nt)}}else it.c=[it.e=0]}j.clone=Ta,j.ROUND_UP=0,j.ROUND_DOWN=1,j.ROUND_CEIL=2,j.ROUND_FLOOR=3,j.ROUND_HALF_UP=4,j.ROUND_HALF_DOWN=5,j.ROUND_HALF_EVEN=6,j.ROUND_HALF_CEIL=7,j.ROUND_HALF_FLOOR=8,j.EUCLID=9,j.config=j.set=function(E){var A,R;if(E!=null)if(typeof E=="object"){if(E.hasOwnProperty(A="DECIMAL_PLACES")&&(R=E[A],e(R,0,je,A),v=R),E.hasOwnProperty(A="ROUNDING_MODE")&&(R=E[A],e(R,0,8,A),C=R),E.hasOwnProperty(A="EXPONENTIAL_AT")&&(R=E[A],R&&R.pop?(e(R[0],-je,0,A),e(R[1],0,je,A),M=R[0],T=R[1]):(e(R,-je,je,A),M=-(T=R<0?-R:R))),E.hasOwnProperty(A="RANGE"))if(R=E[A],R&&R.pop)e(R[0],-je,-1,A),e(R[1],1,je,A),U=R[0],F=R[1];else if(e(R,-je,je,A),R)U=-(F=R<0?-R:R);else throw Error(ui+A+" cannot be zero: "+R);if(E.hasOwnProperty(A="CRYPTO"))if(R=E[A],R===!!R)if(R)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))st=R;else throw st=!R,Error(ui+"crypto unavailable");else st=R;else throw Error(ui+A+" not true or false: "+R);if(E.hasOwnProperty(A="MODULO_MODE")&&(R=E[A],e(R,0,9,A),at=R),E.hasOwnProperty(A="POW_PRECISION")&&(R=E[A],e(R,0,je,A),bt=R),E.hasOwnProperty(A="FORMAT"))if(R=E[A],typeof R=="object")At=R;else throw Error(ui+A+" not an object: "+R);if(E.hasOwnProperty(A="ALPHABET"))if(R=E[A],typeof R=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(R))he=R.slice(0,10)=="0123456789",Ft=R;else throw Error(ui+A+" invalid: "+R)}else throw Error(ui+"Object expected: "+E);return{DECIMAL_PLACES:v,ROUNDING_MODE:C,EXPONENTIAL_AT:[M,T],RANGE:[U,F],CRYPTO:st,MODULO_MODE:at,POW_PRECISION:bt,FORMAT:At,ALPHABET:Ft}},j.isBigNumber=function(E){if(!E||E._isBigNumber!==!0)return!1;if(!j.DEBUG)return!0;var A,R,D=E.c,O=E.e,I=E.s;t:if({}.toString.call(D)=="[object Array]"){if((I===1||I===-1)&&O>=-je&&O<=je&&O===ei(O)){if(D[0]===0){if(O===0&&D.length===1)return!0;break t}if(A=(O+1)%te,A<1&&(A+=te),String(D[0]).length==A){for(A=0;A<D.length;A++)if(R=D[A],R<0||R>=Ti||R!==ei(R))break t;if(R!==0)return!0}}}else if(D===null&&O===null&&(I===null||I===1||I===-1))return!0;throw Error(ui+"Invalid BigNumber: "+E)},j.maximum=j.max=function(){return J(arguments,-1)},j.minimum=j.min=function(){return J(arguments,1)},j.random=(function(){var E=9007199254740992,A=Math.random()*E&2097151?function(){return ei(Math.random()*E)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(R){var D,O,I,W,q,Y=0,nt=[],it=new j(m);if(R==null?R=v:e(R,0,je),W=Qn(R/te),st)if(crypto.getRandomValues){for(D=crypto.getRandomValues(new Uint32Array(W*=2));Y<W;)q=D[Y]*131072+(D[Y+1]>>>11),q>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),D[Y]=O[0],D[Y+1]=O[1]):(nt.push(q%1e14),Y+=2);Y=W/2}else if(crypto.randomBytes){for(D=crypto.randomBytes(W*=7);Y<W;)q=(D[Y]&31)*281474976710656+D[Y+1]*1099511627776+D[Y+2]*4294967296+D[Y+3]*16777216+(D[Y+4]<<16)+(D[Y+5]<<8)+D[Y+6],q>=9e15?crypto.randomBytes(7).copy(D,Y):(nt.push(q%1e14),Y+=7);Y=W/7}else throw st=!1,Error(ui+"crypto unavailable");if(!st)for(;Y<W;)q=A(),q<9e15&&(nt[Y++]=q%1e14);for(W=nt[--Y],R%=te,W&&R&&(q=_s[te-R],nt[Y]=ei(W/q)*q);nt[Y]===0;nt.pop(),Y--);if(Y<0)nt=[I=0];else{for(I=-1;nt[0]===0;nt.splice(0,1),I-=te);for(Y=1,q=nt[0];q>=10;q/=10,Y++);Y<te&&(I-=te-Y)}return it.e=I,it.c=nt,it}})(),j.sum=function(){for(var E=1,A=arguments,R=new j(A[0]);E<A.length;)R=R.plus(A[E++]);return R},a=(function(){var E="0123456789";function A(R,D,O,I){for(var W,q=[0],Y,nt=0,it=R.length;nt<it;){for(Y=q.length;Y--;q[Y]*=D);for(q[0]+=I.indexOf(R.charAt(nt++)),W=0;W<q.length;W++)q[W]>O-1&&(q[W+1]==null&&(q[W+1]=0),q[W+1]+=q[W]/O|0,q[W]%=O)}return q.reverse()}return function(R,D,O,I,W){var q,Y,nt,it,gt,It,Nt,Kt,Le=R.indexOf("."),ke=v,de=C;for(Le>=0&&(it=bt,bt=0,R=R.replace(".",""),Kt=new j(D),It=Kt.pow(R.length-Le),bt=it,Kt.c=A(g(mi(It.c),It.e,"0"),10,O,E),Kt.e=Kt.c.length),Nt=A(R,D,O,W?(q=Ft,E):(q=E,Ft)),nt=it=Nt.length;Nt[--it]==0;Nt.pop());if(!Nt[0])return q.charAt(0);if(Le<0?--nt:(It.c=Nt,It.e=nt,It.s=I,It=r(It,Kt,ke,de,O),Nt=It.c,gt=It.r,nt=It.e),Y=nt+ke+1,Le=Nt[Y],it=O/2,gt=gt||Y<0||Nt[Y+1]!=null,gt=de<4?(Le!=null||gt)&&(de==0||de==(It.s<0?3:2)):Le>it||Le==it&&(de==4||gt||de==6&&Nt[Y-1]&1||de==(It.s<0?8:7)),Y<1||!Nt[0])R=gt?g(q.charAt(1),-ke,q.charAt(0)):q.charAt(0);else{if(Nt.length=Y,gt)for(--O;++Nt[--Y]>O;)Nt[Y]=0,Y||(++nt,Nt=[1].concat(Nt));for(it=Nt.length;!Nt[--it];);for(Le=0,R="";Le<=it;R+=q.charAt(Nt[Le++]));R=g(R,nt,q.charAt(0))}return R}})(),r=(function(){function E(D,O,I){var W,q,Y,nt,it=0,gt=D.length,It=O%en,Nt=O/en|0;for(D=D.slice();gt--;)Y=D[gt]%en,nt=D[gt]/en|0,W=Nt*Y+nt*It,q=It*Y+W%en*en+it,it=(q/I|0)+(W/en|0)+Nt*nt,D[gt]=q%I;return it&&(D=[it].concat(D)),D}function A(D,O,I,W){var q,Y;if(I!=W)Y=I>W?1:-1;else for(q=Y=0;q<I;q++)if(D[q]!=O[q]){Y=D[q]>O[q]?1:-1;break}return Y}function R(D,O,I,W){for(var q=0;I--;)D[I]-=q,q=D[I]<O[I]?1:0,D[I]=q*W+D[I]-O[I];for(;!D[0]&&D.length>1;D.splice(0,1));}return function(D,O,I,W,q){var Y,nt,it,gt,It,Nt,Kt,Le,ke,de,Ee,pi,Fa,El,Ml,_n,bo,Zi=D.s==O.s?1:-1,yi=D.c,Ne=O.c;if(!yi||!yi[0]||!Ne||!Ne[0])return new j(!D.s||!O.s||(yi?Ne&&yi[0]==Ne[0]:!Ne)?NaN:yi&&yi[0]==0||!Ne?Zi*0:Zi/0);for(Le=new j(Zi),ke=Le.c=[],nt=D.e-O.e,Zi=I+nt+1,q||(q=Ti,nt=gi(D.e/te)-gi(O.e/te),Zi=Zi/te|0),it=0;Ne[it]==(yi[it]||0);it++);if(Ne[it]>(yi[it]||0)&&nt--,Zi<0)ke.push(1),gt=!0;else{for(El=yi.length,_n=Ne.length,it=0,Zi+=2,It=ei(q/(Ne[0]+1)),It>1&&(Ne=E(Ne,It,q),yi=E(yi,It,q),_n=Ne.length,El=yi.length),Fa=_n,de=yi.slice(0,_n),Ee=de.length;Ee<_n;de[Ee++]=0);bo=Ne.slice(),bo=[0].concat(bo),Ml=Ne[0],Ne[1]>=q/2&&Ml++;do{if(It=0,Y=A(Ne,de,_n,Ee),Y<0){if(pi=de[0],_n!=Ee&&(pi=pi*q+(de[1]||0)),It=ei(pi/Ml),It>1)for(It>=q&&(It=q-1),Nt=E(Ne,It,q),Kt=Nt.length,Ee=de.length;A(Nt,de,Kt,Ee)==1;)It--,R(Nt,_n<Kt?bo:Ne,Kt,q),Kt=Nt.length,Y=1;else It==0&&(Y=It=1),Nt=Ne.slice(),Kt=Nt.length;if(Kt<Ee&&(Nt=[0].concat(Nt)),R(de,Nt,Ee,q),Ee=de.length,Y==-1)for(;A(Ne,de,_n,Ee)<1;)It++,R(de,_n<Ee?bo:Ne,Ee,q),Ee=de.length}else Y===0&&(It++,de=[0]);ke[it++]=It,de[0]?de[Ee++]=yi[Fa]||0:(de=[yi[Fa]],Ee=1)}while((Fa++<El||de[0]!=null)&&Zi--);gt=de[0]!=null,ke[0]||ke.splice(0,1)}if(q==Ti){for(it=1,Zi=ke[0];Zi>=10;Zi/=10,it++);Q(Le,I+(Le.e=it+nt*te-1)+1,W,gt)}else Le.e=nt,Le.r=+gt;return Le}})();function K(E,A,R,D){var O,I,W,q,Y;if(R==null?R=C:e(R,0,8),!E.c)return E.toString();if(O=E.c[0],W=E.e,A==null)Y=mi(E.c),Y=D==1||D==2&&(W<=M||W>=T)?h(Y,W):g(Y,W,"0");else if(E=Q(new j(E),A,R),I=E.e,Y=mi(E.c),q=Y.length,D==1||D==2&&(A<=I||I<=M)){for(;q<A;Y+="0",q++);Y=h(Y,I)}else if(A-=W,Y=g(Y,I,"0"),I+1>q){if(--A>0)for(Y+=".";A--;Y+="0");}else if(A+=I-q,A>0)for(I+1==q&&(Y+=".");A--;Y+="0");return E.s<0&&O?"-"+Y:Y}function J(E,A){for(var R,D,O=1,I=new j(E[0]);O<E.length;O++)D=new j(E[O]),(!D.s||(R=Sn(I,D))===A||R===0&&I.s===A)&&(I=D);return I}function lt(E,A,R){for(var D=1,O=A.length;!A[--O];A.pop());for(O=A[0];O>=10;O/=10,D++);return(R=D+R*te-1)>F?E.c=E.e=null:R<U?E.c=[E.e=0]:(E.e=R,E.c=A),E}l=(function(){var E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,R=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(I,W,q,Y){var nt,it=q?W:W.replace(O,"");if(D.test(it))I.s=isNaN(it)?null:it<0?-1:1;else{if(!q&&(it=it.replace(E,function(gt,It,Nt){return nt=(Nt=Nt.toLowerCase())=="x"?16:Nt=="b"?2:8,!Y||Y==nt?It:gt}),Y&&(nt=Y,it=it.replace(A,"$1").replace(R,"0.$1")),W!=it))return new j(it,nt);if(j.DEBUG)throw Error(ui+"Not a"+(Y?" base "+Y:"")+" number: "+W);I.s=null}I.c=I.e=null}})();function Q(E,A,R,D){var O,I,W,q,Y,nt,it,gt=E.c,It=_s;if(gt){t:{for(O=1,q=gt[0];q>=10;q/=10,O++);if(I=A-O,I<0)I+=te,W=A,Y=gt[nt=0],it=ei(Y/It[O-W-1]%10);else if(nt=Qn((I+1)/te),nt>=gt.length)if(D){for(;gt.length<=nt;gt.push(0));Y=it=0,O=1,I%=te,W=I-te+1}else break t;else{for(Y=q=gt[nt],O=1;q>=10;q/=10,O++);I%=te,W=I-te+O,it=W<0?0:ei(Y/It[O-W-1]%10)}if(D=D||A<0||gt[nt+1]!=null||(W<0?Y:Y%It[O-W-1]),D=R<4?(it||D)&&(R==0||R==(E.s<0?3:2)):it>5||it==5&&(R==4||D||R==6&&(I>0?W>0?Y/It[O-W]:0:gt[nt-1])%10&1||R==(E.s<0?8:7)),A<1||!gt[0])return gt.length=0,D?(A-=E.e+1,gt[0]=It[(te-A%te)%te],E.e=-A||0):gt[0]=E.e=0,E;if(I==0?(gt.length=nt,q=1,nt--):(gt.length=nt+1,q=It[te-I],gt[nt]=W>0?ei(Y/It[O-W]%It[W])*q:0),D)for(;;)if(nt==0){for(I=1,W=gt[0];W>=10;W/=10,I++);for(W=gt[0]+=q,q=1;W>=10;W/=10,q++);I!=q&&(E.e++,gt[0]==Ti&&(gt[0]=1));break}else{if(gt[nt]+=q,gt[nt]!=Ti)break;gt[nt--]=0,q=1}for(I=gt.length;gt[--I]===0;gt.pop());}E.e>F?E.c=E.e=null:E.e<U&&(E.c=[E.e=0])}return E}function ot(E){var A,R=E.e;return R===null?E.toString():(A=mi(E.c),A=R<=M||R>=T?h(A,R):g(A,R,"0"),E.s<0?"-"+A:A)}return p.absoluteValue=p.abs=function(){var E=new j(this);return E.s<0&&(E.s=1),E},p.comparedTo=function(E,A){return Sn(this,new j(E,A))},p.decimalPlaces=p.dp=function(E,A){var R,D,O,I=this;if(E!=null)return e(E,0,je),A==null?A=C:e(A,0,8),Q(new j(I),E+I.e+1,A);if(!(R=I.c))return null;if(D=((O=R.length-1)-gi(this.e/te))*te,O=R[O])for(;O%10==0;O/=10,D--);return D<0&&(D=0),D},p.dividedBy=p.div=function(E,A){return r(this,new j(E,A),v,C)},p.dividedToIntegerBy=p.idiv=function(E,A){return r(this,new j(E,A),0,1)},p.exponentiatedBy=p.pow=function(E,A){var R,D,O,I,W,q,Y,nt,it,gt=this;if(E=new j(E),E.c&&!E.isInteger())throw Error(ui+"Exponent not an integer: "+ot(E));if(A!=null&&(A=new j(A)),q=E.e>14,!gt.c||!gt.c[0]||gt.c[0]==1&&!gt.e&&gt.c.length==1||!E.c||!E.c[0])return it=new j(Math.pow(+ot(gt),q?E.s*(2-s(E)):+ot(E))),A?it.mod(A):it;if(Y=E.s<0,A){if(A.c?!A.c[0]:!A.s)return new j(NaN);D=!Y&&gt.isInteger()&&A.isInteger(),D&&(gt=gt.mod(A))}else{if(E.e>9&&(gt.e>0||gt.e<-1||(gt.e==0?gt.c[0]>1||q&&gt.c[1]>=24e7:gt.c[0]<8e13||q&&gt.c[0]<=9999975e7)))return I=gt.s<0&&s(E)?-0:0,gt.e>-1&&(I=1/I),new j(Y?1/I:I);bt&&(I=Qn(bt/te+2))}for(q?(R=new j(.5),Y&&(E.s=1),nt=s(E)):(O=Math.abs(+ot(E)),nt=O%2),it=new j(m);;){if(nt){if(it=it.times(gt),!it.c)break;I?it.c.length>I&&(it.c.length=I):D&&(it=it.mod(A))}if(O){if(O=ei(O/2),O===0)break;nt=O%2}else if(E=E.times(R),Q(E,E.e+1,1),E.e>14)nt=s(E);else{if(O=+ot(E),O===0)break;nt=O%2}gt=gt.times(gt),I?gt.c&&gt.c.length>I&&(gt.c.length=I):D&&(gt=gt.mod(A))}return D?it:(Y&&(it=m.div(it)),A?it.mod(A):I?Q(it,bt,C,W):it)},p.integerValue=function(E){var A=new j(this);return E==null?E=C:e(E,0,8),Q(A,A.e+1,E)},p.isEqualTo=p.eq=function(E,A){return Sn(this,new j(E,A))===0},p.isFinite=function(){return!!this.c},p.isGreaterThan=p.gt=function(E,A){return Sn(this,new j(E,A))>0},p.isGreaterThanOrEqualTo=p.gte=function(E,A){return(A=Sn(this,new j(E,A)))===1||A===0},p.isInteger=function(){return!!this.c&&gi(this.e/te)>this.c.length-2},p.isLessThan=p.lt=function(E,A){return Sn(this,new j(E,A))<0},p.isLessThanOrEqualTo=p.lte=function(E,A){return(A=Sn(this,new j(E,A)))===-1||A===0},p.isNaN=function(){return!this.s},p.isNegative=function(){return this.s<0},p.isPositive=function(){return this.s>0},p.isZero=function(){return!!this.c&&this.c[0]==0},p.minus=function(E,A){var R,D,O,I,W=this,q=W.s;if(E=new j(E,A),A=E.s,!q||!A)return new j(NaN);if(q!=A)return E.s=-A,W.plus(E);var Y=W.e/te,nt=E.e/te,it=W.c,gt=E.c;if(!Y||!nt){if(!it||!gt)return it?(E.s=-A,E):new j(gt?W:NaN);if(!it[0]||!gt[0])return gt[0]?(E.s=-A,E):new j(it[0]?W:C==3?-0:0)}if(Y=gi(Y),nt=gi(nt),it=it.slice(),q=Y-nt){for((I=q<0)?(q=-q,O=it):(nt=Y,O=gt),O.reverse(),A=q;A--;O.push(0));O.reverse()}else for(D=(I=(q=it.length)<(A=gt.length))?q:A,q=A=0;A<D;A++)if(it[A]!=gt[A]){I=it[A]<gt[A];break}if(I&&(O=it,it=gt,gt=O,E.s=-E.s),A=(D=gt.length)-(R=it.length),A>0)for(;A--;it[R++]=0);for(A=Ti-1;D>q;){if(it[--D]<gt[D]){for(R=D;R&&!it[--R];it[R]=A);--it[R],it[D]+=Ti}it[D]-=gt[D]}for(;it[0]==0;it.splice(0,1),--nt);return it[0]?lt(E,it,nt):(E.s=C==3?-1:1,E.c=[E.e=0],E)},p.modulo=p.mod=function(E,A){var R,D,O=this;return E=new j(E,A),!O.c||!E.s||E.c&&!E.c[0]?new j(NaN):!E.c||O.c&&!O.c[0]?new j(O):(at==9?(D=E.s,E.s=1,R=r(O,E,0,3),E.s=D,R.s*=D):R=r(O,E,0,at),E=O.minus(R.times(E)),!E.c[0]&&at==1&&(E.s=O.s),E)},p.multipliedBy=p.times=function(E,A){var R,D,O,I,W,q,Y,nt,it,gt,It,Nt,Kt,Le,ke,de=this,Ee=de.c,pi=(E=new j(E,A)).c;if(!Ee||!pi||!Ee[0]||!pi[0])return!de.s||!E.s||Ee&&!Ee[0]&&!pi||pi&&!pi[0]&&!Ee?E.c=E.e=E.s=null:(E.s*=de.s,!Ee||!pi?E.c=E.e=null:(E.c=[0],E.e=0)),E;for(D=gi(de.e/te)+gi(E.e/te),E.s*=de.s,Y=Ee.length,gt=pi.length,Y<gt&&(Kt=Ee,Ee=pi,pi=Kt,O=Y,Y=gt,gt=O),O=Y+gt,Kt=[];O--;Kt.push(0));for(Le=Ti,ke=en,O=gt;--O>=0;){for(R=0,It=pi[O]%ke,Nt=pi[O]/ke|0,W=Y,I=O+W;I>O;)nt=Ee[--W]%ke,it=Ee[W]/ke|0,q=Nt*nt+it*It,nt=It*nt+q%ke*ke+Kt[I]+R,R=(nt/Le|0)+(q/ke|0)+Nt*it,Kt[I--]=nt%Le;Kt[I]=R}return R?++D:Kt.splice(0,1),lt(E,Kt,D)},p.negated=function(){var E=new j(this);return E.s=-E.s||null,E},p.plus=function(E,A){var R,D=this,O=D.s;if(E=new j(E,A),A=E.s,!O||!A)return new j(NaN);if(O!=A)return E.s=-A,D.minus(E);var I=D.e/te,W=E.e/te,q=D.c,Y=E.c;if(!I||!W){if(!q||!Y)return new j(O/0);if(!q[0]||!Y[0])return Y[0]?E:new j(q[0]?D:O*0)}if(I=gi(I),W=gi(W),q=q.slice(),O=I-W){for(O>0?(W=I,R=Y):(O=-O,R=q),R.reverse();O--;R.push(0));R.reverse()}for(O=q.length,A=Y.length,O-A<0&&(R=Y,Y=q,q=R,A=O),O=0;A;)O=(q[--A]=q[A]+Y[A]+O)/Ti|0,q[A]=Ti===q[A]?0:q[A]%Ti;return O&&(q=[O].concat(q),++W),lt(E,q,W)},p.precision=p.sd=function(E,A){var R,D,O,I=this;if(E!=null&&E!==!!E)return e(E,1,je),A==null?A=C:e(A,0,8),Q(new j(I),E,A);if(!(R=I.c))return null;if(O=R.length-1,D=O*te+1,O=R[O]){for(;O%10==0;O/=10,D--);for(O=R[0];O>=10;O/=10,D++);}return E&&I.e+1>D&&(D=I.e+1),D},p.shiftedBy=function(E){return e(E,-ps,ps),this.times("1e"+E)},p.squareRoot=p.sqrt=function(){var E,A,R,D,O,I=this,W=I.c,q=I.s,Y=I.e,nt=v+4,it=new j("0.5");if(q!==1||!W||!W[0])return new j(!q||q<0&&(!W||W[0])?NaN:W?I:1/0);if(q=Math.sqrt(+ot(I)),q==0||q==1/0?(A=mi(W),(A.length+Y)%2==0&&(A+="0"),q=Math.sqrt(+A),Y=gi((Y+1)/2)-(Y<0||Y%2),q==1/0?A="5e"+Y:(A=q.toExponential(),A=A.slice(0,A.indexOf("e")+1)+Y),R=new j(A)):R=new j(q+""),R.c[0]){for(Y=R.e,q=Y+nt,q<3&&(q=0);;)if(O=R,R=it.times(O.plus(r(I,O,nt,1))),mi(O.c).slice(0,q)===(A=mi(R.c)).slice(0,q))if(R.e<Y&&--q,A=A.slice(q-3,q+1),A=="9999"||!D&&A=="4999"){if(!D&&(Q(O,O.e+v+2,0),O.times(O).eq(I))){R=O;break}nt+=4,q+=4,D=1}else{(!+A||!+A.slice(1)&&A.charAt(0)=="5")&&(Q(R,R.e+v+2,1),E=!R.times(R).eq(I));break}}return Q(R,R.e+v+1,C,E)},p.toExponential=function(E,A){return E!=null&&(e(E,0,je),E++),K(this,E,A,1)},p.toFixed=function(E,A){return E!=null&&(e(E,0,je),E=E+this.e+1),K(this,E,A)},p.toFormat=function(E,A,R){var D,O=this;if(R==null)E!=null&&A&&typeof A=="object"?(R=A,A=null):E&&typeof E=="object"?(R=E,E=A=null):R=At;else if(typeof R!="object")throw Error(ui+"Argument not an object: "+R);if(D=O.toFixed(E,A),O.c){var I,W=D.split("."),q=+R.groupSize,Y=+R.secondaryGroupSize,nt=R.groupSeparator||"",it=W[0],gt=W[1],It=O.s<0,Nt=It?it.slice(1):it,Kt=Nt.length;if(Y&&(I=q,q=Y,Y=I,Kt-=I),q>0&&Kt>0){for(I=Kt%q||q,it=Nt.substr(0,I);I<Kt;I+=q)it+=nt+Nt.substr(I,q);Y>0&&(it+=nt+Nt.slice(I)),It&&(it="-"+it)}D=gt?it+(R.decimalSeparator||"")+((Y=+R.fractionGroupSize)?gt.replace(new RegExp("\\d{"+Y+"}\\B","g"),"$&"+(R.fractionGroupSeparator||"")):gt):it}return(R.prefix||"")+D+(R.suffix||"")},p.toFraction=function(E){var A,R,D,O,I,W,q,Y,nt,it,gt,It,Nt=this,Kt=Nt.c;if(E!=null&&(q=new j(E),!q.isInteger()&&(q.c||q.s!==1)||q.lt(m)))throw Error(ui+"Argument "+(q.isInteger()?"out of range: ":"not an integer: ")+ot(q));if(!Kt)return new j(Nt);for(A=new j(m),nt=R=new j(m),D=Y=new j(m),It=mi(Kt),I=A.e=It.length-Nt.e-1,A.c[0]=_s[(W=I%te)<0?te+W:W],E=!E||q.comparedTo(A)>0?I>0?A:nt:q,W=F,F=1/0,q=new j(It),Y.c[0]=0;it=r(q,A,0,1),O=R.plus(it.times(D)),O.comparedTo(E)!=1;)R=D,D=O,nt=Y.plus(it.times(O=nt)),Y=O,A=q.minus(it.times(O=A)),q=O;return O=r(E.minus(R),D,0,1),Y=Y.plus(O.times(nt)),R=R.plus(O.times(D)),Y.s=nt.s=Nt.s,I=I*2,gt=r(nt,D,I,C).minus(Nt).abs().comparedTo(r(Y,R,I,C).minus(Nt).abs())<1?[nt,D]:[Y,R],F=W,gt},p.toNumber=function(){return+ot(this)},p.toPrecision=function(E,A){return E!=null&&e(E,1,je),K(this,E,A,2)},p.toString=function(E){var A,R=this,D=R.s,O=R.e;return O===null?D?(A="Infinity",D<0&&(A="-"+A)):A="NaN":(E==null?A=O<=M||O>=T?h(mi(R.c),O):g(mi(R.c),O,"0"):E===10&&he?(R=Q(new j(R),v+O+1,C),A=g(mi(R.c),R.e,"0")):(e(E,2,Ft.length,"Base"),A=a(g(mi(R.c),O,"0"),10,E,D,!0)),D<0&&R.c[0]&&(A="-"+A)),A},p.valueOf=p.toJSON=function(){return ot(this)},p._isBigNumber=!0,p[Symbol.toStringTag]="BigNumber",p[Symbol.for("nodejs.util.inspect.custom")]=p.valueOf,i!=null&&j.set(i),j}function gi(i){var r=i|0;return i>0||i===r?r:r-1}function mi(i){for(var r,a,l=1,p=i.length,m=i[0]+"";l<p;){for(r=i[l++]+"",a=te-r.length;a--;r="0"+r);m+=r}for(p=m.length;m.charCodeAt(--p)===48;);return m.slice(0,p+1||1)}function Sn(i,r){var a,l,p=i.c,m=r.c,v=i.s,C=r.s,M=i.e,T=r.e;if(!v||!C)return null;if(a=p&&!p[0],l=m&&!m[0],a||l)return a?l?0:-C:v;if(v!=C)return v;if(a=v<0,l=M==T,!p||!m)return l?0:!p^a?1:-1;if(!l)return M>T^a?1:-1;for(C=(M=p.length)<(T=m.length)?M:T,v=0;v<C;v++)if(p[v]!=m[v])return p[v]>m[v]^a?1:-1;return M==T?0:M>T^a?1:-1}function e(i,r,a,l){if(i<r||i>a||i!==ei(i))throw Error(ui+(l||"Argument")+(typeof i=="number"?i<r||i>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(i))}function s(i){var r=i.c.length-1;return gi(i.e/te)==r&&i.c[r]%2!=0}function h(i,r){return(i.length>1?i.charAt(0)+"."+i.slice(1):i)+(r<0?"e":"e+")+r}function g(i,r,a){var l,p;if(r<0){for(p=a+".";++r;p+=a);i=p+i}else if(l=i.length,++r>l){for(p=a,r-=l;--r;p+=a);i+=p}else r<l&&(i=i.slice(0,r)+"."+i.slice(r));return i}var x=Ta(),S=x,Z=class{key;left=null;right=null;constructor(i){this.key=i}},et=class extends Z{constructor(i){super(i)}},ct=class{size=0;modificationCount=0;splayCount=0;splay(i){let r=this.root;if(r==null)return this.compare(i,i),-1;let a=null,l=null,p=null,m=null,v=r,C=this.compare,M;for(;;)if(M=C(v.key,i),M>0){let T=v.left;if(T==null||(M=C(T.key,i),M>0&&(v.left=T.right,T.right=v,v=T,T=v.left,T==null)))break;a==null?l=v:a.left=v,a=v,v=T}else if(M<0){let T=v.right;if(T==null||(M=C(T.key,i),M<0&&(v.right=T.left,T.left=v,v=T,T=v.right,T==null)))break;p==null?m=v:p.right=v,p=v,v=T}else break;return p!=null&&(p.right=v.left,v.left=m),a!=null&&(a.left=v.right,v.right=l),this.root!==v&&(this.root=v,this.splayCount++),M}splayMin(i){let r=i,a=r.left;for(;a!=null;){let l=a;r.left=l.right,l.right=r,r=l,a=r.left}return r}splayMax(i){let r=i,a=r.right;for(;a!=null;){let l=a;r.right=l.left,l.left=r,r=l,a=r.right}return r}_delete(i){if(this.root==null||this.splay(i)!=0)return null;let r=this.root,a=r,l=r.left;if(this.size--,l==null)this.root=r.right;else{let p=r.right;r=this.splayMax(l),r.right=p,this.root=r}return this.modificationCount++,a}addNewRoot(i,r){this.size++,this.modificationCount++;let a=this.root;if(a==null){this.root=i;return}r<0?(i.left=a,i.right=a.right,a.right=null):(i.right=a,i.left=a.left,a.left=null),this.root=i}_first(){let i=this.root;return i==null?null:(this.root=this.splayMin(i),this.root)}_last(){let i=this.root;return i==null?null:(this.root=this.splayMax(i),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(i){return this.validKey(i)&&this.splay(i)==0}defaultCompare(){return(i,r)=>i<r?-1:i>r?1:0}wrap(){return{getRoot:()=>this.root,setRoot:i=>{this.root=i},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:i=>{this.splayCount=i},splay:i=>this.splay(i),has:i=>this.has(i)}}},yt=class To extends ct{root=null;compare;validKey;constructor(r,a){super(),this.compare=r??this.defaultCompare(),this.validKey=a??(l=>l!=null&&l!=null)}delete(r){return this.validKey(r)?this._delete(r)!=null:!1}deleteAll(r){for(let a of r)this.delete(a)}forEach(r){let a=this[Symbol.iterator](),l;for(;l=a.next(),!l.done;)r(l.value,l.value,this)}add(r){let a=this.splay(r);return a!=0&&this.addNewRoot(new et(r),a),this}addAndReturn(r){let a=this.splay(r);return a!=0&&this.addNewRoot(new et(r),a),this.root.key}addAll(r){for(let a of r)this.add(a)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(r){if(r==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(r)<0)return this.root.key;let a=this.root.left;if(a==null)return null;let l=a.right;for(;l!=null;)a=l,l=a.right;return a.key}firstAfter(r){if(r==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(r)>0)return this.root.key;let a=this.root.right;if(a==null)return null;let l=a.left;for(;l!=null;)a=l,l=a.left;return a.key}retainAll(r){let a=new To(this.compare,this.validKey),l=this.modificationCount;for(let p of r){if(l!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(p)&&this.splay(p)==0&&a.add(this.root.key)}a.size!=this.size&&(this.root=a.root,this.size=a.size,this.modificationCount++)}lookup(r){return!this.validKey(r)||this.splay(r)!=0?null:this.root.key}intersection(r){let a=new To(this.compare,this.validKey);for(let l of this)r.has(l)&&a.add(l);return a}difference(r){let a=new To(this.compare,this.validKey);for(let l of this)r.has(l)||a.add(l);return a}union(r){let a=this.clone();return a.addAll(r),a}clone(){let r=new To(this.compare,this.validKey);return r.size=this.size,r.root=this.copyNode(this.root),r}copyNode(r){if(r==null)return null;function a(p,m){let v,C;do{if(v=p.left,C=p.right,v!=null){let M=new et(v.key);m.left=M,a(v,M)}if(C!=null){let M=new et(C.key);m.right=M,p=C,m=M}}while(C!=null)}let l=new et(r.key);return a(r,l),l}toSet(){return this.clone()}entries(){return new se(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new $t(this.wrap())}[Symbol.toStringTag]="[object Set]"},Ot=class{tree;path=new Array;modificationCount=null;splayCount;constructor(i){this.tree=i,this.splayCount=i.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let i=this.path[this.path.length-1];return this.getValue(i)}rebuildPath(i){this.path.splice(0,this.path.length),this.tree.splay(i),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(i){for(;i!=null;)this.path.push(i),i=i.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let a=this.tree.getRoot();for(;a!=null;)this.path.push(a),a=a.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let i=this.path[this.path.length-1],r=i.right;if(r!=null){for(;r!=null;)this.path.push(r),r=r.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===i;)i=this.path.pop();return this.path.length>0}},$t=class extends Ot{getValue(i){return i.key}},se=class extends Ot{getValue(i){return[i.key,i.key]}},li=i=>i,Ke=i=>{if(i){let r=new yt(ds(i)),a=new yt(ds(i)),l=(m,v)=>v.addAndReturn(m),p=m=>({x:l(m.x,r),y:l(m.y,a)});return p({x:new S(0),y:new S(0)}),p}return li},di=i=>({set:r=>{Se=di(r)},reset:()=>di(i),compare:ds(i),snap:Ke(i),orient:xr(i)}),Se=di(),Hi=(i,r)=>i.ll.x.isLessThanOrEqualTo(r.x)&&r.x.isLessThanOrEqualTo(i.ur.x)&&i.ll.y.isLessThanOrEqualTo(r.y)&&r.y.isLessThanOrEqualTo(i.ur.y),yo=(i,r)=>{if(r.ur.x.isLessThan(i.ll.x)||i.ur.x.isLessThan(r.ll.x)||r.ur.y.isLessThan(i.ll.y)||i.ur.y.isLessThan(r.ll.y))return null;let a=i.ll.x.isLessThan(r.ll.x)?r.ll.x:i.ll.x,l=i.ur.x.isLessThan(r.ur.x)?i.ur.x:r.ur.x,p=i.ll.y.isLessThan(r.ll.y)?r.ll.y:i.ll.y,m=i.ur.y.isLessThan(r.ur.y)?i.ur.y:r.ur.y;return{ll:{x:a,y:p},ur:{x:l,y:m}}},gs=(i,r)=>i.x.times(r.y).minus(i.y.times(r.x)),Sa=(i,r)=>i.x.times(r.x).plus(i.y.times(r.y)),wr=i=>Sa(i,i).sqrt(),bl=(i,r,a)=>{let l={x:r.x.minus(i.x),y:r.y.minus(i.y)},p={x:a.x.minus(i.x),y:a.y.minus(i.y)};return gs(p,l).div(wr(p)).div(wr(l))},Aa=(i,r,a)=>{let l={x:r.x.minus(i.x),y:r.y.minus(i.y)},p={x:a.x.minus(i.x),y:a.y.minus(i.y)};return Sa(p,l).div(wr(p)).div(wr(l))},Ie=(i,r,a)=>r.y.isZero()?null:{x:i.x.plus(r.x.div(r.y).times(a.minus(i.y))),y:a},kr=(i,r,a)=>r.x.isZero()?null:{x:a,y:i.y.plus(r.y.div(r.x).times(a.minus(i.x)))},Cl=(i,r,a,l)=>{if(r.x.isZero())return kr(a,l,i.x);if(l.x.isZero())return kr(i,r,a.x);if(r.y.isZero())return Ie(a,l,i.y);if(l.y.isZero())return Ie(i,r,a.y);let p=gs(r,l);if(p.isZero())return null;let m={x:a.x.minus(i.x),y:a.y.minus(i.y)},v=gs(m,r).div(p),C=gs(m,l).div(p),M=i.x.plus(C.times(r.x)),T=a.x.plus(v.times(l.x)),U=i.y.plus(C.times(r.y)),F=a.y.plus(v.times(l.y)),st=M.plus(T).div(2),at=U.plus(F).div(2);return{x:st,y:at}},Ui=class Jp{point;isLeft;segment;otherSE;consumedBy;static compare(r,a){let l=Jp.comparePoints(r.point,a.point);return l!==0?l:(r.point!==a.point&&r.link(a),r.isLeft!==a.isLeft?r.isLeft?1:-1:tr.compare(r.segment,a.segment))}static comparePoints(r,a){return r.x.isLessThan(a.x)?-1:r.x.isGreaterThan(a.x)?1:r.y.isLessThan(a.y)?-1:r.y.isGreaterThan(a.y)?1:0}constructor(r,a){r.events===void 0?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=a}link(r){if(r.point===this.point)throw new Error("Tried to link already linked events");let a=r.point.events;for(let l=0,p=a.length;l<p;l++){let m=a[l];this.point.events.push(m),m.point=this.point}this.checkForConsuming()}checkForConsuming(){let r=this.point.events.length;for(let a=0;a<r;a++){let l=this.point.events[a];if(l.segment.consumedBy===void 0)for(let p=a+1;p<r;p++){let m=this.point.events[p];m.consumedBy===void 0&&l.otherSE.point.events===m.otherSE.point.events&&l.segment.consume(m.segment)}}}getAvailableLinkedEvents(){let r=[];for(let a=0,l=this.point.events.length;a<l;a++){let p=this.point.events[a];p!==this&&!p.segment.ringOut&&p.segment.isInResult()&&r.push(p)}return r}getLeftmostComparator(r){let a=new Map,l=p=>{let m=p.otherSE;a.set(p,{sine:bl(this.point,r.point,m.point),cosine:Aa(this.point,r.point,m.point)})};return(p,m)=>{a.has(p)||l(p),a.has(m)||l(m);let{sine:v,cosine:C}=a.get(p),{sine:M,cosine:T}=a.get(m);return v.isGreaterThanOrEqualTo(0)&&M.isGreaterThanOrEqualTo(0)?C.isLessThan(T)?1:C.isGreaterThan(T)?-1:0:v.isLessThan(0)&&M.isLessThan(0)?C.isLessThan(T)?-1:C.isGreaterThan(T)?1:0:M.isLessThan(v)?-1:M.isGreaterThan(v)?1:0}}},xl=0,tr=class tu{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(r,a){let l=r.leftSE.point.x,p=a.leftSE.point.x,m=r.rightSE.point.x,v=a.rightSE.point.x;if(v.isLessThan(l))return 1;if(m.isLessThan(p))return-1;let C=r.leftSE.point.y,M=a.leftSE.point.y,T=r.rightSE.point.y,U=a.rightSE.point.y;if(l.isLessThan(p)){if(M.isLessThan(C)&&M.isLessThan(T))return 1;if(M.isGreaterThan(C)&&M.isGreaterThan(T))return-1;let F=r.comparePoint(a.leftSE.point);if(F<0)return 1;if(F>0)return-1;let st=a.comparePoint(r.rightSE.point);return st!==0?st:-1}if(l.isGreaterThan(p)){if(C.isLessThan(M)&&C.isLessThan(U))return-1;if(C.isGreaterThan(M)&&C.isGreaterThan(U))return 1;let F=a.comparePoint(r.leftSE.point);if(F!==0)return F;let st=r.comparePoint(a.rightSE.point);return st<0?1:st>0?-1:1}if(C.isLessThan(M))return-1;if(C.isGreaterThan(M))return 1;if(m.isLessThan(v)){let F=a.comparePoint(r.rightSE.point);if(F!==0)return F}if(m.isGreaterThan(v)){let F=r.comparePoint(a.rightSE.point);if(F<0)return 1;if(F>0)return-1}if(!m.eq(v)){let F=T.minus(C),st=m.minus(l),at=U.minus(M),bt=v.minus(p);if(F.isGreaterThan(st)&&at.isLessThan(bt))return 1;if(F.isLessThan(st)&&at.isGreaterThan(bt))return-1}return m.isGreaterThan(v)?1:m.isLessThan(v)||T.isLessThan(U)?-1:T.isGreaterThan(U)?1:r.id<a.id?-1:r.id>a.id?1:0}constructor(r,a,l,p){this.id=++xl,this.leftSE=r,r.segment=this,r.otherSE=a,this.rightSE=a,a.segment=this,a.otherSE=r,this.rings=l,this.windings=p}static fromRing(r,a,l){let p,m,v,C=Ui.comparePoints(r,a);if(C<0)p=r,m=a,v=1;else if(C>0)p=a,m=r,v=-1;else throw new Error(`Tried to create degenerate segment at [${r.x}, ${r.y}]`);let M=new Ui(p,!0),T=new Ui(m,!1);return new tu(M,T,[l],[v])}replaceRightSE(r){this.rightSE=r,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let r=this.leftSE.point.y,a=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:r.isLessThan(a)?r:a},ur:{x:this.rightSE.point.x,y:r.isGreaterThan(a)?r:a}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(r){return r.x.eq(this.leftSE.point.x)&&r.y.eq(this.leftSE.point.y)||r.x.eq(this.rightSE.point.x)&&r.y.eq(this.rightSE.point.y)}comparePoint(r){return Se.orient(this.leftSE.point,r,this.rightSE.point)}getIntersection(r){let a=this.bbox(),l=r.bbox(),p=yo(a,l);if(p===null)return null;let m=this.leftSE.point,v=this.rightSE.point,C=r.leftSE.point,M=r.rightSE.point,T=Hi(a,C)&&this.comparePoint(C)===0,U=Hi(l,m)&&r.comparePoint(m)===0,F=Hi(a,M)&&this.comparePoint(M)===0,st=Hi(l,v)&&r.comparePoint(v)===0;if(U&&T)return st&&!F?v:!st&&F?M:null;if(U)return F&&m.x.eq(M.x)&&m.y.eq(M.y)?null:m;if(T)return st&&v.x.eq(C.x)&&v.y.eq(C.y)?null:C;if(st&&F)return null;if(st)return v;if(F)return M;let at=Cl(m,this.vector(),C,r.vector());return at===null||!Hi(p,at)?null:Se.snap(at)}split(r){let a=[],l=r.events!==void 0,p=new Ui(r,!0),m=new Ui(r,!1),v=this.rightSE;this.replaceRightSE(m),a.push(m),a.push(p);let C=new tu(p,v,this.rings.slice(),this.windings.slice());return Ui.comparePoints(C.leftSE.point,C.rightSE.point)>0&&C.swapEvents(),Ui.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),l&&(p.checkForConsuming(),m.checkForConsuming()),a}swapEvents(){let r=this.rightSE;this.rightSE=this.leftSE,this.leftSE=r,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let a=0,l=this.windings.length;a<l;a++)this.windings[a]*=-1}consume(r){let a=this,l=r;for(;a.consumedBy;)a=a.consumedBy;for(;l.consumedBy;)l=l.consumedBy;let p=tu.compare(a,l);if(p!==0){if(p>0){let m=a;a=l,l=m}if(a.prev===l){let m=a;a=l,l=m}for(let m=0,v=l.rings.length;m<v;m++){let C=l.rings[m],M=l.windings[m],T=a.rings.indexOf(C);T===-1?(a.rings.push(C),a.windings.push(M)):a.windings[T]+=M}l.rings=null,l.windings=null,l.consumedBy=a,l.leftSE.consumedBy=a.leftSE,l.rightSE.consumedBy=a.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let r=this.prev.consumedBy||this.prev;this._beforeState=r.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let r=this.beforeState();this._afterState={rings:r.rings.slice(0),windings:r.windings.slice(0),multiPolys:[]};let a=this._afterState.rings,l=this._afterState.windings,p=this._afterState.multiPolys;for(let C=0,M=this.rings.length;C<M;C++){let T=this.rings[C],U=this.windings[C],F=a.indexOf(T);F===-1?(a.push(T),l.push(U)):l[F]+=U}let m=[],v=[];for(let C=0,M=a.length;C<M;C++){if(l[C]===0)continue;let T=a[C],U=T.poly;if(v.indexOf(U)===-1)if(T.isExterior)m.push(U);else{v.indexOf(U)===-1&&v.push(U);let F=m.indexOf(T.poly);F!==-1&&m.splice(F,1)}}for(let C=0,M=m.length;C<M;C++){let T=m[C].multiPoly;p.indexOf(T)===-1&&p.push(T)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let r=this.beforeState().multiPolys,a=this.afterState().multiPolys;switch(Da.type){case"union":{let l=r.length===0,p=a.length===0;this._isInResult=l!==p;break}case"intersection":{let l,p;r.length<a.length?(l=r.length,p=a.length):(l=a.length,p=r.length),this._isInResult=p===Da.numMultiPolys&&l<p;break}case"xor":{let l=Math.abs(r.length-a.length);this._isInResult=l%2===1;break}case"difference":{let l=p=>p.length===1&&p[0].isSubject;this._isInResult=l(r)!==l(a);break}}return this._isInResult}},vo=class{poly;isExterior;segments;bbox;constructor(i,r,a){if(!Array.isArray(i)||i.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=a,this.segments=[],typeof i[0][0]!="number"||typeof i[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let l=Se.snap({x:new S(i[0][0]),y:new S(i[0][1])});this.bbox={ll:{x:l.x,y:l.y},ur:{x:l.x,y:l.y}};let p=l;for(let m=1,v=i.length;m<v;m++){if(typeof i[m][0]!="number"||typeof i[m][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let C=Se.snap({x:new S(i[m][0]),y:new S(i[m][1])});C.x.eq(p.x)&&C.y.eq(p.y)||(this.segments.push(tr.fromRing(p,C,this)),C.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=C.x),C.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=C.y),C.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=C.x),C.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=C.y),p=C)}(!l.x.eq(p.x)||!l.y.eq(p.y))&&this.segments.push(tr.fromRing(p,l,this))}getSweepEvents(){let i=[];for(let r=0,a=this.segments.length;r<a;r++){let l=this.segments[r];i.push(l.leftSE),i.push(l.rightSE)}return i}},wl=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(i,r){if(!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new vo(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let a=1,l=i.length;a<l;a++){let p=new vo(i[a],this,!1);p.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=p.bbox.ur.y),this.interiorRings.push(p)}this.multiPoly=r}getSweepEvents(){let i=this.exteriorRing.getSweepEvents();for(let r=0,a=this.interiorRings.length;r<a;r++){let l=this.interiorRings[r].getSweepEvents();for(let p=0,m=l.length;p<m;p++)i.push(l[p])}return i}},Qh=class{isSubject;polys;bbox;constructor(i,r){if(!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof i[0][0][0]=="number"&&(i=[i])}catch{}this.polys=[],this.bbox={ll:{x:new S(Number.POSITIVE_INFINITY),y:new S(Number.POSITIVE_INFINITY)},ur:{x:new S(Number.NEGATIVE_INFINITY),y:new S(Number.NEGATIVE_INFINITY)}};for(let a=0,l=i.length;a<l;a++){let p=new wl(i[a],this);p.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=p.bbox.ur.y),this.polys.push(p)}this.isSubject=r}getSweepEvents(){let i=[];for(let r=0,a=this.polys.length;r<a;r++){let l=this.polys[r].getSweepEvents();for(let p=0,m=l.length;p<m;p++)i.push(l[p])}return i}},Qp=class wh{events;poly;_isExteriorRing;_enclosingRing;static factory(r){let a=[];for(let l=0,p=r.length;l<p;l++){let m=r[l];if(!m.isInResult()||m.ringOut)continue;let v=null,C=m.leftSE,M=m.rightSE,T=[C],U=C.point,F=[];for(;v=C,C=M,T.push(C),C.point!==U;)for(;;){let st=C.getAvailableLinkedEvents();if(st.length===0){let At=T[0].point,Ft=T[T.length-1].point;throw new Error(`Unable to complete output ring starting at [${At.x}, ${At.y}]. Last matching segment found ends at [${Ft.x}, ${Ft.y}].`)}if(st.length===1){M=st[0].otherSE;break}let at=null;for(let At=0,Ft=F.length;At<Ft;At++)if(F[At].point===C.point){at=At;break}if(at!==null){let At=F.splice(at)[0],Ft=T.splice(At.index);Ft.unshift(Ft[0].otherSE),a.push(new wh(Ft.reverse()));continue}F.push({index:T.length,point:C.point});let bt=C.getLeftmostComparator(v);M=st.sort(bt)[0].otherSE;break}a.push(new wh(T))}return a}constructor(r){this.events=r;for(let a=0,l=r.length;a<l;a++)r[a].segment.ringOut=this;this.poly=null}getGeom(){let r=this.events[0].point,a=[r];for(let T=1,U=this.events.length-1;T<U;T++){let F=this.events[T].point,st=this.events[T+1].point;Se.orient(F,r,st)!==0&&(a.push(F),r=F)}if(a.length===1)return null;let l=a[0],p=a[1];Se.orient(l,r,p)===0&&a.shift(),a.push(a[0]);let m=this.isExteriorRing()?1:-1,v=this.isExteriorRing()?0:a.length-1,C=this.isExteriorRing()?a.length:-1,M=[];for(let T=v;T!=C;T+=m)M.push([a[T].x.toNumber(),a[T].y.toNumber()]);return M}isExteriorRing(){if(this._isExteriorRing===void 0){let r=this.enclosingRing();this._isExteriorRing=r?!r.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let r=this.events[0];for(let p=1,m=this.events.length;p<m;p++){let v=this.events[p];Ui.compare(r,v)>0&&(r=v)}let a=r.segment.prevInResult(),l=a?a.prevInResult():null;for(;;){if(!a)return null;if(!l)return a.ringOut;if(l.ringOut!==a.ringOut)return l.ringOut?.enclosingRing()!==a.ringOut?a.ringOut:a.ringOut?.enclosingRing();a=l.prevInResult(),l=a?a.prevInResult():null}}},tc=class{exteriorRing;interiorRings;constructor(i){this.exteriorRing=i,i.poly=this,this.interiorRings=[]}addInterior(i){this.interiorRings.push(i),i.poly=this}getGeom(){let i=this.exteriorRing.getGeom();if(i===null)return null;let r=[i];for(let a=0,l=this.interiorRings.length;a<l;a++){let p=this.interiorRings[a].getGeom();p!==null&&r.push(p)}return r}},t_=class{rings;polys;constructor(i){this.rings=i,this.polys=this._composePolys(i)}getGeom(){let i=[];for(let r=0,a=this.polys.length;r<a;r++){let l=this.polys[r].getGeom();l!==null&&i.push(l)}return i}_composePolys(i){let r=[];for(let a=0,l=i.length;a<l;a++){let p=i[a];if(!p.poly)if(p.isExteriorRing())r.push(new tc(p));else{let m=p.enclosingRing();m?.poly||r.push(new tc(m)),m?.poly?.addInterior(p)}}return r}},e_=class{queue;tree;segments;constructor(i,r=tr.compare){this.queue=i,this.tree=new yt(r),this.segments=[]}process(i){let r=i.segment,a=[];if(i.consumedBy)return i.isLeft?this.queue.delete(i.otherSE):this.tree.delete(r),a;i.isLeft&&this.tree.add(r);let l=r,p=r;do l=this.tree.lastBefore(l);while(l!=null&&l.consumedBy!=null);do p=this.tree.firstAfter(p);while(p!=null&&p.consumedBy!=null);if(i.isLeft){let m=null;if(l){let C=l.getIntersection(r);if(C!==null&&(r.isAnEndpoint(C)||(m=C),!l.isAnEndpoint(C))){let M=this._splitSafely(l,C);for(let T=0,U=M.length;T<U;T++)a.push(M[T])}}let v=null;if(p){let C=p.getIntersection(r);if(C!==null&&(r.isAnEndpoint(C)||(v=C),!p.isAnEndpoint(C))){let M=this._splitSafely(p,C);for(let T=0,U=M.length;T<U;T++)a.push(M[T])}}if(m!==null||v!==null){let C=null;m===null?C=v:v===null?C=m:C=Ui.comparePoints(m,v)<=0?m:v,this.queue.delete(r.rightSE),a.push(r.rightSE);let M=r.split(C);for(let T=0,U=M.length;T<U;T++)a.push(M[T])}a.length>0?(this.tree.delete(r),a.push(i)):(this.segments.push(r),r.prev=l)}else{if(l&&p){let m=l.getIntersection(p);if(m!==null){if(!l.isAnEndpoint(m)){let v=this._splitSafely(l,m);for(let C=0,M=v.length;C<M;C++)a.push(v[C])}if(!p.isAnEndpoint(m)){let v=this._splitSafely(p,m);for(let C=0,M=v.length;C<M;C++)a.push(v[C])}}}this.tree.delete(r)}return a}_splitSafely(i,r){this.tree.delete(i);let a=i.rightSE;this.queue.delete(a);let l=i.split(r);return l.push(a),i.consumedBy===void 0&&this.tree.add(i),l}},i_=class{type;numMultiPolys;run(i,r,a){Lo.type=i;let l=[new Qh(r,!0)];for(let M=0,T=a.length;M<T;M++)l.push(new Qh(a[M],!1));if(Lo.numMultiPolys=l.length,Lo.type==="difference"){let M=l[0],T=1;for(;T<l.length;)yo(l[T].bbox,M.bbox)!==null?T++:l.splice(T,1)}if(Lo.type==="intersection")for(let M=0,T=l.length;M<T;M++){let U=l[M];for(let F=M+1,st=l.length;F<st;F++)if(yo(U.bbox,l[F].bbox)===null)return[]}let p=new yt(Ui.compare);for(let M=0,T=l.length;M<T;M++){let U=l[M].getSweepEvents();for(let F=0,st=U.length;F<st;F++)p.add(U[F])}let m=new e_(p),v=null;for(p.size!=0&&(v=p.first(),p.delete(v));v;){let M=m.process(v);for(let T=0,U=M.length;T<U;T++){let F=M[T];F.consumedBy===void 0&&p.add(F)}p.size!=0?(v=p.first(),p.delete(v)):v=null}Se.reset();let C=Qp.factory(m.segments);return new t_(C).getGeom()}},Lo=new i_,Da=Lo,n_=(i,...r)=>Da.run("intersection",i,r),r_=(i,...r)=>Da.run("difference",i,r);Se.set;function Ra(i){let r={type:"Feature"};return r.geometry=i,r}function Oa(i){return i.type==="Feature"?i.geometry:i}function ec(i){return i&&i.geometry&&i.geometry.coordinates?i.geometry.coordinates:i}function s_(i){return Ra({type:"LineString",coordinates:i})}function o_(i){return Ra({type:"MultiLineString",coordinates:i})}function ic(i){return Ra({type:"Polygon",coordinates:i})}function nc(i){return Ra({type:"MultiPolygon",coordinates:i})}function a_(i,r){let a=Oa(i),l=Oa(r),p=n_(a.coordinates,l.coordinates);return p.length===0?null:p.length===1?ic(p[0]):nc(p)}function u_(i,r){let a=Oa(i),l=Oa(r),p=r_(a.coordinates,l.coordinates);return p.length===0?null:p.length===1?ic(p[0]):nc(p)}function rc(i){return Array.isArray(i)?1+rc(i[0]):-1}function l_(i){i instanceof L.Polyline&&(i=i.toGeoJSON(15));let r=ec(i),a=rc(r),l=[];return a>1?r.forEach(p=>{l.push(s_(p))}):l.push(i),l}function h_(i){let r=[];return i.eachLayer(a=>{r.push(ec(a.toGeoJSON(15)))}),o_(r)}$e.Cut=$e.Polygon.extend({initialize(i){this._map=i,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let i=this._layer.getLatLngs();if(i.length<=2)return;let r=L.polygon(i,this.options.pathOptions);r._latlngInfos=this._layer._latlngInfo,this.cut(r),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:l,originalLayer:p})=>{this._fireCut(p,l,p),this._fireCut(this._map,l,p),p.pm._fireEdit()}),this._editedLayers=[];let a=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(a))},cut(i){let r=this._map._layers,a=i._latlngInfos||[];Object.keys(r).map(l=>r[l]).filter(l=>l.pm).filter(l=>!l._pmTempLayer).filter(l=>!L.PM.optIn&&!l.options.pmIgnore||L.PM.optIn&&l.options.pmIgnore===!1).filter(l=>l instanceof L.Polyline).filter(l=>l!==i).filter(l=>l.pm.options.allowCutting).filter(l=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(l)>-1:!0).filter(l=>!this._layerGroup.hasLayer(l)).filter(l=>{try{let p=!!Gi(i.toGeoJSON(15),l.toGeoJSON(15)).features.length>0;return p||l instanceof L.Polyline&&!(l instanceof L.Polygon)?p:!!a_(i.toGeoJSON(15),l.toGeoJSON(15))}catch{return l instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(l=>{let p;if(l instanceof L.Polygon){p=L.polygon(l.getLatLngs());let M=p.getLatLngs();a.forEach(T=>{if(T&&T.snapInfo){let{latlng:U}=T,F=this._calcClosestLayer(U,[p]);if(F&&F.segment&&F.distance<this.options.snapDistance){let{segment:st}=F;if(st&&st.length===2){let{indexPath:at,parentPath:bt,newIndex:At}=L.PM.Utils._getIndexFromSegment(M,st);(at.length>1?(0,tn.default)(M,bt):M).splice(At,0,U)}}}})}else p=l;let m=this._cutLayer(i,p),v=L.geoJSON(m,l.options);v.getLayers().length===1&&([v]=v.getLayers()),this._setPane(v,"layerPane");let C=v.addTo(this._map.pm._getContainingLayer());if(C.pm.enable(l.pm.options),C.pm.disable(),l._pmTempLayer=!0,i._pmTempLayer=!0,l.remove(),l.removeFrom(this._map.pm._getContainingLayer()),i.remove(),i.removeFrom(this._map.pm._getContainingLayer()),C.getLayers&&C.getLayers().length===0&&this._map.pm.removeLayer({target:C}),C instanceof L.LayerGroup?(C.eachLayer(M=>{this._addDrawnLayerProp(M)}),this._addDrawnLayerProp(C)):this._addDrawnLayerProp(C),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let M=this.options.layersToCut.indexOf(l);M>-1&&this.options.layersToCut.splice(M,1)}this._editedLayers.push({layer:C,originalLayer:l})})},_cutLayer(i,r){let a=L.geoJSON(),l;if(r instanceof L.Polygon)l=u_(r.toGeoJSON(15),i.toGeoJSON(15));else{let p=l_(r);p.forEach(m=>{let v=dl(m,i.toGeoJSON(15)),C;v&&v.features.length>0?C=L.geoJSON(v):C=L.geoJSON(m),C.getLayers().forEach(M=>{_l(i.toGeoJSON(15),M.toGeoJSON(15))||M.addTo(a)})}),p.length>1?l=h_(a):l=a.toGeoJSON(15)}return l},_change:L.Util.falseFn}),$e.Text=$e.extend({initialize(i){this._map=i,this._shape="Text",this.toolbarButtonName="drawText"},enable(i){L.Util.setOptions(this,i),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(ee("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let r=i;r.target=this._hintMarker,this._handleSnapping(r)}},_createMarker(i){if(!i.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let r=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let p=this.options.textOptions.className.split(" ");this.textArea.classList.add(...p)}let a=this._createTextIcon(this.textArea),l=new L.Marker(r,{textMarker:!0,_textMarkerOverPM:!0,icon:a});if(this._setPane(l,"markerPane"),this._finishLayer(l),l.pm||(l.options.draggable=!1),l.addTo(this._map.pm._getContainingLayer()),l.pm){l.pm.textArea=this.textArea,L.setOptions(l.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let p=this.options.textOptions?.focusAfterDraw??!0;l.pm._createTextMarker(p),this.options.textOptions?.text&&l.pm.setText(this.options.textOptions.text)}this._fireCreate(l),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(i){this.enable(),this._hintMarker.setLatLng(i.latlng)},_createTextArea(){let i=document.createElement("textarea");return i.readOnly=!0,i.classList.add("pm-textarea","pm-disabled"),i},_createTextIcon(i){return L.divIcon({className:"pm-text-marker",html:i})}});var c_={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,oi(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let i=this._getDOMElem();i&&(oi(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(i)):L.DomEvent.on(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,oi(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let i=this._getDOMElem();i&&(oi(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(i)):L.DomEvent.off(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(i){let r=i.touches?i.touches[0]:i,a={originalEvent:r,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseDown(a),!1},_simulateMouseMoveEvent(i){let r=i.touches?i.touches[0]:i,a={originalEvent:r,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseMove(a),!1},_simulateMouseUpEvent(i){let r={originalEvent:i.touches?i.touches[0]:i,target:this._layer};return i.type.indexOf("touch")===-1&&(r.containerPoint=this._map.mouseEventToContainerPoint(i),r.latlng=this._map.containerPointToLatLng(r.containerPoint)),this._dragMixinOnMouseUp(r),!1},_dragMixinOnMouseDown(i){if(i.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(i);let r=i._fromLayerSync,a=this._syncLayers("_dragMixinOnMouseDown",i);if(this._layer instanceof L.Marker&&(this.options.snappable&&!r&&!a?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let l="resizeableCircleMarker";this._layer instanceof L.Circle&&(l="resizeableCircle"),this.options.snappable&&!r&&!a?this._layer.pm.options[l]||this._initSnappableMarkersDrag():this._layer.pm.options[l]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=i.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(i){this._overwriteEventIfItComesFromMarker(i);let r=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",i),this._dragging||(this._dragging=!0,L.DomUtil.addClass(r,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=i.latlng),this._onLayerDrag(i),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(i){let r=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",i),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,r&&L.DomUtil.removeClass(r,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(i){let{latlng:r}=i,a={lat:r.lat-this._tempDragCoord.lat,lng:r.lng-this._tempDragCoord.lng},l=p=>p.map(m=>{if(Array.isArray(m))return l(m);let v={lat:m.lat+a.lat,lng:m.lng+a.lng};return(m.alt||m.alt===0)&&(v.alt=m.alt),v});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let p=l([this._layer.getLatLng()]);this._layer.setLatLng(p[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let p=this._layer.getLatLng();this._layer._snapped&&(p=this._layer._orgLatLng);let m=l([p]);this._layer.setLatLng(m[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let p=l([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(p),this._fireChange(this._layer.getBounds(),"Edit")}else{let p=l(this._layer.getLatLngs());this._layer.setLatLngs(p),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=r,i.layer=this._layer,this._fireDrag(i)},addDraggingClass(){let i=this._getDOMElem();i&&L.DomUtil.addClass(i,"leaflet-pm-draggable")},removeDraggingClass(){let i=this._getDOMElem();i&&L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_getDOMElem(){let i=null;return this._layer._path?i=this._layer._path:this._layer._renderer&&this._layer._renderer._container?i=this._layer._renderer._container:this._layer._image?i=this._layer._image:this._layer._icon&&(i=this._layer._icon),i},_overwriteEventIfItComesFromMarker(i){i.target.getLatLng&&(!i.target._radius||i.target._radius<=10)&&(i.containerPoint=this._map.mouseEventToContainerPoint(i.originalEvent),i.latlng=this._map.containerPointToLatLng(i.containerPoint))},_syncLayers(i,r){if(this.enabled())return!1;if(!r._fromLayerSync&&this._layer===r.target&&this.options.syncLayersOnDrag){r._fromLayerSync=!0;let a=[];if(L.Util.isArray(this.options.syncLayersOnDrag))a=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(l=>{l instanceof L.LayerGroup&&(a=a.concat(l.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let l in this._parentLayerGroup){let p=this._parentLayerGroup[l];p.pm&&(a=p.pm.getLayers(!0))}return L.Util.isArray(a)&&a.length>0&&(a=a.filter(l=>!!l.pm).filter(l=>!!l.pm.options.draggable),a.forEach(l=>{l!==this._layer&&l.pm[i]&&(l._snapped=!1,l.pm[i](r))})),a.length>0}return!1},_stopDOMImageDrag(i){return i.preventDefault(),!1}},f_=c_,d_=y(ln());function p_(i,r,a,l){return a.unproject(r.transform(a.project(i,l)),l)}function sc(i,r,a){let l=a.getMaxZoom();if(l===1/0&&(l=a.getZoom()),L.Util.isArray(i)){let p=[];return i.forEach(m=>{p.push(sc(m,r,a))}),p}return i instanceof L.LatLng?p_(i,r,a,l):null}function ms(i,r){r instanceof L.Layer&&(r=r.getLatLng());let a=i.getMaxZoom();return a===1/0&&(a=i.getZoom()),i.project(r,a)}function Ia(i,r){let a=i.getMaxZoom();return a===1/0&&(a=i.getZoom()),i.unproject(r,a)}var __={_onRotateStart(i){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=ms(this._map,this._rotationOriginLatLng),this._rotationStartPoint=ms(this._map,i.target.getLatLng()),this._initialRotateLatLng=Ni(this._layer),this._startAngle=this.getAngle();let r=Ni(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,r),this._fireRotationStart(this._map,r)},_onRotate(i){let r=ms(this._map,i.target.getLatLng()),a=this._rotationStartPoint,l=this._rotationOriginPoint,p=Math.atan2(r.y-l.y,r.x-l.x)-Math.atan2(a.y-l.y,a.x-l.x);this._layer.setLatLngs(this._rotateLayer(p,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let m=this;function v(U,F=[],st=-1){if(st>-1&&F.push(st),L.Util.isArray(U[0]))U.forEach((at,bt)=>v(at,F.slice(),bt));else{let at=F.length>0?(0,d_.default)(m._markers,F):m._markers[0];U.forEach((bt,At)=>{at[At].setLatLng(bt)})}}v(this._layer.getLatLngs());let C=Ni(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(p,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let M=p*180/Math.PI;M=M<0?M+360:M;let T=M+this._startAngle;this._setAngle(T),this._rotationLayer.pm._setAngle(T),this._fireRotation(this._rotationLayer,M,C),this._fireRotation(this._map,M,C),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let i=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let r=Ni(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Ni(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,i,r),this._fireRotationEnd(this._map,i,r),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(i,r,a,l,p){let m=ms(p,a);return this._matrix=l.clone().rotate(i,m).flip(),sc(r,this._matrix,p)},_setAngle(i){i=i<0?i+360:i,this._angle=i%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let i=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),r=i.getCenter();return i.removeFrom(this._layer._map),r},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Jr(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let i={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),i),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Ni(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(i){let r=this.getAngle(),a=this._layer.getLatLngs(),l=i*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(l,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+i),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(l,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let p=this.getAngle()-r;p=p<0?p+360:p,this._startAngle=r,this._fireRotation(this._layer,p,a,this._layer),this._fireRotation(this._map||this._layer._map,p,a,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(i){let r=i-this.getAngle();this.rotateLayer(r)},getAngle(){return this._angle||0},setInitAngle(i){this._setAngle(i)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(i){this._rotationCenter=i,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(i)}},g_=__,m_=L.Class.extend({includes:[f_,uo,g_,$r],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(i){L.Util.setOptions(this,i)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(i,r){r==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(i,r){let a=r.target,l={layer:this._layer,marker:a,event:r},p="";return i==="move"?p="moveVertexValidation":i==="add"?p="addVertexValidation":i==="remove"&&(p="removeVertexValidation"),this.options[p]&&typeof this.options[p]=="function"&&!this.options[p](l)?(i==="move"&&(a._cancelDragEventChain=a.getLatLng()),!1):(a._cancelDragEventChain=null,!0)},_vertexValidationDrag(i){return i._cancelDragEventChain?(i._latlng=i._cancelDragEventChain,i.update(),!1):!0},_vertexValidationDragEnd(i){return i._cancelDragEventChain?(i._cancelDragEventChain=null,!1):!0}}),ii=m_;ii.LayerGroup=L.Class.extend({initialize(i){this._layerGroup=i,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(l=>this._initLayer(l));let r=l=>{if(l.layer._pmTempLayer)return;this._layers=this.getLayers();let p=this._layers.filter(m=>!m.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in m.pm._parentLayerGroup));p.forEach(m=>{this._initLayer(m)}),p.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(r,100,this),this),this._layerGroup.on("layerremove",l=>{this._removeLayerFromGroup(l.target)},this);let a=l=>{l.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(a,100,this),this)},enable(i,r=[]){r.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(a=>{a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.enable(i,r)):a.pm.enable(i)})},disable(i=[]){i.length===0&&(this._layers=this.getLayers()),this._layers.forEach(r=>{r instanceof L.LayerGroup?i.indexOf(r._leaflet_id)===-1&&(i.push(r._leaflet_id),r.pm.disable(i)):r.pm.disable()})},enabled(i=[]){return i.length===0&&(this._layers=this.getLayers()),!!this._layers.find(r=>r instanceof L.LayerGroup?i.indexOf(r._leaflet_id)===-1?(i.push(r._leaflet_id),r.pm.enabled(i)):!1:r.pm.enabled())},toggleEdit(i,r=[]){r.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(a=>{a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.toggleEdit(i,r)):a.pm.toggleEdit(i)})},_initLayer(i){let r=L.Util.stamp(this._layerGroup);i.pm._parentLayerGroup||(i.pm._parentLayerGroup={}),i.pm._parentLayerGroup[r]=this._layerGroup},_removeLayerFromGroup(i){if(i.pm&&i.pm._layerGroup){let r=L.Util.stamp(this._layerGroup);delete i.pm._layerGroup[r]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(i=>i.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(i=>!!i._map)?._map||null},getLayers(i=!1,r=!0,a=!0,l=[]){let p=[];return i?this._layerGroup.getLayers().forEach(m=>{p.push(m),m instanceof L.LayerGroup&&l.indexOf(m._leaflet_id)===-1&&(l.push(m._leaflet_id),p=p.concat(m.pm.getLayers(!0,!0,!0,l)))}):p=this._layerGroup.getLayers(),a&&(p=p.filter(m=>!(m instanceof L.LayerGroup))),r&&(p=p.filter(m=>!!m.pm),p=p.filter(m=>!m._pmTempLayer),p=p.filter(m=>!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&m.options.pmIgnore===!1)),p},setOptions(i,r=[]){r.length===0&&(this._layers=this.getLayers()),this.options=i,this._layers.forEach(a=>{a.pm&&(a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.setOptions(i,r)):a.pm.setOptions(i))})}}),ii.Marker=ii.extend({_shape:"Marker",initialize(i){this._layer=i,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(i={draggable:!0}){if(L.Util.setOptions(this,i),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(i){let r=i.target;r.remove(),this._fireRemove(r),this._fireRemove(this._map,r)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)}});var er=y(ln()),y_={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let i=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=i.filter((r,a,l)=>l.indexOf(r)===a)},_removeFromCache(i){let r=this.markerCache.indexOf(i);r>-1&&this.markerCache.splice(r,1)},renderLimits(i){this.markerCache.forEach(r=>{i.includes(r)?this._markerGroup.addLayer(r):this._markerGroup.removeLayer(r)})},applyLimitFilters({latlng:i={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let r=[...this._filterClosestMarkers(i)];this.renderLimits(r)},_filterClosestMarkers(i){let r=[...this.markerCache],a=this.options.limitMarkersToCount;return a===-1?r:(r.sort((l,p)=>{let m=l._latlng.distanceTo(i),v=p._latlng.distanceTo(i);return m-v}),r.filter((l,p)=>a>-1?p<a:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(i){this._preventRenderMarkers=!!i}},v_=y_;ii.Line=ii.extend({includes:[v_],_shape:"Line",initialize(i){this._layer=i,this._enabled=!1},enable(i){if(L.Util.setOptions(this,i),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(i){return this.enabled()?this.disable():this.enable(i),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let i=this._map,r=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(i),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let a=l=>{if(Array.isArray(l[0]))return l.map(a,this);let p=l.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&l.map((m,v)=>{let C=this.isPolygon()?(v+1)%l.length:v+1;return this._createMiddleMarker(p[v],p[C])}),p};this._markers=a(r),this.filterMarkerGroup(),i.addLayer(this._markerGroup)},_createMarker(i){let r=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this.options.rotate?(r.on("dragstart",this._onRotateStart,this),r.on("drag",this._onRotate,this),r.on("dragend",this._onRotateEnd,this)):(r.on("click",this._onVertexClick,this),r.on("dragstart",this._onMarkerDragStart,this),r.on("move",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||r.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(r),r},_createMiddleMarker(i,r){if(!i||!r)return!1;let a=L.PM.Utils.calcMiddleLatLng(this._map,i.getLatLng(),r.getLatLng()),l=this._createMarker(a),p=L.divIcon({className:"marker-icon marker-icon-middle"});return l.setIcon(p),l.leftM=i,l.rightM=r,i._middleMarkerNext=l,r._middleMarkerPrev=l,l.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),l.on("movestart",this._onMiddleMarkerMoveStart,this),l},_onMiddleMarkerClick(i){let r=i.target;if(!this._vertexValidation("add",i))return;let a=L.divIcon({className:"marker-icon"});r.setIcon(a),this._addMarker(r,r.leftM,r.rightM)},_onMiddleMarkerMoveStart(i){let r=i.target;if(r.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",i)){r.on("move",this._onMiddleMarkerMovePrevent,this);return}r._dragging=!0,this._addMarker(r,r.leftM,r.rightM)},_onMiddleMarkerMovePrevent(i){let r=i.target;this._vertexValidationDrag(r)},_onMiddleMarkerMoveEnd(i){let r=i.target;if(r.off("move",this._onMiddleMarkerMovePrevent,this),r.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(r))return;let a=L.divIcon({className:"marker-icon"});r.setIcon(a),setTimeout(()=>{delete r._dragging},100)},_addMarker(i,r,a){i.off("movestart",this._onMiddleMarkerMoveStart,this),i.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let l=i.getLatLng(),p=this._layer._latlngs;delete i.leftM,delete i.rightM;let{indexPath:m,index:v,parentPath:C}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),M=m.length>1?(0,er.default)(p,C):p,T=m.length>1?(0,er.default)(this._markers,C):this._markers;M.splice(v+1,0,l),T.splice(v+1,0,i),this._layer.setLatLngs(p),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(r,i),this._createMiddleMarker(i,a)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(i,L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath,l),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Qr(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(i){let r=this._layer,a,l;if(this.options.allowSelfIntersection?a=!1:(l=Qr(this._layer.toGeoJSON(15)),a=l.features.length>0),a){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return a;i?this._flashLayer():(r.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(l)}else r.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return a},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(i,r){i.forEach(a=>{Array.isArray(a)?this._updateDisabledMarkerStyle(a,r):a._icon&&(r&&!this._checkMarkerAllowedToDrag(a)?L.DomUtil.addClass(a._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(a._icon,"vertexmarker-disabled"))})},_removeMarker(i){let r=i.target;if(!this._vertexValidation("remove",i))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=Ni(this._layer,this._layer.getLatLngs()));let a=this._layer.getLatLngs(),{indexPath:l,index:p,parentPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);if(!l)return;let v=l.length>1?(0,er.default)(a,m):a,C=l.length>1?(0,er.default)(this._markers,m):this._markers,M=m[m.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!M&&(v.length<=2||this.isPolygon()&&v.length<=3)){this._flashLayer();return}v.splice(p,1),this._layer.setLatLngs(a),this.isPolygon()&&v.length<=2&&v.splice(0,v.length);let T=!1;if(v.length<=1&&(v.splice(0,v.length),m.length>1&&l.length>1&&(a=mr(a)),this._layer.setLatLngs(a),this._initMarkers(),T=!0),Mn(a)||this._layer.remove(),a=mr(a),this._layer.setLatLngs(a),this._markers=mr(this._markers),!T&&(C=l.length>1?(0,er.default)(this._markers,m):this._markers,r._middleMarkerPrev&&(this._markerGroup.removeLayer(r._middleMarkerPrev),this._removeFromCache(r._middleMarkerPrev)),r._middleMarkerNext&&(this._markerGroup.removeLayer(r._middleMarkerNext),this._removeFromCache(r._middleMarkerNext)),this._markerGroup.removeLayer(r),this._removeFromCache(r),C)){let U,F;if(this.isPolygon()?(U=(p+1)%C.length,F=(p+(C.length-1))%C.length):(F=p-1<0?void 0:p-1,U=p+1>=C.length?void 0:p+1),U!==F){let st=C[F],at=C[U];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(st,at)}C.splice(p,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(r,l),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(i){let r=this._layer.getLatLngs(),a=i.getLatLng(),{indexPath:l,index:p,parentPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);(l.length>1?(0,er.default)(r,m):r).splice(p,1,a),this._layer.setLatLngs(r)},_getNeighborMarkers(i){let{indexPath:r,index:a,parentPath:l}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),p=r.length>1?(0,er.default)(this._markers,l):this._markers,m=(a+1)%p.length,v=(a+(p.length-1))%p.length,C=p[v],M=p[m];return{prevMarker:C,nextMarker:M}},_checkMarkerAllowedToDrag(i){let{prevMarker:r,nextMarker:a}=this._getNeighborMarkers(i),l=L.polyline([r.getLatLng(),i.getLatLng()]),p=L.polyline([i.getLatLng(),a.getLatLng()]),m=Gi(this._layer.toGeoJSON(15),l.toGeoJSON(15)).features.length,v=Gi(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length;return i.getLatLng()===this._markers[0][0].getLatLng()?v+=1:i.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(m+=1),!(m<=2&&v<=2)},_onMarkerDragStart(i){let r=i.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",i))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragStart(i,a),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Ni(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(r):this._markerAllowedToDrag=null},_onMarkerDrag(i){let r=i.target;if(!this._vertexValidationDrag(r))return;let{indexPath:a,index:l,parentPath:p}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);if(!a)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(r);let m=a.length>1?(0,er.default)(this._markers,p):this._markers,v=(l+1)%m.length,C=(l+(m.length-1))%m.length,M=r.getLatLng(),T=m[C].getLatLng(),U=m[v].getLatLng();if(r._middleMarkerNext){let F=L.PM.Utils.calcMiddleLatLng(this._map,M,U);r._middleMarkerNext.setLatLng(F)}if(r._middleMarkerPrev){let F=L.PM.Utils.calcMiddleLatLng(this._map,M,T);r._middleMarkerPrev.setLatLng(F)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(i,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(i){let r=i.target;if(!this._vertexValidationDragEnd(r))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),l=!this.options.allowSelfIntersection&&this.hasSelfIntersection();l&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(l=!1);let p=!this.options.allowSelfIntersection&&l;if(this._fireMarkerDragEnd(i,a,p),p){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(i,a);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(i){let r=i.target;if(r._dragging)return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireVertexClick(i,a)}}),ii.Polygon=ii.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(i){let{prevMarker:r,nextMarker:a}=this._getNeighborMarkers(i),l=L.polyline([r.getLatLng(),i.getLatLng()]),p=L.polyline([i.getLatLng(),a.getLatLng()]),m=Gi(this._layer.toGeoJSON(15),l.toGeoJSON(15)).features.length,v=Gi(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length;return!(m<=2&&v<=2)}}),ii.Rectangle=ii.Polygon.extend({_shape:"Rectangle",_initMarkers(){let i=this._map,r=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,i.addLayer(this._markerGroup),this._markers=[],this._markers[0]=r.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((a,l)=>{let p=this._cornerMarkers.find(m=>m._index===l);p&&p.setLatLng(a)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(i,r){let a=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=i,a._index=r,a._pmTempLayer=!0,a.on("click",this._onVertexClick,this),this._markerGroup.addLayer(a),a},_addMarkerEvents(){this._markers[0].forEach(i=>{i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||i.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(i){if(!this._vertexValidation("move",i))return;let r=i.target,a=this._cornerMarkers;r._oppositeCornerLatLng=a.find(p=>p._index===(r._index+2)%4).getLatLng(),r._snapped=!1;let{indexPath:l}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragStart(i,l)},_onMarkerDrag(i){let r=i.target;if(!this._vertexValidationDrag(r)||r._index===void 0)return;this._adjustRectangleForMarkerMove(r);let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDrag(i,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(i){let r=i.target;if(!this._vertexValidationDragEnd(r))return;this._cornerMarkers.forEach(l=>{delete l._oppositeCornerLatLng});let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragEnd(i,a),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(i){L.extend(i._origLatLng,i._latlng);let r=L.PM.Utils._getRotatedRectangle(i.getLatLng(),i._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(r),this._adjustAllMarkers(i),this._layer.redraw()},_adjustAllMarkers(i){let r=this._layer.getLatLngs()[0];if(r&&r.length!==4&&r.length>0)r.forEach((a,l)=>{this._cornerMarkers[l].setLatLng(a)}),this._cornerMarkers.slice(r.length).forEach(a=>{a.setLatLng(r[0])});else if(!r||!r.length)console.error("The layer has no LatLngs");else{let a=r.findIndex(l=>i.getLatLng().equals(l));a>-1?(this._cornerMarkers[(i._index+1)%4].setLatLng(r[(a+1)%4]),this._cornerMarkers[(i._index+2)%4].setLatLng(r[(a+2)%4]),this._cornerMarkers[(i._index+3)%4].setLatLng(r[(a+3)%4])):this._cornerMarkers.forEach(l=>{l.setLatLng(r[l._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(Jr(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let i=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(i[0],i[2],this.getAngle(),this._map||this)}}),ii.CircleMarker=ii.extend({_shape:"CircleMarker",initialize(i){this._layer=i,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(i={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,i),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let i=this._map;this._helperLayers&&(this._helperLayers.removeFrom(i),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);let r=this._layer.getLatLng(),a=this._layer._radius,l=this._getLatLngOnCircle(r,a);this._centerMarker=this._createCenterMarker(r),this._outerMarker=this._createOuterMarker(l),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(i,r){let a=this._map.project(i),l=L.point(a.x+r,a.y);return this._map.unproject(l)},_createHintLine(i,r){let a=i.getLatLng(),l=r.getLatLng();this._hintline=L.polyline([a,l],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(i){let r=this._createMarker(i);return this.options.draggable?(L.DomUtil.addClass(r._icon,"leaflet-pm-draggable"),r.on("move",this._moveCircle,this)):r.dragging.disable(),r},_createOuterMarker(i){let r=this._createMarker(i);return r.on("drag",this._resizeCircle,this),r},_createMarker(i){let r=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._origLatLng=i,r._pmTempLayer=!0,r.on("dragstart",this._onMarkerDragStart,this),r.on("drag",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),r.on("click",this._onVertexClick,this),this._helperLayers.addLayer(r),r},_moveCircle(i){if(i.target._cancelDragEventChain)return;let r=this._centerMarker.getLatLng();this._layer.setLatLng(r);let a=this._layer._radius,l=this._getLatLngOnCircle(r,a);this._outerMarker._latlng=l,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let i=this._layer.getLatLng(),r=this._layer._radius,a=this._getLatLngOnCircle(i,r);this._outerMarker.setLatLng(a),this._centerMarker.setLatLng(i),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let i=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),a=this._distanceCalculation(i,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let i=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,r])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(i){this._vertexValidation("move",i)&&this._fireMarkerDragStart(i)},_onMarkerDrag(i){let r=i.target;r instanceof L.Marker&&!this._vertexValidationDrag(r)||this._fireMarkerDrag(i)},_onMarkerDragEnd(i){this._extedingMarkerDragEnd();let r=i.target;this._vertexValidationDragEnd(r)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(i))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let i=this._layer._map||this._map;if(i){let r=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),i,this._layer.getLatLng()),a=L.circle(this._layer.getLatLng(),this._layer.options);a.setRadius(r);let l=i&&i.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(a,200,!l).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(a,200,!l),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let i=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),a=this._distanceCalculation(i,r);return this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?r=Xr(this._map,i,r,this._getMinDistanceInMeter(i)):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(r=Xr(this._map,i,r,this._getMaxDistanceInMeter(i))),r},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let i=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),a=this._distanceCalculation(i,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(i,r){return this._map.project(i).distanceTo(this._map.project(r))},_getMinDistanceInMeter(i){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,i)},_getMaxDistanceInMeter(i){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,i)},_onVertexClick(i){i.target._dragging||this._fireVertexClick(i,void 0)}}),ii.Circle=ii.CircleMarker.extend({_shape:"Circle",initialize(i){this._layer=i,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(i){L.PM.Edit.CircleMarker.prototype.enable.call(this,i||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let i=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!i).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!i),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(i,r){return this._map.distance(i,r)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(i){i.target._dragging||this._fireVertexClick(i,void 0)}}),ii.ImageOverlay=ii.extend({_shape:"ImageOverlay",initialize(i){this._layer=i,this._enabled=!1},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},enabled(){return this._enabled},enable(i={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,i),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let i=this._layer.getBounds(),r=i.getNorthWest(),a=i.getNorthEast(),l=i.getSouthEast(),p=i.getSouthWest();return[r,a,l,p]}}),ii.Text=ii.extend({_shape:"Text",initialize(i){this._layer=i,this._enabled=!1},enable(i){if(L.Util.setOptions(this,i),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let i=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),i.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let i=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,r=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${i}px`,this.textArea.style.width=`${r}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(i){i.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(i={}){let r=this._hasFocus;this._hasFocus=i.type==="focus",!r!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(i){i&&(this.textArea.value=i),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let r=this.options.className.split(" ");this.textArea.classList.add(...r)}let i=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(i),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(i=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),i===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(i){i.preventDefault()}});var kl=function(i,r,a,l,p,m){this._matrix=[i,r,a,l,p,m]};kl.init=()=>new L.PM.Matrix(1,0,0,1,0,0),kl.prototype={transform(i){return this._transform(i.clone())},_transform(i){let r=this._matrix,{x:a,y:l}=i;return i.x=r[0]*a+r[1]*l+r[4],i.y=r[2]*a+r[3]*l+r[5],i},untransform(i){let r=this._matrix;return new L.Point((i.x/r[0]-r[4])/r[0],(i.y/r[2]-r[5])/r[2])},clone(){let i=this._matrix;return new L.PM.Matrix(i[0],i[1],i[2],i[3],i[4],i[5])},translate(i){if(i===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let r,a;return typeof i=="number"?(r=i,a=i):(r=i.x,a=i.y),this._add(1,0,0,1,r,a)},scale(i,r){if(i===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let a,l;return r=r||L.point(0,0),typeof i=="number"?(a=i,l=i):(a=i.x,l=i.y),this._add(a,0,0,l,r.x,r.y)._add(1,0,0,1,-r.x,-r.y)},rotate(i,r){let a=Math.cos(i),l=Math.sin(i);return r=r||new L.Point(0,0),this._add(a,l,-l,a,r.x,r.y)._add(1,0,0,1,-r.x,-r.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(i,r,a,l,p,m){let v=[[],[],[]],C=this._matrix,M=[[C[0],C[2],C[4]],[C[1],C[3],C[5]],[0,0,1]],T=[[i,a,p],[r,l,m],[0,0,1]],U;i&&i instanceof L.PM.Matrix&&(C=i._matrix,T=[[C[0],C[2],C[4]],[C[1],C[3],C[5]],[0,0,1]]);for(let F=0;F<3;F+=1)for(let st=0;st<3;st+=1){U=0;for(let at=0;at<3;at+=1)U+=M[F][at]*T[at][st];v[F][st]=U}return this._matrix=[v[0][0],v[1][0],v[0][1],v[1][1],v[0][2],v[1][2]],this}};var L_=kl,b_={calcMiddleLatLng(i,r,a){let l=i.project(r),p=i.project(a);return i.unproject(l._add(p)._divideBy(2))},findLayers(i){let r=[];return i.eachLayer(a=>{(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&r.push(a)}),r=r.filter(a=>!!a.pm),r=r.filter(a=>!a._pmTempLayer),r=r.filter(a=>!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1),r},circleToPolygon(i,r=60,a=!0){let l=i.getLatLng(),p=i.getRadius(),m=Yr(l,p,r,0,a),v=[];for(let C=0;C<m.length;C+=1){let M=[m[C].lat,m[C].lng];v.push(M)}return L.polygon(v,i.options)},disablePopup(i){i.getPopup()&&(i._tempPopupCopy=i.getPopup(),i.unbindPopup())},enablePopup(i){i._tempPopupCopy&&(i.bindPopup(i._tempPopupCopy),delete i._tempPopupCopy)},_fireEvent(i,r,a,l=!1){i.fire(r,a,l);let{groups:p}=this.getAllParentGroups(i);p.forEach(m=>{m.fire(r,a,l)})},getAllParentGroups(i){let r=[],a=[],l=p=>{for(let m in p._eventParents)if(r.indexOf(m)===-1){r.push(m);let v=p._eventParents[m];a.push(v),l(v)}};return!i._pmLastGroupFetch||!i._pmLastGroupFetch.time||new Date().getTime()-i._pmLastGroupFetch.time>1e3?(l(i),i._pmLastGroupFetch={time:new Date().getTime(),groups:a,groupIds:r},{groupIds:r,groups:a}):{groups:i._pmLastGroupFetch.groups,groupIds:i._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Yr,getTranslation:ee,findDeepCoordIndex(i,r,a=!0){let l,p=v=>(C,M)=>{let T=v.concat(M);if(a){if(C.lat&&C.lat===r.lat&&C.lng===r.lng)return l=T,!0}else if(C.lat&&L.latLng(C).equals(r))return l=T,!0;return Array.isArray(C)&&C.some(p(T))};i.some(p([]));let m={};return l&&(m={indexPath:l,index:l[l.length-1],parentPath:l.slice(0,l.length-1)}),m},findDeepMarkerIndex(i,r){let a,l=m=>(v,C)=>{let M=m.concat(C);return v._leaflet_id===r._leaflet_id?(a=M,!0):Array.isArray(v)&&v.some(l(M))};i.some(l([]));let p={};return a&&(p={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),p},_getIndexFromSegment(i,r){if(r&&r.length===2){let a=this.findDeepCoordIndex(i,r[0]),l=this.findDeepCoordIndex(i,r[1]),p=Math.max(a.index,l.index);return(a.index===0||l.index===0)&&p!==1&&(p+=1),{indexA:a,indexB:l,newIndex:p,indexPath:a.indexPath,parentPath:a.parentPath}}return null},_getRotatedRectangle(i,r,a,l){let p=ms(l,i),m=ms(l,r),v=a*Math.PI/180,C=Math.cos(v),M=Math.sin(v),T=(m.x-p.x)*C+(m.y-p.y)*M,U=(m.y-p.y)*C-(m.x-p.x)*M,F=T*C+p.x,st=T*M+p.y,at=-U*M+p.x,bt=U*C+p.y,At=Ia(l,p),Ft=Ia(l,{x:F,y:st}),he=Ia(l,m),j=Ia(l,{x:at,y:bt});return[At,Ft,he,j]},pxRadiusToMeterRadius(i,r,a){let l=r.project(a),p=L.point(l.x+i,l.y);return r.distance(r.unproject(p),a)}},C_=b_;L.PM=L.PM||{version:$s.version,Map:va,Toolbar:ao,Draw:$e,Edit:ii,Utils:C_,Matrix:L_,activeLang:"en",optIn:!1,initialize(i){this.addInitHooks(i)},setOptIn(i){this.optIn=!!i},addInitHooks(){function i(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(i);function r(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(r);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(a);function l(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(l);function p(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(p);function m(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(m);function v(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(v);function C(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(C);function M(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(M)},reInitLayer(i){i instanceof L.LayerGroup&&i.eachLayer(r=>{this.reInitLayer(r)}),i.pm||L.PM.optIn&&i.options.pmIgnore!==!1||i.options.pmIgnore||(i instanceof L.Map?i.pm=new L.PM.Map(i):i instanceof L.Marker?i.options.textMarker?(i.pm=new L.PM.Edit.Text(i),i.pm._initTextMarker(),i.pm._createTextMarker(!1)):i.pm=new L.PM.Edit.Marker(i):i instanceof L.Circle?i.pm=new L.PM.Edit.Circle(i):i instanceof L.CircleMarker?i.pm=new L.PM.Edit.CircleMarker(i):i instanceof L.Rectangle?i.pm=new L.PM.Edit.Rectangle(i):i instanceof L.Polygon?i.pm=new L.PM.Edit.Polygon(i):i instanceof L.Polyline?i.pm=new L.PM.Edit.Line(i):i instanceof L.LayerGroup?i.pm=new L.PM.Edit.LayerGroup(i):i instanceof L.ImageOverlay&&(i.pm=new L.PM.Edit.ImageOverlay(i)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(i){let r=this._map.mouseEventToLayerPoint(i),a,l;for(let p=this._drawFirst;p;p=p.next)a=p.layer,a.options.interactive&&a._containsPoint(r)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(a))&&(l=a);l&&(L.DomEvent.fakeStop(i),this._fireEvent([l],i))}}),L.PM.initialize()})()),Af}iL();const nL=bn(()=>({provide:{leaflet:Q4}})),rL=[hv,_v,z4,G4,j4,H4,Z4,V4,W4,nL],Xp=(t="RouteProvider")=>$o({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(n){const o=n.renderKey,c=n.route,d={};for(const u in n.route)Object.defineProperty(d,u,{get:()=>o===n.renderKey?n.route[u]:c[u],enumerable:!0});return Ts(Au,zn(d)),()=>n.vnode?qi(n.vnode,{ref:n.vnodeRef}):n.vnode}}),sL=Xp(),Rf=new WeakMap,oL=$o({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:n,slots:o,expose:c}){const d=si(),u=Gn(),f=Oi(Au,null);let _;c({pageRef:u});const y=Oi(xy,null);let k;const b=d.deferHydration();if(d.isHydrating){const B=d.hooks.hookOnce("app:error",b);$i().beforeEach(B)}t.pageKey&&Ss(()=>t.pageKey,(B,P)=>{B!==P&&d.callHook("page:loading:start")});let w=!1;{const B=$i().beforeResolve(()=>{w=!1});Jo(()=>{B()})}return()=>qi($p,{name:t.name,route:t.route,...n},{default:B=>{const P=uL(f,B.route,B.Component),H=f&&f.matched.length===B.route.matched.length;if(!B.Component){if(k&&!H)return k;b();return}if(k&&y&&!y.isCurrent(B.route))return k;if(P&&f&&(!y||y?.isCurrent(f)))return H?k:null;const z=Ch(B,t.pageKey),ht=lL(f,B.route,B.Component);!d.isHydrating&&_===z&&!ht&&jo(()=>{w=!0,d.callHook("page:loading:end")}),_=z;const tt=!!(t.transition??B.route.meta.pageTransition??Yc),X=tt&&aL([t.transition,B.route.meta.pageTransition,Yc,{onAfterLeave(){delete d._runningTransition,d.callHook("page:transition:finish",B.Component)}}]),G=t.keepalive??B.route.meta.keepalive??ay;return k=P4(tt&&X,k4(G,qi(Wd,{suspensible:!0,onPending:()=>{tt&&(d._runningTransition=!0),d.callHook("page:start",B.Component)},onResolve:async()=>{await jo();try{d._route.sync?.(),await d.callHook("page:finish",B.Component),delete d._runningTransition,!w&&!ht&&(w=!0,await d.callHook("page:loading:end"))}finally{b()}}},{default:()=>{const $={key:z||void 0,vnode:o.default?hL(o.default,B):B.Component,route:B.route,renderKey:z||void 0,trackRootNodes:tt,vnodeRef:u};if(!G)return qi(sL,$);const rt=B.Component.type,pt=rt;let kt=Rf.get(pt);return kt||(kt=Xp(rt.name||rt.__name),Rf.set(pt,kt)),qi(kt,$)}}))).default(),k}})}});function aL(t){const n=[];for(const o of t)o&&n.push({...o,onAfterLeave:o.onAfterLeave?Jh(o.onAfterLeave):void 0});return kp(...n)}function uL(t,n,o){if(!t)return!1;const c=n.matched.findIndex(d=>d.components?.default===o?.type);return!c||c===-1?!1:n.matched.slice(0,c).some((d,u)=>d.components?.default!==t.matched[u]?.components?.default)||o&&Ch({route:n,Component:o})!==Ch({route:t,Component:o})}function lL(t,n,o){return t?n.matched.findIndex(d=>d.components?.default===o?.type)<n.matched.length-1:!1}function hL(t,n){const o=t(n);return o.length===1?qi(o[0]):qi(Si,void 0,o)}const cL=(t,n)=>{const o=t.__vccOpts||t;for(const[c,d]of n)o[c]=d;return o},fL={};function dL(t,n){const o=oL;return yn(),Qd("div",null,[He(o)])}const pL=cL(fL,[["render",dL]]),_L={__name:"nuxt-error-page",props:{error:Object},setup(t){const o=t.error,c=Number(o.statusCode||500),d=c===404,u=o.statusMessage??(d?"Page Not Found":"Internal Server Error"),f=o.message||o.toString(),_=void 0,b=d?pc(()=>yu(()=>import("./gwfihsp7.js"),__vite__mapDeps([5,3,6,7]),import.meta.url)):pc(()=>yu(()=>import("./CBFmicdt.js"),__vite__mapDeps([8,6,9]),import.meta.url));return(w,B)=>(yn(),Ar(Ae(b),A_(ip({statusCode:Ae(c),statusMessage:Ae(u),description:Ae(f),stack:Ae(_)})),null,16))}},gL={key:0},Of={__name:"nuxt-root",setup(t){const n=()=>null,o=si(),c=o.deferHydration();if(o.isHydrating){const k=o.hooks.hookOnce("app:error",c);$i().beforeEach(k)}const d=!1;Ts(Au,Mp()),o.hooks.callHookWith(k=>k.map(b=>b()),"vue:setup");const u=Du(),f=!1,_=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Md((k,b,w)=>{if(o.hooks.callHook("vue:error",k,b,w).catch(B=>console.error("[nuxt] Error in `vue:error` hook",B)),_.test(navigator.userAgent))return o.hooks.callHook("app:error",k),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,k),!1;if(Bp(k)&&(k.fatal||k.unhandled))return o.runWithContext(()=>Sr(k)),!1});const y=!1;return(k,b)=>(yn(),Ar(Wd,{onResolve:Ae(c)},{default:_d(()=>[Ae(f)?(yn(),Qd("div",gL)):Ae(u)?(yn(),Ar(Ae(_L),{key:1,error:Ae(u)},null,8,["error"])):Ae(y)?(yn(),Ar(Ae(n),{key:2,context:Ae(y)},null,8,["context"])):Ae(d)?(yn(),Ar(Dg(Ae(d)),{key:3})):(yn(),Ar(Ae(pL),{key:4}))]),_:1},8,["onResolve"]))}};let If;{let t;If=async function(){if(t)return t;const o=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),c=o?i0(Of):e0(Of),d=cy({vueApp:c});async function u(f){await d.callHook("app:error",f),d.payload.error||=Nr(f)}c.config.errorHandler=u,d.hook("app:suspense:resolve",()=>{c.config.errorHandler===u&&(c.config.errorHandler=void 0)}),!o&&Jc.id&&d.hook("app:suspense:resolve",()=>{document.getElementById(Jc.id)?.remove()});try{await py(d,rL)}catch(f){u(f)}try{await d.hooks.callHook("app:created",c),await d.hooks.callHook("app:beforeMount",c),c.mount(uy),await d.hooks.callHook("app:mounted",c),await jo()}catch(f){u(f)}return c},t=If().catch(n=>{throw console.error("Error while mounting app:",n),n})}export{xu as A,Ae as B,$i as C,Go as D,Xh as E,Si as F,Bf as G,Jo as H,ML as I,qi as J,yL as K,cp as L,ky as M,q4 as N,kL as O,Gr as P,Zh as Q,Su as R,wL as S,P0 as T,pu as U,cL as _,ep as a,He as b,Qd as c,np as d,si as e,Ap as f,mL as g,Nh as h,Oi as i,bL as j,vL as k,xL as l,rn as m,jo as n,yn as o,LL as p,$o as q,Gn as r,Fh as s,O_ as t,EL as u,CL as v,_d as w,yu as x,Ed as y,Ar as z};
