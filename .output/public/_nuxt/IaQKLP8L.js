class ot extends Error{}class co extends ot{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class fo extends ot{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class ho extends ot{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ht extends ot{}class Os extends ot{constructor(e){super(`Invalid unit ${e}`)}}class de extends ot{}class qe extends ot{constructor(){super("Zone is an abstract class")}}const N="numeric",De="short",ve="long",nn={year:N,month:N,day:N},Ss={year:N,month:De,day:N},po={year:N,month:De,day:N,weekday:De},vs={year:N,month:ve,day:N},ks={year:N,month:ve,day:N,weekday:ve},Es={hour:N,minute:N},Ts={hour:N,minute:N,second:N},xs={hour:N,minute:N,second:N,timeZoneName:De},As={hour:N,minute:N,second:N,timeZoneName:ve},Ns={hour:N,minute:N,hourCycle:"h23"},Rs={hour:N,minute:N,second:N,hourCycle:"h23"},Is={hour:N,minute:N,second:N,hourCycle:"h23",timeZoneName:De},_s={hour:N,minute:N,second:N,hourCycle:"h23",timeZoneName:ve},Ds={year:N,month:N,day:N,hour:N,minute:N},Ms={year:N,month:N,day:N,hour:N,minute:N,second:N},Fs={year:N,month:De,day:N,hour:N,minute:N},Cs={year:N,month:De,day:N,hour:N,minute:N,second:N},mo={year:N,month:De,day:N,weekday:De,hour:N,minute:N},Ps={year:N,month:ve,day:N,hour:N,minute:N,timeZoneName:De},Ls={year:N,month:ve,day:N,hour:N,minute:N,second:N,timeZoneName:De},js={year:N,month:ve,day:N,weekday:ve,hour:N,minute:N,timeZoneName:ve},Us={year:N,month:ve,day:N,weekday:ve,hour:N,minute:N,second:N,timeZoneName:ve};class Ft{get type(){throw new qe}get name(){throw new qe}get ianaName(){return this.name}get isUniversal(){throw new qe}offsetName(e,t){throw new qe}formatOffset(e,t){throw new qe}offset(e){throw new qe}equals(e){throw new qe}get isValid(){throw new qe}}let xn=null;class fn extends Ft{static get instance(){return xn===null&&(xn=new fn),xn}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Gs(e,t,n)}formatOffset(e,t){return It(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const $n=new Map;function yo(r){let e=$n.get(r);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),$n.set(r,e)),e}const go={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function wo(r,e){const t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,s,i,o,l,a,c,f]=n;return[o,s,i,l,a,c,f]}function bo(r,e){const t=r.formatToParts(e),n=[];for(let s=0;s<t.length;s++){const{type:i,value:o}=t[s],l=go[i];i==="era"?n[l]=o:U(l)||(n[l]=parseInt(o,10))}return n}const An=new Map;class ze extends Ft{static create(e){let t=An.get(e);return t===void 0&&An.set(e,t=new ze(e)),t}static resetCache(){An.clear(),$n.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ze.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Gs(e,t,n,this.name)}formatOffset(e,t){return It(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const n=yo(this.name);let[s,i,o,l,a,c,f]=n.formatToParts?bo(n,t):wo(n,t);l==="BC"&&(s=-Math.abs(s)+1);const d=dn({year:s,month:i,day:o,hour:a===24?0:a,minute:c,second:f,millisecond:0});let h=+t;const m=h%1e3;return h-=m>=0?m:1e3+m,(d-h)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Or={};function Oo(r,e={}){const t=JSON.stringify([r,e]);let n=Or[t];return n||(n=new Intl.ListFormat(r,e),Or[t]=n),n}const zn=new Map;function Hn(r,e={}){const t=JSON.stringify([r,e]);let n=zn.get(t);return n===void 0&&(n=new Intl.DateTimeFormat(r,e),zn.set(t,n)),n}const qn=new Map;function So(r,e={}){const t=JSON.stringify([r,e]);let n=qn.get(t);return n===void 0&&(n=new Intl.NumberFormat(r,e),qn.set(t,n)),n}const Zn=new Map;function vo(r,e={}){const{base:t,...n}=e,s=JSON.stringify([r,n]);let i=Zn.get(s);return i===void 0&&(i=new Intl.RelativeTimeFormat(r,e),Zn.set(s,i)),i}let At=null;function ko(){return At||(At=new Intl.DateTimeFormat().resolvedOptions().locale,At)}const Jn=new Map;function Bs(r){let e=Jn.get(r);return e===void 0&&(e=new Intl.DateTimeFormat(r).resolvedOptions(),Jn.set(r,e)),e}const Yn=new Map;function Eo(r){let e=Yn.get(r);if(!e){const t=new Intl.Locale(r);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...Vs,...e}),Yn.set(r,e)}return e}function To(r){const e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));const t=r.indexOf("-u-");if(t===-1)return[r];{let n,s;try{n=Hn(r).resolvedOptions(),s=r}catch{const a=r.substring(0,t);n=Hn(a).resolvedOptions(),s=a}const{numberingSystem:i,calendar:o}=n;return[s,i,o]}}function xo(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function Ao(r){const e=[];for(let t=1;t<=12;t++){const n=L.utc(2009,t,1);e.push(r(n))}return e}function No(r){const e=[];for(let t=1;t<=7;t++){const n=L.utc(2016,11,13+t);e.push(r(n))}return e}function Wt(r,e,t,n){const s=r.listingMode();return s==="error"?null:s==="en"?t(e):n(e)}function Ro(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||Bs(r.locale).numberingSystem==="latn"}class Io{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:i,...o}=n;if(!t||Object.keys(o).length>0){const l={useGrouping:!1,...n};n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=So(e,l)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):cr(e,3);return ae(t,this.padTo)}}}class _o{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&ze.create(l).valid?(s=l,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=Hn(t,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:n}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Do{constructor(e,t,n){this.opts={style:"long",...n},!t&&Js()&&(this.rtf=vo(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):ea(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Vs={firstDay:1,minimalDays:4,weekend:[6,7]};class G{static fromOpts(e){return G.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,s,i=!1){const o=e||se.defaultLocale,l=o||(i?"en-US":ko()),a=t||se.defaultNumberingSystem,c=n||se.defaultOutputCalendar,f=Qn(s)||se.defaultWeekSettings;return new G(l,a,c,f,o)}static resetCache(){At=null,zn.clear(),qn.clear(),Zn.clear(),Jn.clear(),Yn.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:s}={}){return G.create(e,t,n,s)}constructor(e,t,n,s,i){const[o,l,a]=To(e);this.locale=o,this.numberingSystem=t||l||null,this.outputCalendar=n||a||null,this.weekSettings=s,this.intl=xo(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ro(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:G.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Qn(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Wt(this,e,Xs,()=>{const n=this.intl==="ja"||this.intl.startsWith("ja-");t&=!n;const s=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";if(!this.monthsCache[i][e]){const o=n?l=>this.dtFormatter(l,s).format():l=>this.extract(l,s,"month");this.monthsCache[i][e]=Ao(o)}return this.monthsCache[i][e]})}weekdays(e,t=!1){return Wt(this,e,ni,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=No(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return Wt(this,void 0,()=>ri,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[L.utc(2016,11,13,9),L.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Wt(this,e,si,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[L.utc(-40,1,1),L.utc(2017,1,1)].map(n=>this.extract(n,t,"era"))),this.eraCache[e]})}extract(e,t,n){const s=this.dtFormatter(e,t),i=s.formatToParts(),o=i.find(l=>l.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new Io(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new _o(e,this.intl,t)}relFormatter(e={}){return new Do(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Oo(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||Bs(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ys()?Eo(this.locale):Vs}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Nn=null;class ge extends Ft{static get utcInstance(){return Nn===null&&(Nn=new ge(0)),Nn}static instance(e){return e===0?ge.utcInstance:new ge(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ge(pn(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${It(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${It(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return It(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Mo extends Ft{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Je(r,e){if(U(r)||r===null)return e;if(r instanceof Ft)return r;if(Uo(r)){const t=r.toLowerCase();return t==="default"?e:t==="local"||t==="system"?fn.instance:t==="utc"||t==="gmt"?ge.utcInstance:ge.parseSpecifier(t)||ze.create(r)}else return Ge(r)?ge.instance(r):typeof r=="object"&&"offset"in r&&typeof r.offset=="function"?r:new Mo(r)}const or={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Sr={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Fo=or.hanidec.replace(/[\[|\]]/g,"").split("");function Co(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){const n=r.charCodeAt(t);if(r[t].search(or.hanidec)!==-1)e+=Fo.indexOf(r[t]);else for(const s in Sr){const[i,o]=Sr[s];n>=i&&n<=o&&(e+=n-i)}}return parseInt(e,10)}else return e}const Gn=new Map;function Po(){Gn.clear()}function Ne({numberingSystem:r},e=""){const t=r||"latn";let n=Gn.get(t);n===void 0&&(n=new Map,Gn.set(t,n));let s=n.get(e);return s===void 0&&(s=new RegExp(`${or[t]}${e}`),n.set(e,s)),s}let vr=()=>Date.now(),kr="system",Er=null,Tr=null,xr=null,Ar=60,Nr,Rr=null;class se{static get now(){return vr}static set now(e){vr=e}static set defaultZone(e){kr=e}static get defaultZone(){return Je(kr,fn.instance)}static get defaultLocale(){return Er}static set defaultLocale(e){Er=e}static get defaultNumberingSystem(){return Tr}static set defaultNumberingSystem(e){Tr=e}static get defaultOutputCalendar(){return xr}static set defaultOutputCalendar(e){xr=e}static get defaultWeekSettings(){return Rr}static set defaultWeekSettings(e){Rr=Qn(e)}static get twoDigitCutoffYear(){return Ar}static set twoDigitCutoffYear(e){Ar=e%100}static get throwOnInvalid(){return Nr}static set throwOnInvalid(e){Nr=e}static resetCaches(){G.resetCache(),ze.resetCache(),L.resetCache(),Po()}}class Ie{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ws=[0,31,59,90,120,151,181,212,243,273,304,334],$s=[0,31,60,91,121,152,182,213,244,274,305,335];function Ee(r,e){return new Ie("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function ar(r,e,t){const n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function zs(r,e,t){return t+(Ct(r)?$s:Ws)[e-1]}function Hs(r,e){const t=Ct(r)?$s:Ws,n=t.findIndex(i=>i<e),s=e-t[n];return{month:n+1,day:s}}function lr(r,e){return(r-e+7)%7+1}function rn(r,e=4,t=1){const{year:n,month:s,day:i}=r,o=zs(n,s,i),l=lr(ar(n,s,i),t);let a=Math.floor((o-l+14-e)/7),c;return a<1?(c=n-1,a=_t(c,e,t)):a>_t(n,e,t)?(c=n+1,a=1):c=n,{weekYear:c,weekNumber:a,weekday:l,...mn(r)}}function Ir(r,e=4,t=1){const{weekYear:n,weekNumber:s,weekday:i}=r,o=lr(ar(n,1,e),t),l=pt(n);let a=s*7+i-o-7+e,c;a<1?(c=n-1,a+=pt(c)):a>l?(c=n+1,a-=pt(n)):c=n;const{month:f,day:u}=Hs(c,a);return{year:c,month:f,day:u,...mn(r)}}function Rn(r){const{year:e,month:t,day:n}=r,s=zs(e,t,n);return{year:e,ordinal:s,...mn(r)}}function _r(r){const{year:e,ordinal:t}=r,{month:n,day:s}=Hs(e,t);return{year:e,month:n,day:s,...mn(r)}}function Dr(r,e){if(!U(r.localWeekday)||!U(r.localWeekNumber)||!U(r.localWeekYear)){if(!U(r.weekday)||!U(r.weekNumber)||!U(r.weekYear))throw new ht("Cannot mix locale-based week fields with ISO-based week fields");return U(r.localWeekday)||(r.weekday=r.localWeekday),U(r.localWeekNumber)||(r.weekNumber=r.localWeekNumber),U(r.localWeekYear)||(r.weekYear=r.localWeekYear),delete r.localWeekday,delete r.localWeekNumber,delete r.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Lo(r,e=4,t=1){const n=hn(r.weekYear),s=Te(r.weekNumber,1,_t(r.weekYear,e,t)),i=Te(r.weekday,1,7);return n?s?i?!1:Ee("weekday",r.weekday):Ee("week",r.weekNumber):Ee("weekYear",r.weekYear)}function jo(r){const e=hn(r.year),t=Te(r.ordinal,1,pt(r.year));return e?t?!1:Ee("ordinal",r.ordinal):Ee("year",r.year)}function qs(r){const e=hn(r.year),t=Te(r.month,1,12),n=Te(r.day,1,sn(r.year,r.month));return e?t?n?!1:Ee("day",r.day):Ee("month",r.month):Ee("year",r.year)}function Zs(r){const{hour:e,minute:t,second:n,millisecond:s}=r,i=Te(e,0,23)||e===24&&t===0&&n===0&&s===0,o=Te(t,0,59),l=Te(n,0,59),a=Te(s,0,999);return i?o?l?a?!1:Ee("millisecond",s):Ee("second",n):Ee("minute",t):Ee("hour",e)}function U(r){return typeof r>"u"}function Ge(r){return typeof r=="number"}function hn(r){return typeof r=="number"&&r%1===0}function Uo(r){return typeof r=="string"}function Bo(r){return Object.prototype.toString.call(r)==="[object Date]"}function Js(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Ys(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Vo(r){return Array.isArray(r)?r:[r]}function Mr(r,e,t){if(r.length!==0)return r.reduce((n,s)=>{const i=[e(s),s];return n&&t(n[0],i[0])===n[0]?n:i},null)[1]}function Wo(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function yt(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function Qn(r){if(r==null)return null;if(typeof r!="object")throw new de("Week settings must be an object");if(!Te(r.firstDay,1,7)||!Te(r.minimalDays,1,7)||!Array.isArray(r.weekend)||r.weekend.some(e=>!Te(e,1,7)))throw new de("Invalid week settings");return{firstDay:r.firstDay,minimalDays:r.minimalDays,weekend:Array.from(r.weekend)}}function Te(r,e,t){return hn(r)&&r>=e&&r<=t}function $o(r,e){return r-e*Math.floor(r/e)}function ae(r,e=2){const t=r<0;let n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function Ze(r){if(!(U(r)||r===null||r===""))return parseInt(r,10)}function Ke(r){if(!(U(r)||r===null||r===""))return parseFloat(r)}function ur(r){if(!(U(r)||r===null||r==="")){const e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function cr(r,e,t="round"){const n=10**e;switch(t){case"expand":return r>0?Math.ceil(r*n)/n:Math.floor(r*n)/n;case"trunc":return Math.trunc(r*n)/n;case"round":return Math.round(r*n)/n;case"floor":return Math.floor(r*n)/n;case"ceil":return Math.ceil(r*n)/n;default:throw new RangeError(`Value rounding ${t} is out of range`)}}function Ct(r){return r%4===0&&(r%100!==0||r%400===0)}function pt(r){return Ct(r)?366:365}function sn(r,e){const t=$o(e-1,12)+1,n=r+(e-t)/12;return t===2?Ct(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function dn(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(r.year,r.month-1,r.day)),+e}function Fr(r,e,t){return-lr(ar(r,1,e),t)+e-1}function _t(r,e=4,t=1){const n=Fr(r,e,t),s=Fr(r+1,e,t);return(pt(r)-n+s)/7}function Kn(r){return r>99?r:r>se.twoDigitCutoffYear?1900+r:2e3+r}function Gs(r,e,t,n=null){const s=new Date(r),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const o={timeZoneName:e,...i},l=new Intl.DateTimeFormat(t,o).formatToParts(s).find(a=>a.type.toLowerCase()==="timezonename");return l?l.value:null}function pn(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);const n=parseInt(e,10)||0,s=t<0||Object.is(t,-0)?-n:n;return t*60+s}function Qs(r){const e=Number(r);if(typeof r=="boolean"||r===""||!Number.isFinite(e))throw new de(`Invalid unit value ${r}`);return e}function on(r,e){const t={};for(const n in r)if(yt(r,n)){const s=r[n];if(s==null)continue;t[e(n)]=Qs(s)}return t}function It(r,e){const t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),s=r>=0?"+":"-";switch(e){case"short":return`${s}${ae(t,2)}:${ae(n,2)}`;case"narrow":return`${s}${t}${n>0?`:${n}`:""}`;case"techie":return`${s}${ae(t,2)}${ae(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function mn(r){return Wo(r,["hour","minute","second","millisecond"])}const zo=["January","February","March","April","May","June","July","August","September","October","November","December"],Ks=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ho=["J","F","M","A","M","J","J","A","S","O","N","D"];function Xs(r){switch(r){case"narrow":return[...Ho];case"short":return[...Ks];case"long":return[...zo];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ei=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ti=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],qo=["M","T","W","T","F","S","S"];function ni(r){switch(r){case"narrow":return[...qo];case"short":return[...ti];case"long":return[...ei];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ri=["AM","PM"],Zo=["Before Christ","Anno Domini"],Jo=["BC","AD"],Yo=["B","A"];function si(r){switch(r){case"narrow":return[...Yo];case"short":return[...Jo];case"long":return[...Zo];default:return null}}function Go(r){return ri[r.hour<12?0:1]}function Qo(r,e){return ni(e)[r.weekday-1]}function Ko(r,e){return Xs(e)[r.month-1]}function Xo(r,e){return si(e)[r.year<0?0:1]}function ea(r,e,t="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&i){const u=r==="days";switch(e){case 1:return u?"tomorrow":`next ${s[r][0]}`;case-1:return u?"yesterday":`last ${s[r][0]}`;case 0:return u?"today":`this ${s[r][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),a=l===1,c=s[r],f=n?a?c[1]:c[2]||c[1]:a?s[r][0]:r;return o?`${l} ${f} ago`:`in ${l} ${f}`}function Cr(r,e){let t="";for(const n of r)n.literal?t+=n.val:t+=e(n.val);return t}const ta={D:nn,DD:Ss,DDD:vs,DDDD:ks,t:Es,tt:Ts,ttt:xs,tttt:As,T:Ns,TT:Rs,TTT:Is,TTTT:_s,f:Ds,ff:Fs,fff:Ps,ffff:js,F:Ms,FF:Cs,FFF:Ls,FFFF:Us};class pe{static create(e,t={}){return new pe(e,t)}static parseFormat(e){let t=null,n="",s=!1;const i=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?((n.length>0||s)&&i.push({literal:s||/^\s+$/.test(n),val:n===""?"'":n}),t=null,n="",s=!s):s||l===t?n+=l:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=l,t=l)}return n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return ta[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0,n=void 0){if(this.opts.forceSimple)return ae(e,t);const s={...this.opts};return t>0&&(s.padTo=t),n&&(s.signDisplay=n),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,t){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(h,m)=>this.loc.extract(e,h,m),o=h=>e.isOffsetFixed&&e.offset===0&&h.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,h.format):"",l=()=>n?Go(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(h,m)=>n?Ko(e,h):i(m?{month:h}:{month:h,day:"numeric"},"month"),c=(h,m)=>n?Qo(e,h):i(m?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),f=h=>{const m=pe.macroTokenToFormatOpts(h);return m?this.formatWithSystemDefault(e,m):h},u=h=>n?Xo(e,h):i({era:h},"era"),d=h=>{switch(h){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return s?i({day:"numeric"},"day"):this.num(e.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(e.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(e.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(h)}};return Cr(pe.parseFormat(t),d)}formatDurationFromString(e,t){const n=this.opts.signMode==="negativeLargestOnly"?-1:1,s=f=>{switch(f[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},i=(f,u)=>d=>{const h=s(d);if(h){const m=u.isNegativeDuration&&h!==u.largestUnit?n:1;let p;return this.opts.signMode==="negativeLargestOnly"&&h!==u.largestUnit?p="never":this.opts.signMode==="all"?p="always":p="auto",this.num(f.get(h)*m,d.length,p)}else return d},o=pe.parseFormat(t),l=o.reduce((f,{literal:u,val:d})=>u?f:f.concat(d),[]),a=e.shiftTo(...l.map(s).filter(f=>f)),c={isNegativeDuration:a<0,largestUnit:Object.keys(a.values)[0]};return Cr(o,i(a,c))}}const ii=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function wt(...r){const e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function bt(...r){return e=>r.reduce(([t,n,s],i)=>{const[o,l,a]=i(e,s);return[{...t,...o},l||n,a]},[{},null,1]).slice(0,2)}function Ot(r,...e){if(r==null)return[null,null];for(const[t,n]of e){const s=t.exec(r);if(s)return n(s)}return[null,null]}function oi(...r){return(e,t)=>{const n={};let s;for(s=0;s<r.length;s++)n[r[s]]=Ze(e[t+s]);return[n,null,t+s]}}const ai=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,na=`(?:${ai.source}?(?:\\[(${ii.source})\\])?)?`,fr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,li=RegExp(`${fr.source}${na}`),hr=RegExp(`(?:[Tt]${li.source})?`),ra=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,sa=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ia=/(\d{4})-?(\d{3})/,oa=oi("weekYear","weekNumber","weekDay"),aa=oi("year","ordinal"),la=/(\d{4})-(\d\d)-(\d\d)/,ui=RegExp(`${fr.source} ?(?:${ai.source}|(${ii.source}))?`),ua=RegExp(`(?: ${ui.source})?`);function mt(r,e,t){const n=r[e];return U(n)?t:Ze(n)}function ca(r,e){return[{year:mt(r,e),month:mt(r,e+1,1),day:mt(r,e+2,1)},null,e+3]}function St(r,e){return[{hours:mt(r,e,0),minutes:mt(r,e+1,0),seconds:mt(r,e+2,0),milliseconds:ur(r[e+3])},null,e+4]}function Pt(r,e){const t=!r[e]&&!r[e+1],n=pn(r[e+1],r[e+2]),s=t?null:ge.instance(n);return[{},s,e+3]}function Lt(r,e){const t=r[e]?ze.create(r[e]):null;return[{},t,e+1]}const fa=RegExp(`^T?${fr.source}$`),ha=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function da(r){const[e,t,n,s,i,o,l,a,c]=r,f=e[0]==="-",u=a&&a[0]==="-",d=(h,m=!1)=>h!==void 0&&(m||h&&f)?-h:h;return[{years:d(Ke(t)),months:d(Ke(n)),weeks:d(Ke(s)),days:d(Ke(i)),hours:d(Ke(o)),minutes:d(Ke(l)),seconds:d(Ke(a),a==="-0"),milliseconds:d(ur(c),u)}]}const pa={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function dr(r,e,t,n,s,i,o){const l={year:e.length===2?Kn(Ze(e)):Ze(e),month:Ks.indexOf(t)+1,day:Ze(n),hour:Ze(s),minute:Ze(i)};return o&&(l.second=Ze(o)),r&&(l.weekday=r.length>3?ei.indexOf(r)+1:ti.indexOf(r)+1),l}const ma=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ya(r){const[,e,t,n,s,i,o,l,a,c,f,u]=r,d=dr(e,s,n,t,i,o,l);let h;return a?h=pa[a]:c?h=0:h=pn(f,u),[d,new ge(h)]}function ga(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const wa=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ba=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Oa=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Pr(r){const[,e,t,n,s,i,o,l]=r;return[dr(e,s,n,t,i,o,l),ge.utcInstance]}function Sa(r){const[,e,t,n,s,i,o,l]=r;return[dr(e,l,t,n,s,i,o),ge.utcInstance]}const va=wt(ra,hr),ka=wt(sa,hr),Ea=wt(ia,hr),Ta=wt(li),ci=bt(ca,St,Pt,Lt),xa=bt(oa,St,Pt,Lt),Aa=bt(aa,St,Pt,Lt),Na=bt(St,Pt,Lt);function Ra(r){return Ot(r,[va,ci],[ka,xa],[Ea,Aa],[Ta,Na])}function Ia(r){return Ot(ga(r),[ma,ya])}function _a(r){return Ot(r,[wa,Pr],[ba,Pr],[Oa,Sa])}function Da(r){return Ot(r,[ha,da])}const Ma=bt(St);function Fa(r){return Ot(r,[fa,Ma])}const Ca=wt(la,ua),Pa=wt(ui),La=bt(St,Pt,Lt);function ja(r){return Ot(r,[Ca,ci],[Pa,La])}const Lr="Invalid Duration",fi={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Ua={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...fi},ke=146097/400,ut=146097/4800,Ba={years:{quarters:4,months:12,weeks:ke/7,days:ke,hours:ke*24,minutes:ke*24*60,seconds:ke*24*60*60,milliseconds:ke*24*60*60*1e3},quarters:{months:3,weeks:ke/28,days:ke/4,hours:ke*24/4,minutes:ke*24*60/4,seconds:ke*24*60*60/4,milliseconds:ke*24*60*60*1e3/4},months:{weeks:ut/7,days:ut,hours:ut*24,minutes:ut*24*60,seconds:ut*24*60*60,milliseconds:ut*24*60*60*1e3},...fi},tt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Va=tt.slice(0).reverse();function We(r,e,t=!1){const n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new H(n)}function hi(r,e){let t=e.milliseconds??0;for(const n of Va.slice(1))e[n]&&(t+=e[n]*r[n].milliseconds);return t}function jr(r,e){const t=hi(r,e)<0?-1:1;tt.reduceRight((n,s)=>{if(U(e[s]))return n;if(n){const i=e[n]*t,o=r[s][n],l=Math.floor(i/o);e[s]+=l*t,e[n]-=l*o*t}return s},null),tt.reduce((n,s)=>{if(U(e[s]))return n;if(n){const i=e[n]%1;e[n]-=i,e[s]+=i*r[n][s]}return s},null)}function Ur(r){const e={};for(const[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}class H{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let n=t?Ba:Ua;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||G.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return H.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new de(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new H({values:on(e,H.normalizeUnit),loc:G.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Ge(e))return H.fromMillis(e);if(H.isDuration(e))return e;if(typeof e=="object")return H.fromObject(e);throw new de(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=Da(e);return n?H.fromObject(n,t):H.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=Fa(e);return n?H.fromObject(n,t):H.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new de("need to specify a reason the Duration is invalid");const n=e instanceof Ie?e:new Ie(e,t);if(se.throwOnInvalid)throw new ho(n);return new H({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Os(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?pe.create(this.loc,n).formatDurationFromString(this,e):Lr}toHuman(e={}){if(!this.isValid)return Lr;const t=e.showZeros!==!1,n=tt.map(s=>{const i=this.values[s];return U(i)||i===0&&!t?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(i)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=cr(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},L.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?hi(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=H.fromDurationLike(e),n={};for(const s of tt)(yt(t.values,s)||yt(this.values,s))&&(n[s]=t.get(s)+this.get(s));return We(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=H.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Qs(e(this.values[n],n));return We(this,{values:t},!0)}get(e){return this[H.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...on(e,H.normalizeUnit)};return We(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:s}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:s,conversionAccuracy:n};return We(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return jr(this.matrix,e),We(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Ur(this.normalize().shiftToAll().toObject());return We(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>H.normalizeUnit(o));const t={},n={},s=this.toObject();let i;for(const o of tt)if(e.indexOf(o)>=0){i=o;let l=0;for(const c in n)l+=this.matrix[c][o]*n[c],n[c]=0;Ge(s[o])&&(l+=s[o]);const a=Math.trunc(l);t[o]=a,n[o]=(l*1e3-a*1e3)/1e3}else Ge(s[o])&&(n[o]=s[o]);for(const o in n)n[o]!==0&&(t[i]+=o===i?n[o]:n[o]/this.matrix[i][o]);return jr(this.matrix,t),We(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return We(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=Ur(this.values);return We(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of tt)if(!t(this.values[n],e.values[n]))return!1;return!0}}const ct="Invalid Interval";function Wa(r,e){return!r||!r.isValid?re.invalid("missing or invalid start"):!e||!e.isValid?re.invalid("missing or invalid end"):e<r?re.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}class re{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new de("need to specify a reason the Interval is invalid");const n=e instanceof Ie?e:new Ie(e,t);if(se.throwOnInvalid)throw new fo(n);return new re({invalid:n})}static fromDateTimes(e,t){const n=Et(e),s=Et(t),i=Wa(n,s);return i??new re({start:n,end:s})}static after(e,t){const n=H.fromDurationLike(t),s=Et(e);return re.fromDateTimes(s,s.plus(n))}static before(e,t){const n=H.fromDurationLike(t),s=Et(e);return re.fromDateTimes(s.minus(n),s)}static fromISO(e,t){const[n,s]=(e||"").split("/",2);if(n&&s){let i,o;try{i=L.fromISO(n,t),o=i.isValid}catch{o=!1}let l,a;try{l=L.fromISO(s,t),a=l.isValid}catch{a=!1}if(o&&a)return re.fromDateTimes(i,l);if(o){const c=H.fromISO(s,t);if(c.isValid)return re.after(i,c)}else if(a){const c=H.fromISO(n,t);if(c.isValid)return re.before(l,c)}}return re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let s;return t?.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(e,t),Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?re.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Et).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),n=[];let{s}=this,i=0;for(;s<this.e;){const o=t[i]||this.e,l=+o>+this.e?this.e:o;n.push(re.fromDateTimes(s,l)),s=l,i+=1}return n}splitBy(e){const t=H.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,s=1,i;const o=[];for(;n<this.e;){const l=this.start.plus(t.mapUnits(a=>a*s));i=+l>+this.e?this.e:l,o.push(re.fromDateTimes(n,i)),n=i,s+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:re.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return re.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((s,i)=>s.s-i.s).reduce(([s,i],o)=>i?i.overlaps(o)||i.abutsStart(o)?[s,i.union(o)]:[s.concat([i]),o]:[s,o],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const s=[],i=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),o=Array.prototype.concat(...i),l=o.sort((a,c)=>a.time-c.time);for(const a of l)n+=a.type==="s"?1:-1,n===1?t=a.time:(t&&+t!=+a.time&&s.push(re.fromDateTimes(t,a.time)),t=null);return re.merge(s)}difference(...e){return re.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:ct}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=nn,t={}){return this.isValid?pe.create(this.s.loc.clone(t),e).formatInterval(this):ct}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:ct}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ct}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:ct}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:ct}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):H.invalid(this.invalidReason)}mapEndpoints(e){return re.fromDateTimes(e(this.s),e(this.e))}}class $t{static hasDST(e=se.defaultZone){const t=L.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return ze.isValidZone(e)}static normalizeZone(e){return Je(e,se.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||G.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||G.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||G.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||G.create(t,n,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||G.create(t,n,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||G.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||G.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return G.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return G.create(t,null,"gregory").eras(e)}static features(){return{relative:Js(),localeWeek:Ys()}}}function Br(r,e){const t=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(H.fromMillis(n).as("days"))}function $a(r,e,t){const n=[["years",(a,c)=>c.year-a.year],["quarters",(a,c)=>c.quarter-a.quarter+(c.year-a.year)*4],["months",(a,c)=>c.month-a.month+(c.year-a.year)*12],["weeks",(a,c)=>{const f=Br(a,c);return(f-f%7)/7}],["days",Br]],s={},i=r;let o,l;for(const[a,c]of n)t.indexOf(a)>=0&&(o=a,s[a]=c(r,e),l=i.plus(s),l>e?(s[a]--,r=i.plus(s),r>e&&(l=r,s[a]--,r=i.plus(s))):r=l);return[r,s,l,o]}function za(r,e,t,n){let[s,i,o,l]=$a(r,e,t);const a=e-s,c=t.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);c.length===0&&(o<e&&(o=s.plus({[l]:1})),o!==s&&(i[l]=(i[l]||0)+a/(o-s)));const f=H.fromObject(i,n);return c.length>0?H.fromMillis(a,n).shiftTo(...c).plus(f):f}const Ha="missing Intl.DateTimeFormat.formatToParts support";function Z(r,e=t=>t){return{regex:r,deser:([t])=>e(Co(t))}}const qa=" ",di=`[ ${qa}]`,pi=new RegExp(di,"g");function Za(r){return r.replace(/\./g,"\\.?").replace(pi,di)}function Vr(r){return r.replace(/\./g,"").replace(pi," ").toLowerCase()}function Re(r,e){return r===null?null:{regex:RegExp(r.map(Za).join("|")),deser:([t])=>r.findIndex(n=>Vr(t)===Vr(n))+e}}function Wr(r,e){return{regex:r,deser:([,t,n])=>pn(t,n),groups:e}}function zt(r){return{regex:r,deser:([e])=>e}}function Ja(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ya(r,e){const t=Ne(e),n=Ne(e,"{2}"),s=Ne(e,"{3}"),i=Ne(e,"{4}"),o=Ne(e,"{6}"),l=Ne(e,"{1,2}"),a=Ne(e,"{1,3}"),c=Ne(e,"{1,6}"),f=Ne(e,"{1,9}"),u=Ne(e,"{2,4}"),d=Ne(e,"{4,6}"),h=y=>({regex:RegExp(Ja(y.val)),deser:([w])=>w,literal:!0}),p=(y=>{if(r.literal)return h(y);switch(y.val){case"G":return Re(e.eras("short"),0);case"GG":return Re(e.eras("long"),0);case"y":return Z(c);case"yy":return Z(u,Kn);case"yyyy":return Z(i);case"yyyyy":return Z(d);case"yyyyyy":return Z(o);case"M":return Z(l);case"MM":return Z(n);case"MMM":return Re(e.months("short",!0),1);case"MMMM":return Re(e.months("long",!0),1);case"L":return Z(l);case"LL":return Z(n);case"LLL":return Re(e.months("short",!1),1);case"LLLL":return Re(e.months("long",!1),1);case"d":return Z(l);case"dd":return Z(n);case"o":return Z(a);case"ooo":return Z(s);case"HH":return Z(n);case"H":return Z(l);case"hh":return Z(n);case"h":return Z(l);case"mm":return Z(n);case"m":return Z(l);case"q":return Z(l);case"qq":return Z(n);case"s":return Z(l);case"ss":return Z(n);case"S":return Z(a);case"SSS":return Z(s);case"u":return zt(f);case"uu":return zt(l);case"uuu":return Z(t);case"a":return Re(e.meridiems(),0);case"kkkk":return Z(i);case"kk":return Z(u,Kn);case"W":return Z(l);case"WW":return Z(n);case"E":case"c":return Z(t);case"EEE":return Re(e.weekdays("short",!1),1);case"EEEE":return Re(e.weekdays("long",!1),1);case"ccc":return Re(e.weekdays("short",!0),1);case"cccc":return Re(e.weekdays("long",!0),1);case"Z":case"ZZ":return Wr(new RegExp(`([+-]${l.source})(?::(${n.source}))?`),2);case"ZZZ":return Wr(new RegExp(`([+-]${l.source})(${n.source})?`),2);case"z":return zt(/[a-z_+-/]{1,256}?/i);case" ":return zt(/[^\S\n\r]/);default:return h(y)}})(r)||{invalidReason:Ha};return p.token=r,p}const Ga={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Qa(r,e,t){const{type:n,value:s}=r;if(n==="literal"){const a=/^\s+$/.test(s);return{literal:!a,val:a?" ":s}}const i=e[n];let o=n;n==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=t.hour12?"hour12":"hour24");let l=Ga[o];if(typeof l=="object"&&(l=l[i]),l)return{literal:!1,val:l}}function Ka(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function Xa(r,e,t){const n=r.match(e);if(n){const s={};let i=1;for(const o in t)if(yt(t,o)){const l=t[o],a=l.groups?l.groups+1:1;!l.literal&&l.token&&(s[l.token.val[0]]=l.deser(n.slice(i,i+a))),i+=a}return[n,s]}else return[n,{}]}function el(r){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,n;return U(r.z)||(t=ze.create(r.z)),U(r.Z)||(t||(t=new ge(r.Z)),n=r.Z),U(r.q)||(r.M=(r.q-1)*3+1),U(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),U(r.u)||(r.S=ur(r.u)),[Object.keys(r).reduce((i,o)=>{const l=e(o);return l&&(i[l]=r[o]),i},{}),t,n]}let In=null;function tl(){return In||(In=L.fromMillis(1555555555555)),In}function nl(r,e){if(r.literal)return r;const t=pe.macroTokenToFormatOpts(r.val),n=wi(t,e);return n==null||n.includes(void 0)?r:n}function mi(r,e){return Array.prototype.concat(...r.map(t=>nl(t,e)))}class yi{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=mi(pe.parseFormat(t),e),this.units=this.tokens.map(n=>Ya(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,s]=Ka(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[t,n]=Xa(e,this.regex,this.handlers),[s,i,o]=n?el(n):[null,null,void 0];if(yt(n,"a")&&yt(n,"H"))throw new ht("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:s,zone:i,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function gi(r,e,t){return new yi(r,t).explainFromTokens(e)}function rl(r,e,t){const{result:n,zone:s,specificOffset:i,invalidReason:o}=gi(r,e,t);return[n,s,i,o]}function wi(r,e){if(!r)return null;const n=pe.create(e,r).dtFormatter(tl()),s=n.formatToParts(),i=n.resolvedOptions();return s.map(o=>Qa(o,r,i))}const _n="Invalid DateTime",$r=864e13;function Nt(r){return new Ie("unsupported zone",`the zone "${r.name}" is not supported`)}function Dn(r){return r.weekData===null&&(r.weekData=rn(r.c)),r.weekData}function Mn(r){return r.localWeekData===null&&(r.localWeekData=rn(r.c,r.loc.getMinDaysInFirstWeek(),r.loc.getStartOfWeek())),r.localWeekData}function Xe(r,e){const t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new L({...t,...e,old:t})}function bi(r,e,t){let n=r-e*60*1e3;const s=t.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const i=t.offset(n);return s===i?[n,s]:[r-Math.min(s,i)*60*1e3,Math.max(s,i)]}function Ht(r,e){r+=e*60*1e3;const t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Jt(r,e,t){return bi(dn(r),e,t)}function zr(r,e){const t=r.o,n=r.c.year+Math.trunc(e.years),s=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...r.c,year:n,month:s,day:Math.min(r.c.day,sn(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=H.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=dn(i);let[a,c]=bi(l,t,r.zone);return o!==0&&(a+=o,c=r.zone.offset(a)),{ts:a,o:c}}function ft(r,e,t,n,s,i){const{setZone:o,zone:l}=t;if(r&&Object.keys(r).length!==0||e){const a=e||l,c=L.fromObject(r,{...t,zone:a,specificOffset:i});return o?c:c.setZone(l)}else return L.invalid(new Ie("unparsable",`the input "${s}" can't be parsed as ${n}`))}function qt(r,e,t=!0){return r.isValid?pe.create(G.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function Fn(r,e,t){const n=r.c.year>9999||r.c.year<0;let s="";if(n&&r.c.year>=0&&(s+="+"),s+=ae(r.c.year,n?6:4),t==="year")return s;if(e){if(s+="-",s+=ae(r.c.month),t==="month")return s;s+="-"}else if(s+=ae(r.c.month),t==="month")return s;return s+=ae(r.c.day),s}function Hr(r,e,t,n,s,i,o){let l=!t||r.c.millisecond!==0||r.c.second!==0,a="";switch(o){case"day":case"month":case"year":break;default:if(a+=ae(r.c.hour),o==="hour")break;if(e){if(a+=":",a+=ae(r.c.minute),o==="minute")break;l&&(a+=":",a+=ae(r.c.second))}else{if(a+=ae(r.c.minute),o==="minute")break;l&&(a+=ae(r.c.second))}if(o==="second")break;l&&(!n||r.c.millisecond!==0)&&(a+=".",a+=ae(r.c.millisecond,3))}return s&&(r.isOffsetFixed&&r.offset===0&&!i?a+="Z":r.o<0?(a+="-",a+=ae(Math.trunc(-r.o/60)),a+=":",a+=ae(Math.trunc(-r.o%60))):(a+="+",a+=ae(Math.trunc(r.o/60)),a+=":",a+=ae(Math.trunc(r.o%60)))),i&&(a+="["+r.zone.ianaName+"]"),a}const Oi={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},sl={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},il={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Yt=["year","month","day","hour","minute","second","millisecond"],ol=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],al=["year","ordinal","hour","minute","second","millisecond"];function Gt(r){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new Os(r);return e}function qr(r){switch(r.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Gt(r)}}function ll(r){if(Rt===void 0&&(Rt=se.now()),r.type!=="iana")return r.offset(Rt);const e=r.name;let t=Xn.get(e);return t===void 0&&(t=r.offset(Rt),Xn.set(e,t)),t}function Zr(r,e){const t=Je(e.zone,se.defaultZone);if(!t.isValid)return L.invalid(Nt(t));const n=G.fromObject(e);let s,i;if(U(r.year))s=se.now();else{for(const a of Yt)U(r[a])&&(r[a]=Oi[a]);const o=qs(r)||Zs(r);if(o)return L.invalid(o);const l=ll(t);[s,i]=Jt(r,l,t)}return new L({ts:s,zone:t,loc:n,o:i})}function Jr(r,e,t){const n=U(t.round)?!0:t.round,s=U(t.rounding)?"trunc":t.rounding,i=(l,a)=>(l=cr(l,n||t.calendary?0:2,t.calendary?"round":s),e.loc.clone(t).relFormatter(t).format(l,a)),o=l=>t.calendary?e.hasSame(r,l)?0:e.startOf(l).diff(r.startOf(l),l).get(l):e.diff(r,l).get(l);if(t.unit)return i(o(t.unit),t.unit);for(const l of t.units){const a=o(l);if(Math.abs(a)>=1)return i(a,l)}return i(r>e?-0:0,t.units[t.units.length-1])}function Yr(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}let Rt;const Xn=new Map;class L{constructor(e){const t=e.zone||se.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Ie("invalid input"):null)||(t.isValid?null:Nt(t));this.ts=U(e.ts)?se.now():e.ts;let s=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[s,i]=[e.old.c,e.old.o];else{const l=Ge(e.o)&&!e.old?e.o:t.offset(this.ts);s=Ht(this.ts,l),n=Number.isNaN(s.year)?new Ie("invalid input"):null,s=n?null:s,i=n?null:l}this._zone=t,this.loc=e.loc||G.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new L({})}static local(){const[e,t]=Yr(arguments),[n,s,i,o,l,a,c]=t;return Zr({year:n,month:s,day:i,hour:o,minute:l,second:a,millisecond:c},e)}static utc(){const[e,t]=Yr(arguments),[n,s,i,o,l,a,c]=t;return e.zone=ge.utcInstance,Zr({year:n,month:s,day:i,hour:o,minute:l,second:a,millisecond:c},e)}static fromJSDate(e,t={}){const n=Bo(e)?e.valueOf():NaN;if(Number.isNaN(n))return L.invalid("invalid input");const s=Je(t.zone,se.defaultZone);return s.isValid?new L({ts:n,zone:s,loc:G.fromObject(t)}):L.invalid(Nt(s))}static fromMillis(e,t={}){if(Ge(e))return e<-$r||e>$r?L.invalid("Timestamp out of range"):new L({ts:e,zone:Je(t.zone,se.defaultZone),loc:G.fromObject(t)});throw new de(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Ge(e))return new L({ts:e*1e3,zone:Je(t.zone,se.defaultZone),loc:G.fromObject(t)});throw new de("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=Je(t.zone,se.defaultZone);if(!n.isValid)return L.invalid(Nt(n));const s=G.fromObject(t),i=on(e,qr),{minDaysInFirstWeek:o,startOfWeek:l}=Dr(i,s),a=se.now(),c=U(t.specificOffset)?n.offset(a):t.specificOffset,f=!U(i.ordinal),u=!U(i.year),d=!U(i.month)||!U(i.day),h=u||d,m=i.weekYear||i.weekNumber;if((h||f)&&m)throw new ht("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&f)throw new ht("Can't mix ordinal dates with month/day");const p=m||i.weekday&&!h;let y,w,g=Ht(a,c);p?(y=ol,w=sl,g=rn(g,o,l)):f?(y=al,w=il,g=Rn(g)):(y=Yt,w=Oi);let b=!1;for(const D of y){const F=i[D];U(F)?b?i[D]=w[D]:i[D]=g[D]:b=!0}const O=p?Lo(i,o,l):f?jo(i):qs(i),k=O||Zs(i);if(k)return L.invalid(k);const E=p?Ir(i,o,l):f?_r(i):i,[S,T]=Jt(E,c,n),M=new L({ts:S,zone:n,o:T,loc:s});return i.weekday&&h&&e.weekday!==M.weekday?L.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${M.toISO()}`):M.isValid?M:L.invalid(M.invalid)}static fromISO(e,t={}){const[n,s]=Ra(e);return ft(n,s,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,s]=Ia(e);return ft(n,s,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,s]=_a(e);return ft(n,s,t,"HTTP",t)}static fromFormat(e,t,n={}){if(U(e)||U(t))throw new de("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:i=null}=n,o=G.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[l,a,c,f]=rl(o,e,t);return f?L.invalid(f):ft(l,a,n,`format ${t}`,e,c)}static fromString(e,t,n={}){return L.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,s]=ja(e);return ft(n,s,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new de("need to specify a reason the DateTime is invalid");const n=e instanceof Ie?e:new Ie(e,t);if(se.throwOnInvalid)throw new co(n);return new L({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=wi(e,G.fromObject(t));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,t={}){return mi(pe.parseFormat(e),G.fromObject(t)).map(s=>s.val).join("")}static resetCache(){Rt=void 0,Xn.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Dn(this).weekYear:NaN}get weekNumber(){return this.isValid?Dn(this).weekNumber:NaN}get weekday(){return this.isValid?Dn(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Mn(this).weekday:NaN}get localWeekNumber(){return this.isValid?Mn(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Mn(this).weekYear:NaN}get ordinal(){return this.isValid?Rn(this.c).ordinal:NaN}get monthShort(){return this.isValid?$t.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?$t.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?$t.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?$t.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=dn(this.c),s=this.zone.offset(n-e),i=this.zone.offset(n+e),o=this.zone.offset(n-s*t),l=this.zone.offset(n-i*t);if(o===l)return[this];const a=n-o*t,c=n-l*t,f=Ht(a,o),u=Ht(c,l);return f.hour===u.hour&&f.minute===u.minute&&f.second===u.second&&f.millisecond===u.millisecond?[Xe(this,{ts:a}),Xe(this,{ts:c})]:[this]}get isInLeapYear(){return Ct(this.year)}get daysInMonth(){return sn(this.year,this.month)}get daysInYear(){return this.isValid?pt(this.year):NaN}get weeksInWeekYear(){return this.isValid?_t(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?_t(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:s}=pe.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:s}}toUTC(e=0,t={}){return this.setZone(ge.instance(e),t)}toLocal(){return this.setZone(se.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=Je(e,se.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(t||n){const i=e.offset(this.ts),o=this.toObject();[s]=Jt(o,i,e)}return Xe(this,{ts:s,zone:e})}else return L.invalid(Nt(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return Xe(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=on(e,qr),{minDaysInFirstWeek:n,startOfWeek:s}=Dr(t,this.loc),i=!U(t.weekYear)||!U(t.weekNumber)||!U(t.weekday),o=!U(t.ordinal),l=!U(t.year),a=!U(t.month)||!U(t.day),c=l||a,f=t.weekYear||t.weekNumber;if((c||o)&&f)throw new ht("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&o)throw new ht("Can't mix ordinal dates with month/day");let u;i?u=Ir({...rn(this.c,n,s),...t},n,s):U(t.ordinal)?(u={...this.toObject(),...t},U(t.day)&&(u.day=Math.min(sn(u.year,u.month),u.day))):u=_r({...Rn(this.c),...t});const[d,h]=Jt(u,this.o,this.zone);return Xe(this,{ts:d,o:h})}plus(e){if(!this.isValid)return this;const t=H.fromDurationLike(e);return Xe(this,zr(this,t))}minus(e){if(!this.isValid)return this;const t=H.fromDurationLike(e).negate();return Xe(this,zr(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},s=H.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(t){const i=this.loc.getStartOfWeek(),{weekday:o}=this;o<i&&(n.weekNumber=this.weekNumber-1),n.weekday=i}else n.weekday=1;if(s==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?pe.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):_n}toLocaleString(e=nn,t={}){return this.isValid?pe.create(this.loc.clone(t),e).formatDateTime(this):_n}toLocaleParts(e={}){return this.isValid?pe.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:i=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=Gt(o);const l=e==="extended";let a=Fn(this,l,o);return Yt.indexOf(o)>=3&&(a+="T"),a+=Hr(this,l,t,n,s,i,o),a}toISODate({format:e="extended",precision:t="day"}={}){return this.isValid?Fn(this,e==="extended",Gt(t)):null}toISOWeekDate(){return qt(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:i=!1,format:o="extended",precision:l="milliseconds"}={}){return this.isValid?(l=Gt(l),(s&&Yt.indexOf(l)>=3?"T":"")+Hr(this,o==="extended",t,e,n,i,l)):null}toRFC2822(){return qt(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return qt(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Fn(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(t||e)&&(n&&(s+=" "),t?s+="z":e&&(s+="ZZ")),qt(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():_n}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return H.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=Vo(t).map(H.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,a=o?e:this,c=za(l,a,i,s);return o?c.negate():c}diffNow(e="milliseconds",t={}){return this.diff(L.now(),e,t)}until(e){return this.isValid?re.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const s=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,n)<=s&&s<=i.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||L.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(s=e.unit,i=void 0),Jr(t,this.plus(n),{...e,numeric:"always",units:s,unit:i})}toRelativeCalendar(e={}){return this.isValid?Jr(e.base||L.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(L.isDateTime))throw new de("min requires all arguments be DateTimes");return Mr(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(L.isDateTime))throw new de("max requires all arguments be DateTimes");return Mr(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:s=null,numberingSystem:i=null}=n,o=G.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return gi(o,e,t)}static fromStringExplain(e,t,n={}){return L.fromFormatExplain(e,t,n)}static buildFormatParser(e,t={}){const{locale:n=null,numberingSystem:s=null}=t,i=G.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new yi(i,e)}static fromFormatParser(e,t,n={}){if(U(e)||U(t))throw new de("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:i=null}=n,o=G.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});if(!o.equals(t.locale))throw new de(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${t.locale}`);const{result:l,zone:a,specificOffset:c,invalidReason:f}=t.explainFromTokens(e);return f?L.invalid(f):ft(l,a,n,`format ${t.format}`,e,c)}static get DATE_SHORT(){return nn}static get DATE_MED(){return Ss}static get DATE_MED_WITH_WEEKDAY(){return po}static get DATE_FULL(){return vs}static get DATE_HUGE(){return ks}static get TIME_SIMPLE(){return Es}static get TIME_WITH_SECONDS(){return Ts}static get TIME_WITH_SHORT_OFFSET(){return xs}static get TIME_WITH_LONG_OFFSET(){return As}static get TIME_24_SIMPLE(){return Ns}static get TIME_24_WITH_SECONDS(){return Rs}static get TIME_24_WITH_SHORT_OFFSET(){return Is}static get TIME_24_WITH_LONG_OFFSET(){return _s}static get DATETIME_SHORT(){return Ds}static get DATETIME_SHORT_WITH_SECONDS(){return Ms}static get DATETIME_MED(){return Fs}static get DATETIME_MED_WITH_SECONDS(){return Cs}static get DATETIME_MED_WITH_WEEKDAY(){return mo}static get DATETIME_FULL(){return Ps}static get DATETIME_FULL_WITH_SECONDS(){return Ls}static get DATETIME_HUGE(){return js}static get DATETIME_HUGE_WITH_SECONDS(){return Us}}function Et(r){if(L.isDateTime(r))return r;if(r&&r.valueOf&&Ge(r.valueOf()))return L.fromJSDate(r);if(r&&typeof r=="object")return L.fromObject(r);throw new de(`Unknown datetime argument: ${r}, of type ${typeof r}`)}function Si(r,e){return function(){return r.apply(e,arguments)}}const{toString:ul}=Object.prototype,{getPrototypeOf:pr}=Object,{iterator:yn,toStringTag:vi}=Symbol,gn=(r=>e=>{const t=ul.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Me=r=>(r=r.toLowerCase(),e=>gn(e)===r),wn=r=>e=>typeof e===r,{isArray:vt}=Array,gt=wn("undefined");function jt(r){return r!==null&&!gt(r)&&r.constructor!==null&&!gt(r.constructor)&&Oe(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const ki=Me("ArrayBuffer");function cl(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&ki(r.buffer),e}const fl=wn("string"),Oe=wn("function"),Ei=wn("number"),Ut=r=>r!==null&&typeof r=="object",hl=r=>r===!0||r===!1,Qt=r=>{if(gn(r)!=="object")return!1;const e=pr(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(vi in r)&&!(yn in r)},dl=r=>{if(!Ut(r)||jt(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},pl=Me("Date"),ml=Me("File"),yl=Me("Blob"),gl=Me("FileList"),wl=r=>Ut(r)&&Oe(r.pipe),bl=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Oe(r.append)&&((e=gn(r))==="formdata"||e==="object"&&Oe(r.toString)&&r.toString()==="[object FormData]"))},Ol=Me("URLSearchParams"),[Sl,vl,kl,El]=["ReadableStream","Request","Response","Headers"].map(Me),Tl=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bt(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,s;if(typeof r!="object"&&(r=[r]),vt(r))for(n=0,s=r.length;n<s;n++)e.call(null,r[n],n,r);else{if(jt(r))return;const i=t?Object.getOwnPropertyNames(r):Object.keys(r),o=i.length;let l;for(n=0;n<o;n++)l=i[n],e.call(null,r[l],l,r)}}function Ti(r,e){if(jt(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const nt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xi=r=>!gt(r)&&r!==nt;function er(){const{caseless:r,skipUndefined:e}=xi(this)&&this||{},t={},n=(s,i)=>{const o=r&&Ti(t,i)||i;Qt(t[o])&&Qt(s)?t[o]=er(t[o],s):Qt(s)?t[o]=er({},s):vt(s)?t[o]=s.slice():(!e||!gt(s))&&(t[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Bt(arguments[s],n);return t}const xl=(r,e,t,{allOwnKeys:n}={})=>(Bt(e,(s,i)=>{t&&Oe(s)?r[i]=Si(s,t):r[i]=s},{allOwnKeys:n}),r),Al=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Nl=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Rl=(r,e,t,n)=>{let s,i,o;const l={};if(e=e||{},r==null)return e;do{for(s=Object.getOwnPropertyNames(r),i=s.length;i-- >0;)o=s[i],(!n||n(o,r,e))&&!l[o]&&(e[o]=r[o],l[o]=!0);r=t!==!1&&pr(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Il=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},_l=r=>{if(!r)return null;if(vt(r))return r;let e=r.length;if(!Ei(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Dl=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&pr(Uint8Array)),Ml=(r,e)=>{const n=(r&&r[yn]).call(r);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(r,i[0],i[1])}},Fl=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},Cl=Me("HTMLFormElement"),Pl=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),Gr=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Ll=Me("RegExp"),Ai=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Bt(t,(s,i)=>{let o;(o=e(s,i,r))!==!1&&(n[i]=o||s)}),Object.defineProperties(r,n)},jl=r=>{Ai(r,(e,t)=>{if(Oe(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Oe(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ul=(r,e)=>{const t={},n=s=>{s.forEach(i=>{t[i]=!0})};return vt(r)?n(r):n(String(r).split(e)),t},Bl=()=>{},Vl=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Wl(r){return!!(r&&Oe(r.append)&&r[vi]==="FormData"&&r[yn])}const $l=r=>{const e=new Array(10),t=(n,s)=>{if(Ut(n)){if(e.indexOf(n)>=0)return;if(jt(n))return n;if(!("toJSON"in n)){e[s]=n;const i=vt(n)?[]:{};return Bt(n,(o,l)=>{const a=t(o,s+1);!gt(a)&&(i[l]=a)}),e[s]=void 0,i}}return n};return t(r,0)},zl=Me("AsyncFunction"),Hl=r=>r&&(Ut(r)||Oe(r))&&Oe(r.then)&&Oe(r.catch),Ni=((r,e)=>r?setImmediate:e?((t,n)=>(nt.addEventListener("message",({source:s,data:i})=>{s===nt&&i===t&&n.length&&n.shift()()},!1),s=>{n.push(s),nt.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Oe(nt.postMessage)),ql=typeof queueMicrotask<"u"?queueMicrotask.bind(nt):typeof process<"u"&&process.nextTick||Ni,Zl=r=>r!=null&&Oe(r[yn]),v={isArray:vt,isArrayBuffer:ki,isBuffer:jt,isFormData:bl,isArrayBufferView:cl,isString:fl,isNumber:Ei,isBoolean:hl,isObject:Ut,isPlainObject:Qt,isEmptyObject:dl,isReadableStream:Sl,isRequest:vl,isResponse:kl,isHeaders:El,isUndefined:gt,isDate:pl,isFile:ml,isBlob:yl,isRegExp:Ll,isFunction:Oe,isStream:wl,isURLSearchParams:Ol,isTypedArray:Dl,isFileList:gl,forEach:Bt,merge:er,extend:xl,trim:Tl,stripBOM:Al,inherits:Nl,toFlatObject:Rl,kindOf:gn,kindOfTest:Me,endsWith:Il,toArray:_l,forEachEntry:Ml,matchAll:Fl,isHTMLForm:Cl,hasOwnProperty:Gr,hasOwnProp:Gr,reduceDescriptors:Ai,freezeMethods:jl,toObjectSet:Ul,toCamelCase:Pl,noop:Bl,toFiniteNumber:Vl,findKey:Ti,global:nt,isContextDefined:xi,isSpecCompliantForm:Wl,toJSONObject:$l,isAsyncFn:zl,isThenable:Hl,setImmediate:Ni,asap:ql,isIterable:Zl};function W(r,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}v.inherits(W,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.status}}});const Ri=W.prototype,Ii={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Ii[r]={value:r}});Object.defineProperties(W,Ii);Object.defineProperty(Ri,"isAxiosError",{value:!0});W.from=(r,e,t,n,s,i)=>{const o=Object.create(Ri);v.toFlatObject(r,o,function(f){return f!==Error.prototype},c=>c!=="isAxiosError");const l=r&&r.message?r.message:"Error",a=e==null&&r?r.code:e;return W.call(o,l,a,t,n,s),r&&o.cause==null&&Object.defineProperty(o,"cause",{value:r,configurable:!0}),o.name=r&&r.name||"Error",i&&Object.assign(o,i),o};const Jl=null;function tr(r){return v.isPlainObject(r)||v.isArray(r)}function _i(r){return v.endsWith(r,"[]")?r.slice(0,-2):r}function Qr(r,e,t){return r?r.concat(e).map(function(s,i){return s=_i(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function Yl(r){return v.isArray(r)&&!r.some(tr)}const Gl=v.toFlatObject(v,{},null,function(e){return/^is[A-Z]/.test(e)});function bn(r,e,t){if(!v.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=v.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!v.isUndefined(y[p])});const n=t.metaTokens,s=t.visitor||f,i=t.dots,o=t.indexes,a=(t.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(e);if(!v.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(v.isDate(m))return m.toISOString();if(v.isBoolean(m))return m.toString();if(!a&&v.isBlob(m))throw new W("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(m)||v.isTypedArray(m)?a&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function f(m,p,y){let w=m;if(m&&!y&&typeof m=="object"){if(v.endsWith(p,"{}"))p=n?p:p.slice(0,-2),m=JSON.stringify(m);else if(v.isArray(m)&&Yl(m)||(v.isFileList(m)||v.endsWith(p,"[]"))&&(w=v.toArray(m)))return p=_i(p),w.forEach(function(b,O){!(v.isUndefined(b)||b===null)&&e.append(o===!0?Qr([p],O,i):o===null?p:p+"[]",c(b))}),!1}return tr(m)?!0:(e.append(Qr(y,p,i),c(m)),!1)}const u=[],d=Object.assign(Gl,{defaultVisitor:f,convertValue:c,isVisitable:tr});function h(m,p){if(!v.isUndefined(m)){if(u.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));u.push(m),v.forEach(m,function(w,g){(!(v.isUndefined(w)||w===null)&&s.call(e,w,v.isString(g)?g.trim():g,p,d))===!0&&h(w,p?p.concat(g):[g])}),u.pop()}}if(!v.isObject(r))throw new TypeError("data must be an object");return h(r),e}function Kr(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function mr(r,e){this._pairs=[],r&&bn(r,this,e)}const Di=mr.prototype;Di.append=function(e,t){this._pairs.push([e,t])};Di.toString=function(e){const t=e?function(n){return e.call(this,n,Kr)}:Kr;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Ql(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mi(r,e,t){if(!e)return r;const n=t&&t.encode||Ql;v.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=v.isURLSearchParams(e)?e.toString():new mr(e,t).toString(n),i){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class Xr{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){v.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Fi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kl=typeof URLSearchParams<"u"?URLSearchParams:mr,Xl=typeof FormData<"u"?FormData:null,eu=typeof Blob<"u"?Blob:null,tu={isBrowser:!0,classes:{URLSearchParams:Kl,FormData:Xl,Blob:eu},protocols:["http","https","file","blob","url","data"]},yr=typeof window<"u"&&typeof document<"u",nr=typeof navigator=="object"&&navigator||void 0,nu=yr&&(!nr||["ReactNative","NativeScript","NS"].indexOf(nr.product)<0),ru=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",su=yr&&window.location.href||"http://localhost",iu=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yr,hasStandardBrowserEnv:nu,hasStandardBrowserWebWorkerEnv:ru,navigator:nr,origin:su},Symbol.toStringTag,{value:"Module"})),me={...iu,...tu};function ou(r,e){return bn(r,new me.classes.URLSearchParams,{visitor:function(t,n,s,i){return me.isNode&&v.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function au(r){return v.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lu(r){const e={},t=Object.keys(r);let n;const s=t.length;let i;for(n=0;n<s;n++)i=t[n],e[i]=r[i];return e}function Ci(r){function e(t,n,s,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=i>=t.length;return o=!o&&v.isArray(s)?s.length:o,a?(v.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!v.isObject(s[o]))&&(s[o]=[]),e(t,n,s[o],i)&&v.isArray(s[o])&&(s[o]=lu(s[o])),!l)}if(v.isFormData(r)&&v.isFunction(r.entries)){const t={};return v.forEachEntry(r,(n,s)=>{e(au(n),s,t,0)}),t}return null}function uu(r,e,t){if(v.isString(r))try{return(e||JSON.parse)(r),v.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Vt={transitional:Fi,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,i=v.isObject(e);if(i&&v.isHTMLForm(e)&&(e=new FormData(e)),v.isFormData(e))return s?JSON.stringify(Ci(e)):e;if(v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e)||v.isReadableStream(e))return e;if(v.isArrayBufferView(e))return e.buffer;if(v.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ou(e,this.formSerializer).toString();if((l=v.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return bn(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),uu(e)):e}],transformResponse:[function(e){const t=this.transitional||Vt.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(v.isResponse(e)||v.isReadableStream(e))return e;if(e&&v.isString(e)&&(n&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?W.from(l,W.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:me.classes.FormData,Blob:me.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],r=>{Vt.headers[r]={}});const cu=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fu=r=>{const e={};let t,n,s;return r&&r.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!t||e[t]&&cu[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},es=Symbol("internals");function Tt(r){return r&&String(r).trim().toLowerCase()}function Kt(r){return r===!1||r==null?r:v.isArray(r)?r.map(Kt):String(r)}function hu(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const du=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Cn(r,e,t,n,s){if(v.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!v.isString(e)){if(v.isString(n))return e.indexOf(n)!==-1;if(v.isRegExp(n))return n.test(e)}}function pu(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function mu(r,e){const t=v.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let Se=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function i(l,a,c){const f=Tt(a);if(!f)throw new Error("header name must be a non-empty string");const u=v.findKey(s,f);(!u||s[u]===void 0||c===!0||c===void 0&&s[u]!==!1)&&(s[u||a]=Kt(l))}const o=(l,a)=>v.forEach(l,(c,f)=>i(c,f,a));if(v.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(v.isString(e)&&(e=e.trim())&&!du(e))o(fu(e),t);else if(v.isObject(e)&&v.isIterable(e)){let l={},a,c;for(const f of e){if(!v.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[c=f[0]]=(a=l[c])?v.isArray(a)?[...a,f[1]]:[a,f[1]]:f[1]}o(l,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=Tt(e),e){const n=v.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return hu(s);if(v.isFunction(t))return t.call(this,s,n);if(v.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tt(e),e){const n=v.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Cn(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function i(o){if(o=Tt(o),o){const l=v.findKey(n,o);l&&(!t||Cn(n,n[l],l,t))&&(delete n[l],s=!0)}}return v.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const i=t[n];(!e||Cn(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,n={};return v.forEach(this,(s,i)=>{const o=v.findKey(n,i);if(o){t[o]=Kt(s),delete t[i];return}const l=e?pu(i):String(i).trim();l!==i&&delete t[i],t[l]=Kt(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return v.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&v.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[es]=this[es]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Tt(o);n[l]||(mu(s,o),n[l]=!0)}return v.isArray(e)?e.forEach(i):i(e),this}};Se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(Se.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});v.freezeMethods(Se);function Pn(r,e){const t=this||Vt,n=e||t,s=Se.from(n.headers);let i=n.data;return v.forEach(r,function(l){i=l.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Pi(r){return!!(r&&r.__CANCEL__)}function kt(r,e,t){W.call(this,r??"canceled",W.ERR_CANCELED,e,t),this.name="CanceledError"}v.inherits(kt,W,{__CANCEL__:!0});function Li(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new W("Request failed with status code "+t.status,[W.ERR_BAD_REQUEST,W.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function yu(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function gu(r,e){r=r||10;const t=new Array(r),n=new Array(r);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),f=n[i];o||(o=c),t[s]=a,n[s]=c;let u=i,d=0;for(;u!==s;)d+=t[u++],u=u%r;if(s=(s+1)%r,s===i&&(i=(i+1)%r),c-o<e)return;const h=f&&c-f;return h?Math.round(d*1e3/h):void 0}}function wu(r,e){let t=0,n=1e3/e,s,i;const o=(c,f=Date.now())=>{t=f,s=null,i&&(clearTimeout(i),i=null),r(...c)};return[(...c)=>{const f=Date.now(),u=f-t;u>=n?o(c,f):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},n-u)))},()=>s&&o(s)]}const an=(r,e,t=3)=>{let n=0;const s=gu(50,250);return wu(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,a=o-n,c=s(a),f=o<=l;n=o;const u={loaded:o,total:l,progress:l?o/l:void 0,bytes:a,rate:c||void 0,estimated:c&&l&&f?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(u)},t)},ts=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},ns=r=>(...e)=>v.asap(()=>r(...e)),bu=me.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,me.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(me.origin),me.navigator&&/(msie|trident)/i.test(me.navigator.userAgent)):()=>!0,Ou=me.hasStandardBrowserEnv?{write(r,e,t,n,s,i,o){if(typeof document>"u")return;const l=[`${r}=${encodeURIComponent(e)}`];v.isNumber(t)&&l.push(`expires=${new Date(t).toUTCString()}`),v.isString(n)&&l.push(`path=${n}`),v.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),v.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(r){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Su(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function vu(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function ji(r,e,t){let n=!Su(e);return r&&(n||t==!1)?vu(r,e):e}const rs=r=>r instanceof Se?{...r}:r;function st(r,e){e=e||{};const t={};function n(c,f,u,d){return v.isPlainObject(c)&&v.isPlainObject(f)?v.merge.call({caseless:d},c,f):v.isPlainObject(f)?v.merge({},f):v.isArray(f)?f.slice():f}function s(c,f,u,d){if(v.isUndefined(f)){if(!v.isUndefined(c))return n(void 0,c,u,d)}else return n(c,f,u,d)}function i(c,f){if(!v.isUndefined(f))return n(void 0,f)}function o(c,f){if(v.isUndefined(f)){if(!v.isUndefined(c))return n(void 0,c)}else return n(void 0,f)}function l(c,f,u){if(u in e)return n(c,f);if(u in r)return n(void 0,c)}const a={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,f,u)=>s(rs(c),rs(f),u,!0)};return v.forEach(Object.keys({...r,...e}),function(f){const u=a[f]||s,d=u(r[f],e[f],f);v.isUndefined(d)&&u!==l||(t[f]=d)}),t}const Ui=r=>{const e=st({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=e;if(e.headers=o=Se.from(o),e.url=Mi(ji(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),v.isFormData(t)){if(me.hasStandardBrowserEnv||me.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(v.isFunction(t.getHeaders)){const a=t.getHeaders(),c=["content-type","content-length"];Object.entries(a).forEach(([f,u])=>{c.includes(f.toLowerCase())&&o.set(f,u)})}}if(me.hasStandardBrowserEnv&&(n&&v.isFunction(n)&&(n=n(e)),n||n!==!1&&bu(e.url))){const a=s&&i&&Ou.read(i);a&&o.set(s,a)}return e},ku=typeof XMLHttpRequest<"u",Eu=ku&&function(r){return new Promise(function(t,n){const s=Ui(r);let i=s.data;const o=Se.from(s.headers).normalize();let{responseType:l,onUploadProgress:a,onDownloadProgress:c}=s,f,u,d,h,m;function p(){h&&h(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function w(){if(!y)return;const b=Se.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:r,request:y};Li(function(S){t(S),p()},function(S){n(S),p()},k),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(n(new W("Request aborted",W.ECONNABORTED,r,y)),y=null)},y.onerror=function(O){const k=O&&O.message?O.message:"Network Error",E=new W(k,W.ERR_NETWORK,r,y);E.event=O||null,n(E),y=null},y.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||Fi;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),n(new W(O,k.clarifyTimeoutError?W.ETIMEDOUT:W.ECONNABORTED,r,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&v.forEach(o.toJSON(),function(O,k){y.setRequestHeader(k,O)}),v.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),c&&([d,m]=an(c,!0),y.addEventListener("progress",d)),a&&y.upload&&([u,h]=an(a),y.upload.addEventListener("progress",u),y.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(f=b=>{y&&(n(!b||b.type?new kt(null,r,y):b),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const g=yu(s.url);if(g&&me.protocols.indexOf(g)===-1){n(new W("Unsupported protocol "+g+":",W.ERR_BAD_REQUEST,r));return}y.send(i||null)})},Tu=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,s;const i=function(c){if(!s){s=!0,l();const f=c instanceof Error?c:this.reason;n.abort(f instanceof W?f:new kt(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,i(new W(`timeout ${e} of ms exceeded`,W.ETIMEDOUT))},e);const l=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),r=null)};r.forEach(c=>c.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=()=>v.asap(l),a}},xu=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,s;for(;n<t;)s=n+e,yield r.slice(n,s),n=s},Au=async function*(r,e){for await(const t of Nu(r))yield*xu(t,e)},Nu=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},ss=(r,e,t,n)=>{const s=Au(r,e);let i=0,o,l=a=>{o||(o=!0,n&&n(a))};return new ReadableStream({async pull(a){try{const{done:c,value:f}=await s.next();if(c){l(),a.close();return}let u=f.byteLength;if(t){let d=i+=u;t(d)}a.enqueue(new Uint8Array(f))}catch(c){throw l(c),c}},cancel(a){return l(a),s.return()}},{highWaterMark:2})},is=64*1024,{isFunction:Zt}=v,Ru=(({Request:r,Response:e})=>({Request:r,Response:e}))(v.global),{ReadableStream:os,TextEncoder:as}=v.global,ls=(r,...e)=>{try{return!!r(...e)}catch{return!1}},Iu=r=>{r=v.merge.call({skipUndefined:!0},Ru,r);const{fetch:e,Request:t,Response:n}=r,s=e?Zt(e):typeof fetch=="function",i=Zt(t),o=Zt(n);if(!s)return!1;const l=s&&Zt(os),a=s&&(typeof as=="function"?(m=>p=>m.encode(p))(new as):async m=>new Uint8Array(await new t(m).arrayBuffer())),c=i&&l&&ls(()=>{let m=!1;const p=new t(me.origin,{body:new os,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!p}),f=o&&l&&ls(()=>v.isReadableStream(new n("").body)),u={stream:f&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!u[m]&&(u[m]=(p,y)=>{let w=p&&p[m];if(w)return w.call(p);throw new W(`Response type '${m}' is not supported`,W.ERR_NOT_SUPPORT,y)})});const d=async m=>{if(m==null)return 0;if(v.isBlob(m))return m.size;if(v.isSpecCompliantForm(m))return(await new t(me.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(v.isArrayBufferView(m)||v.isArrayBuffer(m))return m.byteLength;if(v.isURLSearchParams(m)&&(m=m+""),v.isString(m))return(await a(m)).byteLength},h=async(m,p)=>{const y=v.toFiniteNumber(m.getContentLength());return y??d(p)};return async m=>{let{url:p,method:y,data:w,signal:g,cancelToken:b,timeout:O,onDownloadProgress:k,onUploadProgress:E,responseType:S,headers:T,withCredentials:M="same-origin",fetchOptions:D}=Ui(m),F=e||fetch;S=S?(S+"").toLowerCase():"text";let Q=Tu([g,b&&b.toAbortSignal()],O),P=null;const z=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let C;try{if(E&&c&&y!=="get"&&y!=="head"&&(C=await h(T,w))!==0){let ce=new t(p,{method:"POST",body:w,duplex:"half"}),B;if(v.isFormData(w)&&(B=ce.headers.get("content-type"))&&T.setContentType(B),ce.body){const[K,X]=ts(C,an(ns(E)));w=ss(ce.body,is,K,X)}}v.isString(M)||(M=M?"include":"omit");const Y=i&&"credentials"in t.prototype,te={...D,signal:Q,method:y.toUpperCase(),headers:T.normalize().toJSON(),body:w,duplex:"half",credentials:Y?M:void 0};P=i&&new t(p,te);let _=await(i?F(P,D):F(p,te));const xe=f&&(S==="stream"||S==="response");if(f&&(k||xe&&z)){const ce={};["status","statusText","headers"].forEach(ne=>{ce[ne]=_[ne]});const B=v.toFiniteNumber(_.headers.get("content-length")),[K,X]=k&&ts(B,an(ns(k),!0))||[];_=new n(ss(_.body,is,K,()=>{X&&X(),z&&z()}),ce)}S=S||"text";let Be=await u[v.findKey(u,S)||"text"](_,m);return!xe&&z&&z(),await new Promise((ce,B)=>{Li(ce,B,{data:Be,headers:Se.from(_.headers),status:_.status,statusText:_.statusText,config:m,request:P})})}catch(Y){throw z&&z(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new W("Network Error",W.ERR_NETWORK,m,P),{cause:Y.cause||Y}):W.from(Y,Y&&Y.code,m,P)}}},_u=new Map,Bi=r=>{let e=r&&r.env||{};const{fetch:t,Request:n,Response:s}=e,i=[n,s,t];let o=i.length,l=o,a,c,f=_u;for(;l--;)a=i[l],c=f.get(a),c===void 0&&f.set(a,c=l?new Map:Iu(e)),f=c;return c};Bi();const gr={http:Jl,xhr:Eu,fetch:{get:Bi}};v.forEach(gr,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const us=r=>`- ${r}`,Du=r=>v.isFunction(r)||r===null||r===!1;function Mu(r,e){r=v.isArray(r)?r:[r];const{length:t}=r;let n,s;const i={};for(let o=0;o<t;o++){n=r[o];let l;if(s=n,!Du(n)&&(s=gr[(l=String(n)).toLowerCase()],s===void 0))throw new W(`Unknown adapter '${l}'`);if(s&&(v.isFunction(s)||(s=s.get(e))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(us).join(`
`):" "+us(o[0]):"as no adapter specified";throw new W("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Vi={getAdapter:Mu,adapters:gr};function Ln(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new kt(null,r)}function cs(r){return Ln(r),r.headers=Se.from(r.headers),r.data=Pn.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Vi.getAdapter(r.adapter||Vt.adapter,r)(r).then(function(n){return Ln(r),n.data=Pn.call(r,r.transformResponse,n),n.headers=Se.from(n.headers),n},function(n){return Pi(n)||(Ln(r),n&&n.response&&(n.response.data=Pn.call(r,r.transformResponse,n.response),n.response.headers=Se.from(n.response.headers))),Promise.reject(n)})}const Wi="1.13.2",On={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{On[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const fs={};On.transitional=function(e,t,n){function s(i,o){return"[Axios v"+Wi+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(e===!1)throw new W(s(o," has been removed"+(t?" in "+t:"")),W.ERR_DEPRECATED);return t&&!fs[o]&&(fs[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,l):!0}};On.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Fu(r,e,t){if(typeof r!="object")throw new W("options must be an object",W.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const l=r[i],a=l===void 0||o(l,i,r);if(a!==!0)throw new W("option "+i+" must be "+a,W.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new W("Unknown option "+i,W.ERR_BAD_OPTION)}}const Xt={assertOptions:Fu,validators:On},Pe=Xt.validators;let rt=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Xr,response:new Xr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=st(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:i}=t;n!==void 0&&Xt.assertOptions(n,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),s!=null&&(v.isFunction(s)?t.paramsSerializer={serialize:s}:Xt.assertOptions(s,{encode:Pe.function,serialize:Pe.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Xt.assertOptions(t,{baseUrl:Pe.spelling("baseURL"),withXsrfToken:Pe.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&v.merge(i.common,i[t.method]);i&&v.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),t.headers=Se.concat(o,i);const l=[];let a=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(a=a&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let f,u=0,d;if(!a){const m=[cs.bind(this),void 0];for(m.unshift(...l),m.push(...c),d=m.length,f=Promise.resolve(t);u<d;)f=f.then(m[u++],m[u++]);return f}d=l.length;let h=t;for(;u<d;){const m=l[u++],p=l[u++];try{h=m(h)}catch(y){p.call(this,y);break}}try{f=cs.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=c.length;u<d;)f=f.then(c[u++],c[u++]);return f}getUri(e){e=st(this.defaults,e);const t=ji(e.baseURL,e.url,e.allowAbsoluteUrls);return Mi(t,e.params,e.paramsSerializer)}};v.forEach(["delete","get","head","options"],function(e){rt.prototype[e]=function(t,n){return this.request(st(n||{},{method:e,url:t,data:(n||{}).data}))}});v.forEach(["post","put","patch"],function(e){function t(n){return function(i,o,l){return this.request(st(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}rt.prototype[e]=t(),rt.prototype[e+"Form"]=t(!0)});let Cu=class $i{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,l){n.reason||(n.reason=new kt(i,o,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new $i(function(s){e=s}),cancel:e}}};function Pu(r){return function(t){return r.apply(null,t)}}function Lu(r){return v.isObject(r)&&r.isAxiosError===!0}const rr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rr).forEach(([r,e])=>{rr[e]=r});function zi(r){const e=new rt(r),t=Si(rt.prototype.request,e);return v.extend(t,rt.prototype,e,{allOwnKeys:!0}),v.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return zi(st(r,s))},t}const oe=zi(Vt);oe.Axios=rt;oe.CanceledError=kt;oe.CancelToken=Cu;oe.isCancel=Pi;oe.VERSION=Wi;oe.toFormData=bn;oe.AxiosError=W;oe.Cancel=oe.CanceledError;oe.all=function(e){return Promise.all(e)};oe.spread=Pu;oe.isAxiosError=Lu;oe.mergeConfig=st;oe.AxiosHeaders=Se;oe.formToJSON=r=>Ci(v.isHTMLForm(r)?new FormData(r):r);oe.getAdapter=Vi.getAdapter;oe.HttpStatusCode=rr;oe.default=oe;const{Axios:qc,AxiosError:hs,CanceledError:Zc,isCancel:Jc,CancelToken:Yc,VERSION:Gc,all:Qc,Cancel:Kc,isAxiosError:Xc,spread:ef,toFormData:tf,AxiosHeaders:nf,HttpStatusCode:rf,formToJSON:sf,getAdapter:of,mergeConfig:af}=oe,ju=String.prototype.replace,Uu=/%20/g,Hi={RFC1738:"RFC1738",RFC3986:"RFC3986"},Bu={RFC1738:function(r){return ju.call(r,Uu,"+")},RFC3986:function(r){return String(r)}},Vu=Hi.RFC1738,Wu=Hi.RFC3986,jn=Object.prototype.hasOwnProperty,et=Array.isArray,Le=(function(){const r=[];for(let e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r})(),$u=function(e){for(;e.length>1;){const t=e.pop(),n=t.obj[t.prop];if(et(n)){const s=[];for(let i=0;i<n.length;++i)typeof n[i]<"u"&&s.push(n[i]);t.obj[t.prop]=s}}},zu=function(e,t){const n=t&&t.plainObjects?Object.create(null):{};for(let s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},Hu=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(et(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!jn.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);let s=e;return et(e)&&!et(t)&&(s=zu(e,n)),et(e)&&et(t)?(t.forEach(function(i,o){if(jn.call(e,o)){const l=e[o];l&&typeof l=="object"&&i&&typeof i=="object"?e[o]=r(l,i,n):e.push(i)}else e[o]=i}),e):Object.keys(t).reduce(function(i,o){const l=t[o];return jn.call(i,o)?i[o]=r(i[o],l,n):i[o]=l,i},s)},qu=function(r,e,t){const n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Un=1024,Zu=function(e,t,n,s,i){if(e.length===0)return e;let o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let l="";for(let a=0;a<o.length;a+=Un){const c=o.length>=Un?o.slice(a,a+Un):o,f=[];for(let u=0;u<c.length;++u){let d=c.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===Vu&&(d===40||d===41)){f[f.length]=c.charAt(u);continue}if(d<128){f[f.length]=Le[d];continue}if(d<2048){f[f.length]=Le[192|d>>6]+Le[128|d&63];continue}if(d<55296||d>=57344){f[f.length]=Le[224|d>>12]+Le[128|d>>6&63]+Le[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|c.charCodeAt(u)&1023),f[f.length]=Le[240|d>>18]+Le[128|d>>12&63]+Le[128|d>>6&63]+Le[128|d&63]}l+=f.join("")}return l},Ju=function(e){const t=[{obj:{o:e},prop:"o"}],n=[];for(let s=0;s<t.length;++s){const i=t[s],o=i.obj[i.prop],l=Object.keys(o);for(let a=0;a<l.length;++a){const c=l[a],f=o[c];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(t.push({obj:o,prop:c}),n.push(f))}}return $u(t),e},Yu=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Gu=function(e,t){return[].concat(e,t)},sr=function(e,t){if(et(e)){const n=[];for(let s=0;s<e.length;s+=1)n.push(t(e[s]));return n}return t(e)},Qu={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},$e=Array.isArray,Ku=Array.prototype.push,qi=function(r,e){Ku.apply(r,$e(e)?e:[e])},Xu=Date.prototype.toISOString,ds=Wu,en={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Zu,encodeValuesOnly:!1,format:ds,formatter:Bu[ds],indices:!1,serializeDate:function(e){return Xu.call(e)},skipNulls:!1,strictNullHandling:!1},ec=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Bn={},Zi=function(e,t,n,s,i,o,l,a,c,f,u,d,h,m,p,y,w,g){let b=e,O=g,k=0,E=!1;for(;(O=O.get(Bn))!==void 0&&!E;){const F=O.get(e);if(k+=1,typeof F<"u"){if(F===k)throw new RangeError("Cyclic object value");E=!0}typeof O.get(Bn)>"u"&&(k=0)}if(typeof f=="function"?b=f(t,b):b instanceof Date?b=h(b):n==="comma"&&$e(b)&&(b=sr(b,function(F){return F instanceof Date?h(F):F})),b===null){if(o)return c&&!y?c(t,en.encoder,w,"key",m):t;b=""}if(ec(b)||Yu(b)){if(c){const F=y?t:c(t,en.encoder,w,"key",m);return[p(F)+"="+p(c(b,en.encoder,w,"value",m))]}return[p(t)+"="+p(String(b))]}const S=[];if(typeof b>"u")return S;let T;if(n==="comma"&&$e(b))y&&c&&(b=sr(b,c)),T=[{value:b.length>0?b.join(",")||null:void 0}];else if($e(f))T=f;else{const F=Object.keys(b);T=u?F.sort(u):F}const M=a?t.replace(/\./g,"%2E"):t,D=s&&$e(b)&&b.length===1?M+"[]":M;if(i&&$e(b)&&b.length===0)return D+"[]";for(let F=0;F<T.length;++F){const Q=T[F],P=typeof Q=="object"&&typeof Q.value<"u"?Q.value:b[Q];if(l&&P===null)continue;const z=d&&a?Q.replace(/\./g,"%2E"):Q,C=$e(b)?typeof n=="function"?n(D,z):D:D+(d?"."+z:"["+z+"]");g.set(e,k);const Y=new WeakMap;Y.set(Bn,g),qi(S,Zi(P,C,n,s,i,o,l,a,n==="comma"&&y&&$e(b)?null:c,f,u,d,h,m,p,y,w,Y))}return S},tc=function(e){return en};function ps(r,e){let t=r;const n=tc();let s,i;typeof n.filter=="function"?(i=n.filter,t=i("",t)):$e(n.filter)&&(i=n.filter,s=i);const o=[];if(typeof t!="object"||t===null)return"";const l=Qu[n.arrayFormat],a=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(t)),n.sort&&s.sort(n.sort);const c=new WeakMap;for(let d=0;d<s.length;++d){const h=s[d];n.skipNulls&&t[h]===null||qi(o,Zi(t[h],h,l,a,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}const f=o.join(n.delimiter);let u=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),f.length>0?u+f:""}const ir=Object.prototype.hasOwnProperty,nc=Array.isArray,tn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:qu,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},rc=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Ji=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},sc="utf8=%26%2310003%3B",ic="utf8=%E2%9C%93",oc=function(e,t){const n={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=s.split(t.delimiter,i);let l=-1,a,c=t.charset;if(t.charsetSentinel)for(a=0;a<o.length;++a)o[a].indexOf("utf8=")===0&&(o[a]===ic?c="utf-8":o[a]===sc&&(c="iso-8859-1"),l=a,a=o.length);for(a=0;a<o.length;++a){if(a===l)continue;const f=o[a],u=f.indexOf("]="),d=u===-1?f.indexOf("="):u+1;let h,m;d===-1?(h=t.decoder(f,tn.decoder,c,"key"),m=t.strictNullHandling?null:""):(h=t.decoder(f.slice(0,d),tn.decoder,c,"key"),m=sr(Ji(f.slice(d+1),t),function(y){return t.decoder(y,tn.decoder,c,"value")})),m&&t.interpretNumericEntities&&c==="iso-8859-1"&&(m=rc(m)),f.indexOf("[]=")>-1&&(m=nc(m)?[m]:m);const p=ir.call(n,h);p&&t.duplicates==="combine"?n[h]=Gu(n[h],m):(!p||t.duplicates==="last")&&(n[h]=m)}return n},ac=function(r,e,t,n){let s=n?e:Ji(e,t);for(let i=r.length-1;i>=0;--i){let o;const l=r[i];if(l==="[]"&&t.parseArrays)o=t.allowEmptyArrays&&s===""?[]:[].concat(s);else{o=t.plainObjects?Object.create(null):{};const a=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,c=t.decodeDotInKeys?a.replace(/%2E/g,"."):a,f=parseInt(c,10);!t.parseArrays&&c===""?o={0:s}:!isNaN(f)&&l!==c&&String(f)===c&&f>=0&&t.parseArrays&&f<=t.arrayLimit?(o=[],o[f]=s):c!=="__proto__"&&(o[c]=s)}s=o}return s},lc=function(e,t,n,s){if(!e)return;const i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g;let a=n.depth>0&&o.exec(i);const c=a?i.slice(0,a.index):i,f=[];if(c){if(!n.plainObjects&&ir.call(Object.prototype,c)&&!n.allowPrototypes)return;f.push(c)}let u=0;for(;n.depth>0&&(a=l.exec(i))!==null&&u<n.depth;){if(u+=1,!n.plainObjects&&ir.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(a[1])}return a&&f.push("["+i.slice(a.index)+"]"),ac(f,t,n,s)},uc=function(e){return tn};function ms(r,e){const t=uc();if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};const n=typeof r=="string"?oc(r,t):r;let s=t.plainObjects?Object.create(null):{};const i=Object.keys(n);for(let o=0;o<i.length;++o){const l=i[o],a=lc(l,n[l],t,typeof r=="string");s=Hu(s,a,t)}return t.allowSparse===!0?s:Ju(s)}var J=(r=>(r.desktop="desktop",r.log="log",r.info="info",r.warn="warn",r.error="error",r.trace="trace",r))(J||{});const _e=new Map;_e.set("title",["%c#title#","color: #959ca4; font-style: italic; padding: 0 6px; border-top: 1px solid #ccc; border-left: 1px solid #ccc; border-bottom: 1px solid #ccc"]);_e.set("desktop",["%cDESKTOP","color: white; font-style: italic; background-color: #29619b; padding: 0 6px; border: 1px solid #29619b"]);_e.set("log",["%cLOG","color: #2a323b; font-style: italic; background-color: #ccc; padding: 0 6px; border: 1px solid #ccc"]);_e.set("info",["%cINFO","color: #fff; font-style: italic; background-color: #6b7f96; padding: 0 6px; border: 1px solid #6b7f96"]);_e.set("warn",["%cWARNING","color: #f0a74f; font-style: italic; padding: 0 6px; border: 1px solid #f0a74f"]);_e.set("error",["%cERROR","color: white; font-style: italic; background-color: #8a3232; padding: 0 6px; border: 1px solid #8a3232"]);_e.set("trace",["%cTRACE","color: #2a323b; font-style: italic; background-color: #ccc; padding: 0 6px; border: 1px solid #ccc"]);class it{#e;#t={desktop:!0,log:!1,info:!1,warn:!1,error:!0,trace:!0};static build(e,t=!1){const n=new it(e);return t&&(n.enable("log"),n.enable("info"),n.enable("warn")),n}constructor(e){this.#e=e}#n(e){const t=[],n=[];if(_e.has("title")){const s=_e.get("title");s[0]&&(t.push(s[0].replace("#title#",this.#e)),n.push(s[1]||""))}if(_e.has(e)){const s=_e.get(e);s[0]&&(t.push(s[0]),n.push(s[1]||""))}return[t.join(""),...n]}setConfig(e){for(const t in e)this.#t[t]=e[t]}enable(e){return typeof this.#t[e]>"u"?!1:(this.#t[e]=!0,!0)}disable(e){return typeof this.#t[e]>"u"?!1:(this.#t[e]=!1,!0)}isEnabled(e){return this.#t[e]}desktop(...e){this.isEnabled("desktop")&&console.log(...this.#n("desktop"),...e)}log(...e){this.isEnabled("log")&&console.log(...this.#n("log"),...e)}info(...e){this.isEnabled("info")&&console.info(...this.#n("info"),...e)}warn(...e){this.isEnabled("warn")&&console.warn(...this.#n("warn"),...e)}error(...e){this.isEnabled("error")&&console.error(...this.#n("error"),...e)}trace(...e){this.isEnabled("trace")&&console.trace(...this.#n("trace"),...e)}}const cc=Function.prototype.toString.call(Object);class fc{getTag(e){return Object.prototype.toString.call(e)}isString(e){return typeof e=="string"||e instanceof String}isStringFilled(e){return this.isString(e)&&e!==""}isFunction(e){return e===null?!1:typeof e=="function"||e instanceof Function}isObject(e){return!!e&&(typeof e=="object"||typeof e=="function")}isObjectLike(e){return!!e&&typeof e=="object"}isPlainObject(e){if(!this.isObjectLike(e)||this.getTag(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=t.hasOwnProperty("constructor")&&t.constructor;return typeof n=="function"&&Function.prototype.toString.call(n)===cc}isJsonRpcRequest(e){return typeof e=="object"&&e&&"jsonrpc"in e&&this.isStringFilled(e.jsonrpc)&&"method"in e&&this.isStringFilled(e.method)}isJsonRpcResponse(e){return typeof e=="object"&&e&&"jsonrpc"in e&&this.isStringFilled(e.jsonrpc)&&"id"in e&&("result"in e||"error"in e)}isBoolean(e){return e===!0||e===!1}isNumber(e){return typeof e=="number"&&!Number.isNaN(e)}isInteger(e){return Number.isInteger(e)}isFloat(e){return this.isNumber(e)&&!this.isInteger(e)}isNil(e){return e==null}isArray(e){return!this.isNil(e)&&Array.isArray(e)}isArrayFilled(e){return this.isArray(e)&&e.length>0}isArrayLike(e){return!this.isNil(e)&&!this.isFunction(e)&&e.length>-1&&e.length<=Number.MAX_SAFE_INTEGER}isDate(e){return e instanceof Date}isDomNode(e){return this.isObjectLike(e)&&!this.isPlainObject(e)&&"nodeType"in e}isElementNode(e){return this.isDomNode(e)&&e.nodeType===Node.ELEMENT_NODE}isTextNode(e){return this.isDomNode(e)&&e.nodeType===Node.TEXT_NODE}isMap(e){return this.isObjectLike(e)&&this.getTag(e)==="[object Map]"}isSet(e){return this.isObjectLike(e)&&this.getTag(e)==="[object Set]"}isWeakMap(e){return this.isObjectLike(e)&&this.getTag(e)==="[object WeakMap]"}isWeakSet(e){return this.isObjectLike(e)&&this.getTag(e)==="[object WeakSet]"}isPrototype(e){return(typeof(e&&e.constructor)=="function"&&e.constructor.prototype||Object.prototype)===e}isRegExp(e){return this.isObjectLike(e)&&this.getTag(e)==="[object RegExp]"}isNull(e){return e===null}isUndefined(e){return typeof e>"u"}isArrayBuffer(e){return this.isObjectLike(e)&&this.getTag(e)==="[object ArrayBuffer]"}isTypedArray(e){const t=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)]$/;return this.isObjectLike(e)&&t.test(this.getTag(e))}isBlob(e){return this.isObjectLike(e)&&this.isNumber(e.size)&&this.isString(e.type)&&this.isFunction(e.slice)}isFile(e){return this.isBlob(e)&&this.isString(e.name)&&(this.isNumber(e.lastModified)||this.isObjectLike(e.lastModifiedDate))}isFormData(e){return typeof FormData<"u"&&e instanceof FormData?!0:this.isObjectLike(e)&&this.getTag(e)==="[object FormData]"}clone(e,t=!0){let n,s,i;if(this.isNil(e)||typeof e!="object")return e;if(this.isDomNode(e))n=e.cloneNode(t);else if(typeof e=="object")if(this.isArray(e))for(n=[],s=0,i=e.length;s<i;s++)typeof e[s]=="object"&&t?n[s]=this.clone(e[s],t):n[s]=e[s];else{n={},e.constructor&&(this.isDate(e)?n=new Date(e):n=new e.constructor);for(s in e)e.hasOwnProperty(s)&&(typeof e[s]=="object"&&t?n[s]=this.clone(e[s],t):n[s]=e[s])}else n=e;return n}}const le=new fc;function hc(r,e){const t={...r};for(const n of e)delete t[n];return t}const fe=[];for(let r=0;r<256;++r)fe.push((r+256).toString(16).slice(1));function dc(r,e,t,n){return()=>{r|=0,e|=0,t|=0,n|=0;const s=(r+e|0)+n|0;return n=n+1|0,r=e^e>>>9,e=t+(t<<3)|0,t=(t<<21|t>>>11)+s|0,s>>>0}}function pc(){const r=new Uint8Array(16),e=BigInt(Date.now()),t=BigInt(Math.floor(performance.now()*1e3)%65535),n=e<<16n|t;r[0]=Number(n>>40n&0xffn),r[1]=Number(n>>32n&0xffn),r[2]=Number(n>>24n&0xffn),r[3]=Number(n>>16n&0xffn),r[4]=Number(n>>8n&0xffn),r[5]=Number(n&0xffn);const s=(Math.random()*4294967295^Date.now()^performance.now())>>>0,i=dc(2654435769,608135816,3084996962,s),o=new DataView(r.buffer);return o.setUint32(6,i()),o.setUint32(10,i()),o.setUint16(14,i()),r[6]=112|r[6]&15,r[8]=128|r[8]&63,(fe[r[0]]+fe[r[1]]+fe[r[2]]+fe[r[3]]+"-"+fe[r[4]]+fe[r[5]]+"-"+fe[r[6]]+fe[r[7]]+"-"+fe[r[8]]+fe[r[9]]+"-"+fe[r[10]]+fe[r[11]]+fe[r[12]]+fe[r[13]]+fe[r[14]]+fe[r[15]]).toLowerCase()}const mc=/[&<>'"]/g,yc=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34)/g,gc={"&":"&amp","<":"&lt",">":"&gt","'":"&#39",'"':"&quot"},wc={"&amp":"&","&#38":"&","&lt":"<","&#60":"<","&gt":">","&#62":">","&apos":"'","&#39":"'","&quot":'"',"&#34":'"'};class bc{getRandom(e=8){return[...Array(e)].map(()=>Math.trunc(Math.random()*36).toString(36)).join("")}getUniqId(){return"xxxxxxxx-xlsx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.trunc(Math.random()*16);return(e==="x"?t:t&3|8).toString(16)})}getUuidRfc4122(){return pc()}encode(e){return le.isString(e)?e.replace(mc,t=>gc[t]):e}decode(e){return le.isString(e)?e.replace(yc,t=>wc[t]):e}toNumber(e){const t=Number.parseFloat(e);return le.isNumber(t)?t:0}toInteger(e){return this.toNumber(Number.parseInt(e,10))}toBoolean(e,t=[]){const n=le.isString(e)?e.toLowerCase():e;return["true","y","1",1,!0,...t].includes(n)}toCamelCase(e){if(!le.isStringFilled(e))return e;const t=/[-_\s]+(.)?/g;return t.test(e)?(e=e.toLowerCase(),e=e.replace(t,(n,s)=>s?s.toUpperCase():""),e[0].toLowerCase()+e.substring(1)):e.match(/^[A-Z]+$/)?e.toLowerCase():e[0].toLowerCase()+e.slice(1)}toPascalCase(e){return le.isStringFilled(e)?this.capitalize(this.toCamelCase(e)):e}toKebabCase(e){if(!le.isStringFilled(e))return e;const t=e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g);return t?t.map(n=>n.toLowerCase()).join("-"):e}capitalize(e){return le.isStringFilled(e)?e[0].toUpperCase()+e.substring(1):e}numberFormat(e,t=0,n=".",s=","){const i=Number.isFinite(e)?e:0,o=Number.isFinite(t)?Math.abs(t):0,a=(o?((c,f)=>{const u=Math.pow(10,f);return Math.round(c*u)/u})(i,o):Math.round(i)).toString().split(".");return a[0].length>3&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),(a[1]||"").length<o&&(a[1]=a[1]||"",a[1]+=new Array(o-a[1].length+1).join("0")),a.join(n)}toDateTime(e,t,n){return!(typeof t>"u")&&le.isStringFilled(t)?L.fromFormat(e,t,n):L.fromISO(e,n)}getDateForLog(){return L.now().toFormat("y-MM-dd HH:mm:ss")}buildQueryString(e){let t="";for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n];le.isArray(s)?s.forEach((i,o)=>{t+=encodeURIComponent(n+"["+o+"]")+"="+encodeURIComponent(i)+"&"}):t+=encodeURIComponent(n)+"="+encodeURIComponent(s)+"&"}return t.length>0&&(t=t.substring(0,t.length-1)),t}}const Dt=new bc;let ys="";try{ys=navigator?.userAgent.toLowerCase()}catch{ys="?"}const Oc={sleep:1e3,speed:.001,amount:30};class je{_errors;_data;constructor(e){this._errors=new Map,this._data=e??null}get isSuccess(){return this._errors.size===0}get errors(){return this._errors}setData(e){return this._data=e,this}getData(){return this._data}addError(e,t){const n=t??Dt.getUuidRfc4122(),s=typeof e=="string"?new Error(e):e;return this._errors.set(n,s),this}addErrors(e){for(const t of e)this.addError(t);return this}getErrors(){return this._errors.values()}hasError(e){return this._errors.has(e)}getErrorMessages(){return Array.from(this._errors.values(),e=>e.message)}toString(){const e=this.isSuccess?"success":"failure",t=this.safeStringify(this._data);return this.isSuccess?`Result(${e}): ${t}`:`Result(${e}): ${t}
Errors: ${this.getErrorMessages().join(", ")}`}safeStringify(e){try{return JSON.stringify(e,this.replacer,2)}catch{return"[Unable to serialize data]"}}replacer(e,t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack}:t}static ok(e){return new je(e)}static fail(e,t){return new je().addError(e,t)}}class Ue extends Error{code;_status;requestInfo;timestamp;originalError;constructor(e){const t=Ue.formatErrorMessage(e);super(t),this.name="AjaxError",this.code=e.code,this._status=e.status,this.requestInfo=e.requestInfo,this.originalError=e.originalError,this.timestamp=new Date,this.cleanErrorStack()}get answerError(){return{error:this.message,errorDescription:""}}get status(){return this._status}set status(e){this._status=e}static fromResponse(e){return new Ue({code:e.data?.error||"unknown_error",description:e.data?.error_description,status:e.status,requestInfo:{method:e.config?.method?.toUpperCase(),url:e.config?.url,params:e.config?.params}})}static fromException(e,t){return e instanceof Ue?e:new Ue({code:t?.code||"internal_error",status:t?.status||500,description:e instanceof Error?e.message:String(e),requestInfo:t?.requestInfo,originalError:e})}toJSON(){return{name:this.name,code:this.code,message:this.message,status:this._status,timestamp:this.timestamp.toISOString(),requestInfo:this.requestInfo,stack:this.stack}}toString(){let e=`[${this.name}] ${this.code} (${this._status}): ${this.message}`;return this.requestInfo&&(e+=`
Request: ${this.requestInfo.method} ${this.requestInfo.url}`),this.stack&&(e+=`
Stack trace:
${this.stack}`),e}static formatErrorMessage(e){const t=[e.code];return e.description&&t.push(`- ${e.description}`),e.requestInfo?.method&&e.requestInfo.url&&t.push(`(on ${e.requestInfo.method} ${e.requestInfo.url})`),t.join(" ")}cleanErrorStack(){typeof this.stack=="string"&&(this.stack=this.stack.split(`
`).filter(e=>!e.includes("AjaxError.constructor")).join(`
`))}}class Vn extends je{_status;_query;_data;constructor(e){super(),this._data=Object.freeze(e.answer),this._query=Object.freeze(structuredClone(e.query)),this._status=e.status,this.#e()}#e(){const{error:e}=this._data;if(!e)return;const t=this.#t(e);this.addError(this.#n(t),"base-error")}#t(e){return typeof e=="string"?{code:e,description:this._data.error_description||""}:{code:e.error,description:e.error_description||""}}#n(e){return new Ue({code:String(this._status),description:e.description,status:this._status,requestInfo:{method:this._query.method,params:this._query.params}})}getData(){return Object.freeze({result:this._data.result,next:this._data.next,total:this._data.total,time:this._data.time})}hasMore(){return this.isMore()}isMore(){return le.isNumber(this._data?.next)}getTotal(){return Dt.toInteger(this._data?.total)}getStatus(){return this._status}getQuery(){return this._query}async fetchNext(e){const t=await this.getNext(e);return t===!1?null:t}async getNext(e){if(!this.isMore()||!this.isSuccess)return!1;const t=this.#r();return e.call(t.method,t.params,t.start)}#r(){return{...this._query,start:Dt.toInteger(this._data.next)}}setData(){throw new ReferenceError("AjaxResult does not allow data modification")}}class Sc{#e;#t;#n;_logger=null;constructor(){this.#e=Oc,this.#n=0,this.#t=0}setLogger(e){this._logger=e}getLogger(){return this._logger===null&&(this._logger=it.build("NullLogger"),this._logger.setConfig({[J.desktop]:!1,[J.log]:!1,[J.info]:!1,[J.warn]:!1,[J.error]:!0,[J.trace]:!1})),this._logger}get params(){return{...this.#e}}set params(e){this.#e=e,this.getLogger().log("new restriction manager params",e)}check(e=""){return new Promise(t=>{if(this.#s(),this.#i())return this.getLogger().log(`>> no sleep >>> ${e}`,this.#r()),this.#o(),t(null);{const n=i=>{this.getLogger().info(`>> go sleep >>> ${e}`,this.#r()),setTimeout(()=>{i()},this.#e.sleep)},s=()=>{if(this.#s(),this.#i())return this.getLogger().info(`<< stop sleep <<< ${e}`,this.#r()),this.#o(),t(null);n(s)};n(s)}})}#r(){return`${this.#n.toFixed(4)} from ${this.#e.amount}`}#s(){this.#t>0&&(this.#n-=(Date.now()-this.#t)*this.#e.speed,this.#n<0&&(this.#n=0)),this.#t=Date.now()}#o(){this.#n++}#i(){return this.#n<this.#e.amount}}const vc="X-Request-ID",kc="bx24_request_id",Ec="bx24_sdk_ver",Tc="bx24_sdk_type";class xc{getQueryStringParameterName(){return kc}getQueryStringSdkParameterName(){return Ec}getQueryStringSdkTypeParameterName(){return Tc}generate(){return Dt.getUuidRfc4122()}getRequestId(){return this.generate()}getHeaderFieldName(){return vc}}class Ac{#e;#t;#n;#r;_logger=null;_loggerSystem=null;#s="";#o=!1;#i="";constructor(e,t,n){const s={};this.#e=oe.create({baseURL:e,headers:{...s,...n?n.headers:{}},...n&&{...n,headers:void 0}}),this.#t=t,this.#n=new Sc,this.#r=new xc}setLogger(e){this._logger=e,this.#n.setLogger(this.getLogger())}getLogger(){return this._logger===null&&(this._logger=it.build("NullLogger"),this._logger.setConfig({[J.desktop]:!1,[J.log]:!1,[J.info]:!1,[J.warn]:!1,[J.error]:!0,[J.trace]:!1})),this._logger}getSystemLogger(){return this._loggerSystem===null&&(this._loggerSystem=it.build("SystemLogger"),this._loggerSystem.setConfig({[J.desktop]:!1,[J.log]:!1,[J.info]:!0,[J.warn]:!0,[J.error]:!0,[J.trace]:!1})),this._loggerSystem}setRestrictionManagerParams(e){this.#n.params=e}getRestrictionManagerParams(){return this.#n.params}setLogTag(e){this.#s=e}clearLogTag(){this.#s=""}async batch(e,t=!0,n=!1){return Array.isArray(e)?this.#u(e,t,n):this.#a(e,t,n)}async#a(e,t=!0,n=!1){const s={};let i=0;const o=(l,a)=>{let c=null,f=null;l.method?(c=l.method??null,f=l?.params??null):Array.isArray(l)&&l.length>0&&(c=l[0]??null,f=l[1]??null),c&&(i++,s[a]=c+"?"+ps(f))};for(const[l,a]of Object.entries(e))o(a,l);return i<1?Promise.resolve(new je):this.call("batch",{halt:t?1:0,cmd:s}).then(l=>{const a=l.getData().result,c={},f=(m,p)=>{if(typeof a.result[p]<"u"||typeof a.result_error[p]<"u"){const y=m.split("?");c[p]=new Vn({answer:{result:le.isUndefined(a.result[p])?{}:a.result[p],error:a?.result_error[p]||void 0,total:a.result_total[p],next:a.result_next[p],time:a.result_time[p]},query:{method:y[0]||"",params:ms(y[1]||""),start:0},status:l.getStatus()})}};for(const[m,p]of Object.entries(s))f(p,m);const u={},d=m=>m.hasError("base-error")?m.errors.get("base-error"):new Ue({code:"0",description:m.getErrorMessages().join("; "),status:0,requestInfo:{method:m.getQuery().method,params:m.getQuery().params},originalError:m.getErrors().next().value}),h=new je;for(const m of Object.keys(c)){const p=c[m];if(p.getStatus()!==200||!p.isSuccess){const y=d(p);if(!t&&!p.isSuccess){h.addError(y,m);continue}return Promise.reject(y)}u[m]=n?p:p.getData().result}return h.setData(u),Promise.resolve(h)})}async#u(e,t=!0,n=!1){const s=[];let i=0;const o=l=>{let a=null,c=null;if(l.method?(a=l.method??null,c=l?.params??null):Array.isArray(l)&&l.length>0&&(a=l[0]??null,c=l[1]??null),a){i++;const f=a+"?"+ps(c);s.push(f)}};for(const[l,a]of e.entries())o(a);return i<1?Promise.resolve(new je):this.call("batch",{halt:t?1:0,cmd:s}).then(l=>{const a=l.getData().result,c=[],f=(m,p)=>{if(typeof a.result[p]<"u"||typeof a.result_error[p]<"u"){const y=m.split("?"),w=new Vn({answer:{result:le.isUndefined(a.result[p])?{}:a.result[p],error:a?.result_error[p]||void 0,total:a.result_total[p],next:a.result_next[p],time:a.result_time[p]},query:{method:y[0]||"",params:ms(y[1]||""),start:0},status:l.getStatus()});c.push(w)}};for(const[m,p]of s.entries())f(p,m);const u=[],d=m=>m.hasError("base-error")?m.errors.get("base-error"):new Ue({code:"0",description:m.getErrorMessages().join("; "),status:0,requestInfo:{method:m.getQuery().method,params:m.getQuery().params},originalError:m.getErrors().next().value}),h=new je;for(const m of c){if(m.getStatus()!==200||!m.isSuccess){const p=d(m);if(!t&&!m.isSuccess){h.addError(p);continue}return Promise.reject(p)}u.push(n?m:m.getData().result)}return h.setData(u),Promise.resolve(h)})}async call(e,t,n=0){let s=this.#t.getAuthData();return s===!1&&(s=await this.#t.refreshAuth()),await this.#n.check(),this.#o&&!this.isServerSide()&&le.isStringFilled(this.#i)&&this.getSystemLogger().warn(this.#i),this.#e.post(this.#c(e),this.#l(s,t,n)).then(i=>{const o=i.data;return Promise.resolve({status:i.status,payload:o})},async i=>{let o={error:i?.code||0,errorDescription:i?.message||""};if(i instanceof hs&&i.response&&i.response.data&&!le.isUndefined(i.response.data.error)){const a=i.response.data;o={error:a.error,errorDescription:a.error_description}}const l=new Ue({code:String(o.error),description:o.errorDescription,status:i.response?.status||0,requestInfo:{method:e,params:t},originalError:i});return l.status===401&&["expired_token","invalid_token"].includes(l.answerError.error)?(this.getLogger().info(`refreshAuth >> ${l.answerError.error} >>>`),s=await this.#t.refreshAuth(),await this.#n.check(),this.#e.post(this.#c(e),this.#l(s,t,n)).then(async a=>{const c=a.data;return Promise.resolve({status:a.status,payload:c})},async a=>{let c={error:a?.code||0,errorDescription:a?.message||""};if(a instanceof hs&&a.response&&a.response.data){const u=a.response.data;c={error:u.error,errorDescription:u.error_description}}const f=new Ue({code:String(c.error),description:c.errorDescription,status:i.response?.status||0,requestInfo:{method:e,params:t},originalError:a});return Promise.reject(f)})):Promise.reject(l)}).then(i=>{const o=new Vn({answer:i.payload,query:{method:e,params:t,start:n},status:i.status});return Promise.resolve(o)})}#l(e,t,n=0){const s=Object.assign({},t);return this.#s.length>0&&(s.logTag=this.#s),s.data&&s.data.start&&delete s.data.start,e.refresh_token!=="hook"&&(s.auth=e.access_token),s.start=n,s}#c(e){const t=`${encodeURIComponent(e)}.json`;if(e.includes("task."))return`${t}`;const n=new URLSearchParams({[this.#r.getQueryStringParameterName()]:this.#r.getRequestId(),[this.#r.getQueryStringSdkParameterName()]:"0.5.1",[this.#r.getQueryStringSdkTypeParameterName()]:"b24-js-sdk"});return`${t}?${n.toString()}`}setClientSideWarning(e,t){this.#o=e,this.#i=t}isServerSide(){return typeof window>"u"}}class ln{static batchSize=50;_isInit=!1;_http=null;_logger=null;constructor(){this._isInit=!1}get isInit(){return this._isInit}async init(){this._isInit=!0}destroy(){}setLogger(e){this._logger=e,this.getHttpClient().setLogger(this.getLogger())}getLogger(){return this._logger===null&&(this._logger=it.build("NullLogger"),this._logger.setConfig({[J.desktop]:!1,[J.log]:!1,[J.info]:!1,[J.warn]:!1,[J.error]:!0,[J.trace]:!1})),this._logger}callMethod(e,t,n){return this.getHttpClient().call(e,t||{},n||0)}async callListMethod(e,t={},n=null,s=null){const i=new je;return le.isFunction(n)&&n!==null&&n(0),this.callMethod(e,t,0).then(async o=>{let l=[],a;if(s===null?a=o.getData().result:a=o.getData().result[s],l=[...l,...a],o.isMore()){let c=o;for(;c=await c.getNext(this.getHttpClient()),c!==!1;){let f;if(s===null?f=c.getData().result:f=c.getData().result[s],l=[...l,...f],n){const u=c.getTotal();n(u>0?Math.round(100*l.length/u):100)}}}return i.setData(l),n&&n(100),i})}async*fetchListMethod(e,t={},n="ID",s=null){t.order=t.order||{},t.filter=t.filter||{},t.start=-1;const i=`>${n}`;t.order[n]="ASC",t.filter[i]=0;do{const o=await this.callMethod(e,t,t.start);let l;if(!le.isNull(s)&&s!==null?l=o.getData().result[s]:l=o.getData().result,l.length===0||(yield l,l.length<ln.batchSize))break;const a=l.at(-1);a&&n in a&&(t.filter[i]=a[n])}while(!0)}async callBatch(e,t=!0,n=!1){return this.getHttpClient().batch(e,t,n)}chunkArray(e,t=50){const n=[];for(let s=0;s<e.length;s+=t){const i=e.slice(s,s+t);n.push(i)}return n}async callBatchByChunk(e,t=!0){const n=new je,s=[],i=this.chunkArray(e,ln.batchSize);for(const o of i){const l=await this.callBatch(o,t);s.push(...l.getData())}return n.setData(s)}getHttpClient(){if(!this.isInit||this._http===null)throw new Error("Http not init");return this._http}_getHttpOptions(){return null}_ensureInitialized(){if(!this._isInit)throw new Error("B24 not initialized")}}var Yi=(r=>(r.en="en",r.de="de",r.la="la",r.br="br",r.fr="fr",r.it="it",r.pl="pl",r.ru="ru",r.ua="ua",r.tr="tr",r.sc="sc",r.tc="tc",r.ja="ja",r.vn="vn",r.id="id",r.ms="ms",r.th="th",r.ar="ar",r))(Yi||{});const Nc=()=>({scrollWidth:Math.max(document.documentElement.scrollWidth,document.documentElement.offsetWidth),scrollHeight:Math.max(document.documentElement.scrollHeight,document.documentElement.offsetHeight)});var ee=(r=>(r.getInitData="getInitData",r.setInstallFinish="setInstallFinish",r.setInstall="setInstall",r.refreshAuth="refreshAuth",r.setAppOption="setAppOption",r.setUserOption="setUserOption",r.resizeWindow="resizeWindow",r.reloadWindow="reloadWindow",r.setTitle="setTitle",r.setScroll="setScroll",r.openApplication="openApplication",r.closeApplication="closeApplication",r.openPath="openPath",r.imCallTo="imCallTo",r.imPhoneTo="imPhoneTo",r.imOpenMessenger="imOpenMessenger",r.imOpenHistory="imOpenHistory",r.selectUser="selectUser",r.selectAccess="selectAccess",r.selectCRM="selectCRM",r.showAppForm="showAppForm",r.getInterface="getInterface",r.placementBindEvent="placementBindEvent",r))(ee||{});class Rc{#e;#t;#n;_logger=null;runCallbackHandler;constructor(e){this.#e=e,this.#t=new Map,this.#n=new Map,this.runCallbackHandler=this._runCallback.bind(this)}setLogger(e){this._logger=e}getLogger(){return this._logger===null&&(this._logger=it.build("NullLogger"),this._logger.setConfig({[J.desktop]:!1,[J.log]:!1,[J.info]:!1,[J.warn]:!1,[J.error]:!0,[J.trace]:!1})),this._logger}subscribe(){window.addEventListener("message",this.runCallbackHandler)}unsubscribe(){window.removeEventListener("message",this.runCallbackHandler)}async send(e,t=null){return new Promise((n,s)=>{let i;const o={resolve:n,reject:s,timeoutId:null},l=this.#r(o);let a=null;const c=hc(t||{},["singleOption","callBack","isSafely","safelyTime"]),{callBack:f,singleOption:u}=t||{};if(f&&this.#n.set(l,f),u?a=u:Object.keys(c).length>0&&(a={...c}),e.toString().includes(":"))i={method:e.toString(),params:a||"",callback:l,appSid:this.#e.getAppSid()};else{i=e.toString(),t?.isRawValue!==!0&&a?a=JSON.stringify(a):t?.isRawValue===!0&&a&&le.isPlainObject(a)&&a.value&&(a=a.value);const d=[a||"",l,this.#e.getAppSid()];i+=":"+d.filter(Boolean).join(":")}this.getLogger().log(`send to ${this.#e.getTargetOrigin()}`,{cmd:i}),parent.postMessage(i,this.#e.getTargetOrigin()),t?.isSafely&&(this.#t.get(l).timeoutId=window.setTimeout(()=>{this.#t.has(l)&&(this.getLogger().warn(`Action ${e.toString()} stop by timeout`),this.#t.delete(l),n({isSafely:!0}))},Number.parseInt(String(t?.safelyTime||900))))})}_runCallback(e){if(e.origin===this.#e.getTargetOrigin()&&e.data){this.getLogger().log(`get from ${e.origin}`,{data:e.data});const t=e.data.split(":"),n={id:t[0],args:t.slice(1).join(":")};if(n.args&&(n.args=JSON.parse(n.args)),this.#t.has(n.id)){const s=this.#t.get(n.id);s.timeoutId&&clearTimeout(s.timeoutId),this.#t.delete(n.id),s.resolve(n.args)}else if(this.#n.has(n.id)){const s=this.#n.get(n.id);s&&s.apply(globalThis,[n.args])}}}#r(e){const t=Dt.getUniqId();return this.#t.set(t,e),t}}class Ic{#e="";#t=!0;#n=null;#r=null;#s=null;constructor(e){e.DOMAIN&&(this.#e=e.DOMAIN,this.#e=this.#e.replace(/:(80|443)$/,"")),this.#t=e.PROTOCOL===!0,e.LANG&&(this.#s=e.LANG),e.APP_SID&&(this.#n=e.APP_SID)}initData(e){return this.#e||(this.#e=e.DOMAIN),this.#r||(this.#r=e.PATH),this.#s||(this.#s=e.LANG),this.#t=Number.parseInt(e.PROTOCOL)===1,this.#e=this.#e.replace(/:(80|443)$/,""),this}getAppSid(){if(this.#n===null)throw new Error("Not init appSid");return this.#n}getTargetOrigin(){return`${this.#t?"https":"http"}://${this.#e}`}getTargetOriginWithPath(){return this.getTargetOrigin()+(this.#r??"")}getLang(){return this.#s||Yi.en}}class _c{#e=null;#t=null;#n=0;#r=0;#s=null;#o=!1;#i;#a;constructor(e,t){this.#i=e,this.#a=t}initData(e){return e.AUTH_ID&&(this.#e=e.AUTH_ID,this.#t=e.REFRESH_ID,this.#r=Number.parseInt(e.AUTH_EXPIRES),this.#n=Date.now()+this.#r*1e3,this.#o=e.IS_ADMIN,this.#s=e.MEMBER_ID||""),this}getAuthData(){return this.#n>Date.now()?{access_token:this.#e,refresh_token:this.#t,expires:this.#n/1e3,expires_in:this.#r,domain:this.#i.getTargetOrigin(),member_id:this.#s}:!1}async refreshAuth(){return this.#a.send(ee.refreshAuth,{}).then(e=>(this.#e=e.AUTH_ID,this.#t=e.REFRESH_ID,this.#n=Date.now()+Number.parseInt(e.AUTH_EXPIRES)*1e3,Promise.resolve(this.getAuthData())))}getUniq(e){return[e,this.#s||""].join("_")}get isAdmin(){return this.#o}}class Dc{#e;constructor(e){this.#e=e}async closeApplication(){return this.#e.send(ee.closeApplication,{isSafely:!1})}async fitWindow(){const e="100%",t=this.getScrollSize().scrollHeight;return this.#e.send(ee.resizeWindow,{width:e,height:t,isSafely:!0})}async resizeWindow(e,t){return e>0&&t>0?this.#e.send(ee.resizeWindow,{width:e,height:t,isSafely:!0}):Promise.reject(new Error(`Wrong width:number = ${e} or height:number = ${t}`))}async resizeWindowAuto(e=null,t=0,n=0){const s=document.body;let i=Math.max(s.scrollWidth,s.offsetWidth);n>0&&(i=Math.max(n,i));let o=Math.max(s.scrollHeight,s.offsetHeight);return e&&(o=Math.max(e.scrollHeight,e.offsetHeight)),t>0&&(o=Math.max(t,o)),this.resizeWindow(i,o)}getScrollSize(){return Nc()}async scrollParentWindow(e){return Number.isInteger(e)?(e<0&&(e=0),this.#e.send(ee.setScroll,{scroll:e,isSafely:!0})):Promise.reject(new Error("Wrong scroll number"))}async reloadWindow(){return this.#e.send(ee.reloadWindow,{isSafely:!0})}async setTitle(e){return this.#e.send(ee.setTitle,{title:e.toString(),isSafely:!0})}async imCallTo(e,t=!0){return this.#e.send(ee.imCallTo,{userId:e,video:t,isSafely:!0})}async imPhoneTo(e){return this.#e.send(ee.imPhoneTo,{phone:e,isSafely:!0})}async imOpenMessenger(e){return this.#e.send(ee.imOpenMessenger,{dialogId:e,isSafely:!0})}async imOpenHistory(e){return this.#e.send(ee.imOpenHistory,{dialogId:e,isSafely:!0})}}let Mc=class{#e;#t=null;#n=null;constructor(e){this.#e=e}initData(e){return e.APP_OPTIONS&&(this.#t=e.APP_OPTIONS),e.USER_OPTIONS&&(this.#n=e.USER_OPTIONS),this}appGet(e){if(this.#t&&this.#t[e])return this.#t[e];throw new Error(`app.option.${e} not set`)}async appSet(e,t){return this.#t||(this.#t=[]),this.#t[e]=t,this.#r(ee.setAppOption,e,this.#t[e])}userGet(e){if(this.#n&&this.#n[e])return this.#n[e];throw new Error(`user.option.${e} not set`)}async userSet(e,t){return this.#t||(this.#t=[]),this.#t[e]||(this.#t[e]=null),this.#n[e]=t,this.#r(ee.setUserOption,e,this.#n[e])}async#r(e,t,n){return this.#e.send(e,{name:t,value:n,isSafely:!0}).then(()=>Promise.resolve())}};class Fc{#e;constructor(e){this.#e=e}async selectUser(){return this.#e.send(ee.selectUser,{mult:!1})}async selectUsers(){return this.#e.send(ee.selectUser,{mult:!0})}async selectAccess(e=[]){return console.warn("@deprecated selectAccess"),this.#e.send(ee.selectAccess,{value:e})}async selectCRM(e){return console.warn("@deprecated selectCRM"),this.#e.send(ee.selectCRM,{entityType:e?.entityType,multiple:e?.multiple,value:e?.value})}}class Cc{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getUrl(e="/"){return new URL(e,this.#e.getTargetOrigin())}getTargetOrigin(){return this.#e.getTargetOrigin()}async openSliderAppPage(e={}){return this.#t.send(ee.openApplication,e)}async closeSliderAppPage(){return this.#t.send(ee.closeApplication,{isSafely:!1})}#n(e=1640){return e>0?e>1200&&e<=1640?"/crm/type/0/details/0/../../../../..":e>950&&e<=1200?"/company/personal/user/0/groups/create/../../../../../..":e>900&&e<=950?"/crm/company/requisite/0/../../../..":e<=900?"/workgroups/group/0/card/../../../..":"/crm/deal/../..":"/crm/deal/../.."}async openPath(e,t=1640){const n=new URL(e);return n.searchParams.set("IFRAME","Y"),n.searchParams.set("IFRAME_TYPE","SIDE_SLIDER"),this.#t.send(ee.openPath,{path:[this.#n(t),n.pathname,n.search].join("")}).then(s=>s?.result==="error"?s?.errorCode==="METHOD_NOT_SUPPORTED_ON_DEVICE"?new Promise((i,o)=>{const l=window.open(e,"_blank");if(!l){o(new Error("Error open window"));return}let a=0;const c=1e3*60*5,f=window.setInterval(()=>{a=a+1,l.closed?(clearInterval(f),i({isOpenAtNewWindow:!0,isClose:!0})):a>c&&(clearInterval(f),i({isOpenAtNewWindow:!0,isClose:!1}))},1e3)}):Promise.reject(new Error(s?.errorCode)):s?.result==="close"?Promise.resolve({isOpenAtNewWindow:!1,isClose:!0}):Promise.resolve({isOpenAtNewWindow:!1,isClose:!1}))}async showAppForm(e){return console.warn("@deprecated showAppForm"),this.#t.send(ee.showAppForm,{params:e,isSafely:!0})}}class Pc{#e;#t="";#n={};constructor(e){this.#e=e}initData(e){this.#t=e.PLACEMENT||"DEFAULT";const t=e.PLACEMENT_OPTIONS;return this.#n=Object.freeze(t),this}get title(){return this.#t}get isDefault(){return this.title==="DEFAULT"}get options(){return this.#n}get isSliderMode(){return this.options?.IFRAME==="Y"}async getInterface(){return this.#e.send(ee.getInterface,{isSafely:!0})}async bindEvent(e,t){return this.#e.send(ee.placementBindEvent,{event:e,callBack:t,isSafely:!0})}async call(e,t={}){return this.#e.send(e,{...t,isSafely:!0,isRawValue:["setValue"].includes(e)})}async callCustomBind(e,t=null,n){let s={};return le.isString(t)?s.singleOption=t:le.isObjectLike(t)&&(s={...t}),this.#e.send(e,{...s,callBack:n,isSafely:!0})}}class Lc extends ln{#e=!1;#t=!1;#n;#r;#s;#o;#i;#a;#u;#l;constructor(e){super(),this.#n=new Ic(e),this.#r=new Rc(this.#n),this.#r.subscribe(),this.#s=new _c(this.#n,this.#r),this.#o=new Dc(this.#r),this.#i=new Mc(this.#r),this.#a=new Fc(this.#r),this.#u=new Cc(this.#n,this.#r),this.#l=new Pc(this.#r),this._isInit=!1}setLogger(e){super.setLogger(e),this.#r.setLogger(this.getLogger())}get isFirstRun(){return this._ensureInitialized(),this.#t}get isInstallMode(){return this._ensureInitialized(),this.#e}get parent(){return this._ensureInitialized(),this.#o}get auth(){return this._ensureInitialized(),this.#s}get slider(){return this._ensureInitialized(),this.#u}get placement(){return this._ensureInitialized(),this.#l}get options(){return this._ensureInitialized(),this.#i}get dialog(){return this._ensureInitialized(),this.#a}async init(){return this.#r.send(ee.getInitData,{}).then(e=>(this.getLogger().log("init data:",e),this.#n.initData(e),this.#s.initData(e),this.#l.initData(e),this.#i.initData(e),this.#e=e.INSTALL,this.#t=e.FIRST_RUN,this._http=new Ac(this.#n.getTargetOriginWithPath(),this.#s,this._getHttpOptions()),this._isInit=!0,this.#t?this.#r.send(ee.setInstall,{install:!0}):Promise.resolve()))}destroy(){this.#r.unsubscribe(),super.destroy()}async installFinish(){return this.isInstallMode?this.#r.send(ee.setInstallFinish,{}):Promise.reject(new Error("Application was previously installed. You cannot call installFinish"))}getTargetOrigin(){return this._ensureInitialized(),this.#n.getTargetOrigin()}getTargetOriginWithPath(){return this._ensureInitialized(),this.#n.getTargetOriginWithPath()}getAppSid(){return this._ensureInitialized(),this.#n.getAppSid()}getLang(){return this._ensureInitialized(),this.#n.getLang()}}var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wn={exports:{}};var gs;function Uc(){return gs||(gs=1,(function(r){(function(e){(function(n,s,i){function o(a){var c=s[a];return c||n[a][0].call(c=s[a]={exports:{}},o,c,c.exports),c.exports}var l=o(i[0]);r&&r.exports&&(r.exports=l)})({1:[function(t,n,s){n.exports=i;function i(o,l){for(var a=new Array(arguments.length-1),c=0,f=2,u=!0;f<arguments.length;)a[c++]=arguments[f++];return new Promise(function(h,m){a[c]=function(y){if(u)if(u=!1,y)m(y);else{for(var w=new Array(arguments.length-1),g=0;g<w.length;)w[g++]=arguments[g];h.apply(null,w)}};try{o.apply(l||null,a)}catch(p){u&&(u=!1,m(p))}})}},{}],2:[function(t,n,s){var i=s;i.length=function(u){var d=u.length;if(!d)return 0;for(var h=0;--d%4>1&&u.charAt(d)==="=";)++h;return Math.ceil(u.length*3)/4-h};for(var o=new Array(64),l=new Array(123),a=0;a<64;)l[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;i.encode=function(u,d,h){for(var m=null,p=[],y=0,w=0,g;d<h;){var b=u[d++];switch(w){case 0:p[y++]=o[b>>2],g=(b&3)<<4,w=1;break;case 1:p[y++]=o[g|b>>4],g=(b&15)<<2,w=2;break;case 2:p[y++]=o[g|b>>6],p[y++]=o[b&63],w=0;break}y>8191&&((m||(m=[])).push(String.fromCharCode.apply(String,p)),y=0)}return w&&(p[y++]=o[g],p[y++]=61,w===1&&(p[y++]=61)),m?(y&&m.push(String.fromCharCode.apply(String,p.slice(0,y))),m.join("")):String.fromCharCode.apply(String,p.slice(0,y))};var c="invalid encoding";i.decode=function(u,d,h){for(var m=h,p=0,y,w=0;w<u.length;){var g=u.charCodeAt(w++);if(g===61&&p>1)break;if((g=l[g])===e)throw Error(c);switch(p){case 0:y=g,p=1;break;case 1:d[h++]=y<<2|(g&48)>>4,y=g,p=2;break;case 2:d[h++]=(y&15)<<4|(g&60)>>2,y=g,p=3;break;case 3:d[h++]=(y&3)<<6|g,p=0;break}}if(p===1)throw Error(c);return h-m},i.test=function(u){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(u)}},{}],3:[function(t,n,s){n.exports=i;function i(o,l){typeof o=="string"&&(l=o,o=e);var a=[];function c(u){if(typeof u!="string"){var d=f();if(i.verbose&&console.log("codegen: "+d),d="return "+d,u){for(var h=Object.keys(u),m=new Array(h.length+1),p=new Array(h.length),y=0;y<h.length;)m[y]=h[y],p[y]=u[h[y++]];return m[y]=d,Function.apply(null,m).apply(null,p)}return Function(d)()}for(var w=new Array(arguments.length-1),g=0;g<w.length;)w[g]=arguments[++g];if(g=0,u=u.replace(/%([%dfijs])/g,function(O,k){var E=w[g++];switch(k){case"d":case"f":return String(Number(E));case"i":return String(Math.floor(E));case"j":return JSON.stringify(E);case"s":return String(E)}return"%"}),g!==w.length)throw Error("parameter count mismatch");return a.push(u),c}function f(u){return"function "+(u||l||"")+"("+(o&&o.join(",")||"")+`){
  `+a.join(`
  `)+`
}`}return c.toString=f,c}i.verbose=!1},{}],4:[function(t,n,s){n.exports=i;function i(){this._listeners={}}i.prototype.on=function(l,a,c){return(this._listeners[l]||(this._listeners[l]=[])).push({fn:a,ctx:c||this}),this},i.prototype.off=function(l,a){if(l===e)this._listeners={};else if(a===e)this._listeners[l]=[];else for(var c=this._listeners[l],f=0;f<c.length;)c[f].fn===a?c.splice(f,1):++f;return this},i.prototype.emit=function(l){var a=this._listeners[l];if(a){for(var c=[],f=1;f<arguments.length;)c.push(arguments[f++]);for(f=0;f<a.length;)a[f].fn.apply(a[f++].ctx,c)}return this}},{}],5:[function(t,n,s){n.exports=a;var i=t(1),o=t(7),l=o("fs");function a(c,f,u){return typeof f=="function"?(u=f,f={}):f||(f={}),u?!f.xhr&&l&&l.readFile?l.readFile(c,function(h,m){return h&&typeof XMLHttpRequest<"u"?a.xhr(c,f,u):h?u(h):u(null,f.binary?m:m.toString("utf8"))}):a.xhr(c,f,u):i(a,this,c,f)}a.xhr=function(f,u,d){var h=new XMLHttpRequest;h.onreadystatechange=function(){if(h.readyState!==4)return e;if(h.status!==0&&h.status!==200)return d(Error("status "+h.status));if(u.binary){var p=h.response;if(!p){p=[];for(var y=0;y<h.responseText.length;++y)p.push(h.responseText.charCodeAt(y)&255)}return d(null,typeof Uint8Array<"u"?new Uint8Array(p):p)}return d(null,h.responseText)},u.binary&&("overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),h.responseType="arraybuffer"),h.open("GET",f),h.send()}},{1:1,7:7}],6:[function(t,n,s){n.exports=i(i);function i(f){return typeof Float32Array<"u"?(function(){var u=new Float32Array([-0]),d=new Uint8Array(u.buffer),h=d[3]===128;function m(g,b,O){u[0]=g,b[O]=d[0],b[O+1]=d[1],b[O+2]=d[2],b[O+3]=d[3]}function p(g,b,O){u[0]=g,b[O]=d[3],b[O+1]=d[2],b[O+2]=d[1],b[O+3]=d[0]}f.writeFloatLE=h?m:p,f.writeFloatBE=h?p:m;function y(g,b){return d[0]=g[b],d[1]=g[b+1],d[2]=g[b+2],d[3]=g[b+3],u[0]}function w(g,b){return d[3]=g[b],d[2]=g[b+1],d[1]=g[b+2],d[0]=g[b+3],u[0]}f.readFloatLE=h?y:w,f.readFloatBE=h?w:y})():(function(){function u(h,m,p,y){var w=m<0?1:0;if(w&&(m=-m),m===0)h(1/m>0?0:2147483648,p,y);else if(isNaN(m))h(2143289344,p,y);else if(m>34028234663852886e22)h((w<<31|2139095040)>>>0,p,y);else if(m<11754943508222875e-54)h((w<<31|Math.round(m/1401298464324817e-60))>>>0,p,y);else{var g=Math.floor(Math.log(m)/Math.LN2),b=Math.round(m*Math.pow(2,-g)*8388608)&8388607;h((w<<31|g+127<<23|b)>>>0,p,y)}}f.writeFloatLE=u.bind(null,o),f.writeFloatBE=u.bind(null,l);function d(h,m,p){var y=h(m,p),w=(y>>31)*2+1,g=y>>>23&255,b=y&8388607;return g===255?b?NaN:w*(1/0):g===0?w*1401298464324817e-60*b:w*Math.pow(2,g-150)*(b+8388608)}f.readFloatLE=d.bind(null,a),f.readFloatBE=d.bind(null,c)})(),typeof Float64Array<"u"?(function(){var u=new Float64Array([-0]),d=new Uint8Array(u.buffer),h=d[7]===128;function m(g,b,O){u[0]=g,b[O]=d[0],b[O+1]=d[1],b[O+2]=d[2],b[O+3]=d[3],b[O+4]=d[4],b[O+5]=d[5],b[O+6]=d[6],b[O+7]=d[7]}function p(g,b,O){u[0]=g,b[O]=d[7],b[O+1]=d[6],b[O+2]=d[5],b[O+3]=d[4],b[O+4]=d[3],b[O+5]=d[2],b[O+6]=d[1],b[O+7]=d[0]}f.writeDoubleLE=h?m:p,f.writeDoubleBE=h?p:m;function y(g,b){return d[0]=g[b],d[1]=g[b+1],d[2]=g[b+2],d[3]=g[b+3],d[4]=g[b+4],d[5]=g[b+5],d[6]=g[b+6],d[7]=g[b+7],u[0]}function w(g,b){return d[7]=g[b],d[6]=g[b+1],d[5]=g[b+2],d[4]=g[b+3],d[3]=g[b+4],d[2]=g[b+5],d[1]=g[b+6],d[0]=g[b+7],u[0]}f.readDoubleLE=h?y:w,f.readDoubleBE=h?w:y})():(function(){function u(h,m,p,y,w,g){var b=y<0?1:0;if(b&&(y=-y),y===0)h(0,w,g+m),h(1/y>0?0:2147483648,w,g+p);else if(isNaN(y))h(0,w,g+m),h(2146959360,w,g+p);else if(y>17976931348623157e292)h(0,w,g+m),h((b<<31|2146435072)>>>0,w,g+p);else{var O;if(y<22250738585072014e-324)O=y/5e-324,h(O>>>0,w,g+m),h((b<<31|O/4294967296)>>>0,w,g+p);else{var k=Math.floor(Math.log(y)/Math.LN2);k===1024&&(k=1023),O=y*Math.pow(2,-k),h(O*4503599627370496>>>0,w,g+m),h((b<<31|k+1023<<20|O*1048576&1048575)>>>0,w,g+p)}}}f.writeDoubleLE=u.bind(null,o,0,4),f.writeDoubleBE=u.bind(null,l,4,0);function d(h,m,p,y,w){var g=h(y,w+m),b=h(y,w+p),O=(b>>31)*2+1,k=b>>>20&2047,E=4294967296*(b&1048575)+g;return k===2047?E?NaN:O*(1/0):k===0?O*5e-324*E:O*Math.pow(2,k-1075)*(E+4503599627370496)}f.readDoubleLE=d.bind(null,a,0,4),f.readDoubleBE=d.bind(null,c,4,0)})(),f}function o(f,u,d){u[d]=f&255,u[d+1]=f>>>8&255,u[d+2]=f>>>16&255,u[d+3]=f>>>24}function l(f,u,d){u[d]=f>>>24,u[d+1]=f>>>16&255,u[d+2]=f>>>8&255,u[d+3]=f&255}function a(f,u){return(f[u]|f[u+1]<<8|f[u+2]<<16|f[u+3]<<24)>>>0}function c(f,u){return(f[u]<<24|f[u+1]<<16|f[u+2]<<8|f[u+3])>>>0}},{}],7:[function(t,n,s){n.exports=i;function i(o){try{var l=t(o);if(l&&(l.length||Object.keys(l).length))return l}catch{}return null}},{}],8:[function(t,n,s){var i=s,o=i.isAbsolute=function(c){return/^(?:\/|\w+:)/.test(c)},l=i.normalize=function(c){c=c.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var f=c.split("/"),u=o(c),d="";u&&(d=f.shift()+"/");for(var h=0;h<f.length;)f[h]===".."?h>0&&f[h-1]!==".."?f.splice(--h,2):u?f.splice(h,1):++h:f[h]==="."?f.splice(h,1):++h;return d+f.join("/")};i.resolve=function(c,f,u){return u||(f=l(f)),o(f)?f:(u||(c=l(c)),(c=c.replace(/(?:\/|^)[^/]+$/,"")).length?l(c+"/"+f):f)}},{}],9:[function(t,n,s){n.exports=i;function i(o,l,a){var c=a||8192,f=c>>>1,u=null,d=c;return function(m){if(m<1||m>f)return o(m);d+m>c&&(u=o(c),d=0);var p=l.call(u,d,d+=m);return d&7&&(d=(d|7)+1),p}}},{}],10:[function(t,n,s){var i=s;i.length=function(l){for(var a=0,c=0,f=0;f<l.length;++f)c=l.charCodeAt(f),c<128?a+=1:c<2048?a+=2:(c&64512)===55296&&(l.charCodeAt(f+1)&64512)===56320?(++f,a+=4):a+=3;return a},i.read=function(l,a,c){var f=c-a;if(f<1)return"";for(var u=null,d=[],h=0,m;a<c;)m=l[a++],m<128?d[h++]=m:m>191&&m<224?d[h++]=(m&31)<<6|l[a++]&63:m>239&&m<365?(m=((m&7)<<18|(l[a++]&63)<<12|(l[a++]&63)<<6|l[a++]&63)-65536,d[h++]=55296+(m>>10),d[h++]=56320+(m&1023)):d[h++]=(m&15)<<12|(l[a++]&63)<<6|l[a++]&63,h>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,d)),h=0);return u?(h&&u.push(String.fromCharCode.apply(String,d.slice(0,h))),u.join("")):String.fromCharCode.apply(String,d.slice(0,h))},i.write=function(l,a,c){for(var f=c,u,d,h=0;h<l.length;++h)u=l.charCodeAt(h),u<128?a[c++]=u:u<2048?(a[c++]=u>>6|192,a[c++]=u&63|128):(u&64512)===55296&&((d=l.charCodeAt(h+1))&64512)===56320?(u=65536+((u&1023)<<10)+(d&1023),++h,a[c++]=u>>18|240,a[c++]=u>>12&63|128,a[c++]=u>>6&63|128,a[c++]=u&63|128):(a[c++]=u>>12|224,a[c++]=u>>6&63|128,a[c++]=u&63|128);return c-f}},{}],11:[function(t,n,s){n.exports=o;var i=/\/|\./;function o(a,c){i.test(a)||(a="google/protobuf/"+a+".proto",c={nested:{google:{nested:{protobuf:{nested:c}}}}}),o[a]=c}o("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var l;o("duration",{Duration:l={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o("timestamp",{Timestamp:l}),o("empty",{Empty:{fields:{}}}),o("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),o.get=function(c){return o[c]||null}},{}],12:[function(t,n,s){var i=s,o=t(15),l=t(37);function a(f,u,d,h){if(u.resolvedType)if(u.resolvedType instanceof o){f("switch(d%s){",h);for(var m=u.resolvedType.values,p=Object.keys(m),y=0;y<p.length;++y)u.repeated&&m[p[y]]===u.typeDefault&&f("default:"),f("case%j:",p[y])("case %i:",m[p[y]])("m%s=%j",h,m[p[y]])("break");f("}")}else f('if(typeof d%s!=="object")',h)("throw TypeError(%j)",u.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",h,d,h);else{var w=!1;switch(u.type){case"double":case"float":f("m%s=Number(d%s)",h,h);break;case"uint32":case"fixed32":f("m%s=d%s>>>0",h,h);break;case"int32":case"sint32":case"sfixed32":f("m%s=d%s|0",h,h);break;case"uint64":w=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":f("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",h,h,w)('else if(typeof d%s==="string")',h)("m%s=parseInt(d%s,10)",h,h)('else if(typeof d%s==="number")',h)("m%s=d%s",h,h)('else if(typeof d%s==="object")',h)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",h,h,h,w?"true":"");break;case"bytes":f('if(typeof d%s==="string")',h)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",h,h,h)("else if(d%s.length)",h)("m%s=d%s",h,h);break;case"string":f("m%s=String(d%s)",h,h);break;case"bool":f("m%s=Boolean(d%s)",h,h);break}}return f}i.fromObject=function(u){var d=u.fieldsArray,h=l.codegen(["d"],u.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!d.length)return h("return new this.ctor");h("var m=new this.ctor");for(var m=0;m<d.length;++m){var p=d[m].resolve(),y=l.safeProp(p.name);p.map?(h("if(d%s){",y)('if(typeof d%s!=="object")',y)("throw TypeError(%j)",p.fullName+": object expected")("m%s={}",y)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",y),a(h,p,m,y+"[ks[i]]")("}")("}")):p.repeated?(h("if(d%s){",y)("if(!Array.isArray(d%s))",y)("throw TypeError(%j)",p.fullName+": array expected")("m%s=[]",y)("for(var i=0;i<d%s.length;++i){",y),a(h,p,m,y+"[i]")("}")("}")):(p.resolvedType instanceof o||h("if(d%s!=null){",y),a(h,p,m,y),p.resolvedType instanceof o||h("}"))}return h("return m")};function c(f,u,d,h){if(u.resolvedType)u.resolvedType instanceof o?f("d%s=o.enums===String?types[%i].values[m%s]:m%s",h,d,h,h):f("d%s=types[%i].toObject(m%s,o)",h,d,h);else{var m=!1;switch(u.type){case"double":case"float":f("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",h,h,h,h);break;case"uint64":m=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":f('if(typeof m%s==="number")',h)("d%s=o.longs===String?String(m%s):m%s",h,h,h)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",h,h,h,h,m?"true":"",h);break;case"bytes":f("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",h,h,h,h,h);break;default:f("d%s=m%s",h,h);break}}return f}i.toObject=function(u){var d=u.fieldsArray.slice().sort(l.compareFieldsById);if(!d.length)return l.codegen()("return {}");for(var h=l.codegen(["m","o"],u.name+"$toObject")("if(!o)")("o={}")("var d={}"),m=[],p=[],y=[],w=0;w<d.length;++w)d[w].partOf||(d[w].resolve().repeated?m:d[w].map?p:y).push(d[w]);if(m.length){for(h("if(o.arrays||o.defaults){"),w=0;w<m.length;++w)h("d%s=[]",l.safeProp(m[w].name));h("}")}if(p.length){for(h("if(o.objects||o.defaults){"),w=0;w<p.length;++w)h("d%s={}",l.safeProp(p[w].name));h("}")}if(y.length){for(h("if(o.defaults){"),w=0;w<y.length;++w){var g=y[w],b=l.safeProp(g.name);g.resolvedType instanceof o?h("d%s=o.enums===String?%j:%j",b,g.resolvedType.valuesById[g.typeDefault],g.typeDefault):g.long?h("if(util.Long){")("var n=new util.Long(%i,%i,%j)",g.typeDefault.low,g.typeDefault.high,g.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",b)("}else")("d%s=o.longs===String?%j:%i",b,g.typeDefault.toString(),g.typeDefault.toNumber()):g.bytes?h("d%s=o.bytes===String?%j:%s",b,String.fromCharCode.apply(String,g.typeDefault),"["+Array.prototype.slice.call(g.typeDefault).join(",")+"]"):h("d%s=%j",b,g.typeDefault)}h("}")}var O=!1;for(w=0;w<d.length;++w){var g=d[w],k=u._fieldsArray.indexOf(g),b=l.safeProp(g.name);g.map?(O||(O=!0,h("var ks2")),h("if(m%s&&(ks2=Object.keys(m%s)).length){",b,b)("d%s={}",b)("for(var j=0;j<ks2.length;++j){"),c(h,g,k,b+"[ks2[j]]")("}")):g.repeated?(h("if(m%s&&m%s.length){",b,b)("d%s=[]",b)("for(var j=0;j<m%s.length;++j){",b),c(h,g,k,b+"[j]")("}")):(h("if(m%s!=null&&m.hasOwnProperty(%j)){",b,g.name),c(h,g,k,b),g.partOf&&h("if(o.oneofs)")("d%s=%j",l.safeProp(g.partOf.name),g.name)),h("}")}return h("return d")}},{15:15,37:37}],13:[function(t,n,s){n.exports=c;var i=t(15),o=t(36),l=t(37);function a(f){return"missing required '"+f.name+"'"}function c(f){var u=l.codegen(["r","l"],f.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(f.fieldsArray.filter(function(w){return w.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");f.group&&u("if((t&7)===4)")("break"),u("switch(t>>>3){");for(var d=0;d<f.fieldsArray.length;++d){var h=f._fieldsArray[d].resolve(),m=h.resolvedType instanceof i?"int32":h.type,p="m"+l.safeProp(h.name);u("case %i:",h.id),h.map?(u("r.skip().pos++")("if(%s===util.emptyObject)",p)("%s={}",p)("k=r.%s()",h.keyType)("r.pos++"),o.long[h.keyType]!==e?o.basic[m]===e?u('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',p,d):u('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',p,m):o.basic[m]===e?u("%s[k]=types[%i].decode(r,r.uint32())",p,d):u("%s[k]=r.%s()",p,m)):h.repeated?(u("if(!(%s&&%s.length))",p,p)("%s=[]",p),o.packed[m]!==e&&u("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",p,m)("}else"),o.basic[m]===e?u(h.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",p,d):u("%s.push(r.%s())",p,m)):o.basic[m]===e?u(h.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",p,d):u("%s=r.%s()",p,m),u("break")}for(u("default:")("r.skipType(t&7)")("break")("}")("}"),d=0;d<f._fieldsArray.length;++d){var y=f._fieldsArray[d];y.required&&u("if(!m.hasOwnProperty(%j))",y.name)("throw util.ProtocolError(%j,{instance:m})",a(y))}return u("return m")}},{15:15,36:36,37:37}],14:[function(t,n,s){n.exports=c;var i=t(15),o=t(36),l=t(37);function a(f,u,d,h){return u.resolvedType.group?f("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",d,h,(u.id<<3|3)>>>0,(u.id<<3|4)>>>0):f("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",d,h,(u.id<<3|2)>>>0)}function c(f){for(var u=l.codegen(["m","w"],f.name+"$encode")("if(!w)")("w=Writer.create()"),d,h,m=f.fieldsArray.slice().sort(l.compareFieldsById),d=0;d<m.length;++d){var p=m[d].resolve(),y=f._fieldsArray.indexOf(p),w=p.resolvedType instanceof i?"int32":p.type,g=o.basic[w];h="m"+l.safeProp(p.name),p.map?(u("if(%s!=null&&m.hasOwnProperty(%j)){",h,p.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",h)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(p.id<<3|2)>>>0,8|o.mapKey[p.keyType],p.keyType),g===e?u("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",y,h):u(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|g,w,h),u("}")("}")):p.repeated?(u("if(%s!=null&&%s.length){",h,h),p.packed&&o.packed[w]!==e?u("w.uint32(%i).fork()",(p.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",h)("w.%s(%s[i])",w,h)("w.ldelim()"):(u("for(var i=0;i<%s.length;++i)",h),g===e?a(u,p,y,h+"[i]"):u("w.uint32(%i).%s(%s[i])",(p.id<<3|g)>>>0,w,h)),u("}")):(p.optional&&u("if(%s!=null&&m.hasOwnProperty(%j))",h,p.name),g===e?a(u,p,y,h):u("w.uint32(%i).%s(%s)",(p.id<<3|g)>>>0,w,h))}return u("return w")}},{15:15,36:36,37:37}],15:[function(t,n,s){n.exports=a;var i=t(24);((a.prototype=Object.create(i.prototype)).constructor=a).className="Enum";var o=t(23),l=t(37);function a(c,f,u,d,h){if(i.call(this,c,u),f&&typeof f!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=d,this.comments=h||{},this.reserved=e,f)for(var m=Object.keys(f),p=0;p<m.length;++p)typeof f[m[p]]=="number"&&(this.valuesById[this.values[m[p]]=f[m[p]]]=m[p])}a.fromJSON=function(f,u){var d=new a(f,u.values,u.options,u.comment,u.comments);return d.reserved=u.reserved,d},a.prototype.toJSON=function(f){var u=f?!!f.keepComments:!1;return l.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:e,"comment",u?this.comment:e,"comments",u?this.comments:e])},a.prototype.add=function(f,u,d){if(!l.isString(f))throw TypeError("name must be a string");if(!l.isInteger(u))throw TypeError("id must be an integer");if(this.values[f]!==e)throw Error("duplicate name '"+f+"' in "+this);if(this.isReservedId(u))throw Error("id "+u+" is reserved in "+this);if(this.isReservedName(f))throw Error("name '"+f+"' is reserved in "+this);if(this.valuesById[u]!==e){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+u+" in "+this);this.values[f]=u}else this.valuesById[this.values[f]=u]=f;return this.comments[f]=d||null,this},a.prototype.remove=function(f){if(!l.isString(f))throw TypeError("name must be a string");var u=this.values[f];if(u==null)throw Error("name '"+f+"' does not exist in "+this);return delete this.valuesById[u],delete this.values[f],delete this.comments[f],this},a.prototype.isReservedId=function(f){return o.isReservedId(this.reserved,f)},a.prototype.isReservedName=function(f){return o.isReservedName(this.reserved,f)}},{23:23,24:24,37:37}],16:[function(t,n,s){n.exports=u;var i=t(24);((u.prototype=Object.create(i.prototype)).constructor=u).className="Field";var o=t(15),l=t(36),a=t(37),c,f=/^required|optional|repeated$/;u.fromJSON=function(h,m){return new u(h,m.id,m.type,m.rule,m.extend,m.options,m.comment)};function u(d,h,m,p,y,w,g){if(a.isObject(p)?(g=y,w=p,p=y=e):a.isObject(y)&&(g=w,w=y,y=e),i.call(this,d,w),!a.isInteger(h)||h<0)throw TypeError("id must be a non-negative integer");if(!a.isString(m))throw TypeError("type must be a string");if(p!==e&&!f.test(p=p.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(y!==e&&!a.isString(y))throw TypeError("extend must be a string");this.rule=p&&p!=="optional"?p:e,this.type=m,this.id=h,this.extend=y||e,this.required=p==="required",this.optional=!this.required,this.repeated=p==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=a.Long?l.long[m]!==e:!1,this.bytes=m==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=g}Object.defineProperty(u.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),u.prototype.setOption=function(h,m,p){return h==="packed"&&(this._packed=null),i.prototype.setOption.call(this,h,m,p)},u.prototype.toJSON=function(h){var m=h?!!h.keepComments:!1;return a.toObject(["rule",this.rule!=="optional"&&this.rule||e,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",m?this.comment:e])},u.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=l.defaults[this.type])===e&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof c?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==e&&this.resolvedType&&!(this.resolvedType instanceof o))&&delete this.options.packed,Object.keys(this.options).length||(this.options=e)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var h;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,h=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,h=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=h}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof c&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},u.d=function(h,m,p,y){return typeof m=="function"?m=a.decorateType(m).name:m&&typeof m=="object"&&(m=a.decorateEnum(m).name),function(g,b){a.decorateType(g.constructor).add(new u(b,h,m,p,{default:y}))}},u._configure=function(h){c=h}},{15:15,24:24,36:36,37:37}],17:[function(t,n,s){var i=n.exports=t(18);i.build="light";function o(a,c,f){return typeof c=="function"?(f=c,c=new i.Root):c||(c=new i.Root),c.load(a,f)}i.load=o;function l(a,c){return c||(c=new i.Root),c.loadSync(a)}i.loadSync=l,i.encoder=t(14),i.decoder=t(13),i.verifier=t(40),i.converter=t(12),i.ReflectionObject=t(24),i.Namespace=t(23),i.Root=t(29),i.Enum=t(15),i.Type=t(35),i.Field=t(16),i.OneOf=t(25),i.MapField=t(20),i.Service=t(33),i.Method=t(22),i.Message=t(21),i.wrappers=t(41),i.types=t(36),i.util=t(37),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service),i.Root._configure(i.Type),i.Field._configure(i.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(t,n,s){var i=s;i.build="minimal",i.Writer=t(42),i.BufferWriter=t(43),i.Reader=t(27),i.BufferReader=t(28),i.util=t(39),i.rpc=t(31),i.roots=t(30),i.configure=o;function o(){i.Reader._configure(i.BufferReader),i.util._configure()}i.Writer._configure(i.BufferWriter),o()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(t,n,s){var i=n.exports=t(17);i.build="full",i.tokenize=t(34),i.parse=t(26),i.common=t(11),i.Root._configure(i.Type,i.parse,i.common)},{11:11,17:17,26:26,34:34}],20:[function(t,n,s){n.exports=a;var i=t(16);((a.prototype=Object.create(i.prototype)).constructor=a).className="MapField";var o=t(36),l=t(37);function a(c,f,u,d,h,m){if(i.call(this,c,f,d,e,e,h,m),!l.isString(u))throw TypeError("keyType must be a string");this.keyType=u,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(f,u){return new a(f,u.id,u.keyType,u.type,u.options,u.comment)},a.prototype.toJSON=function(f){var u=f?!!f.keepComments:!1;return l.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",u?this.comment:e])},a.prototype.resolve=function(){if(this.resolved)return this;if(o.mapKey[this.keyType]===e)throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},a.d=function(f,u,d){return typeof d=="function"?d=l.decorateType(d).name:d&&typeof d=="object"&&(d=l.decorateEnum(d).name),function(m,p){l.decorateType(m.constructor).add(new a(p,f,u,d))}}},{16:16,36:36,37:37}],21:[function(t,n,s){n.exports=o;var i=t(39);function o(l){if(l)for(var a=Object.keys(l),c=0;c<a.length;++c)this[a[c]]=l[a[c]]}o.create=function(a){return this.$type.create(a)},o.encode=function(a,c){return this.$type.encode(a,c)},o.encodeDelimited=function(a,c){return this.$type.encodeDelimited(a,c)},o.decode=function(a){return this.$type.decode(a)},o.decodeDelimited=function(a){return this.$type.decodeDelimited(a)},o.verify=function(a){return this.$type.verify(a)},o.fromObject=function(a){return this.$type.fromObject(a)},o.toObject=function(a,c){return this.$type.toObject(a,c)},o.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},{39:39}],22:[function(t,n,s){n.exports=l;var i=t(24);((l.prototype=Object.create(i.prototype)).constructor=l).className="Method";var o=t(37);function l(a,c,f,u,d,h,m,p){if(o.isObject(d)?(m=d,d=h=e):o.isObject(h)&&(m=h,h=e),!(c===e||o.isString(c)))throw TypeError("type must be a string");if(!o.isString(f))throw TypeError("requestType must be a string");if(!o.isString(u))throw TypeError("responseType must be a string");i.call(this,a,m),this.type=c||"rpc",this.requestType=f,this.requestStream=d?!0:e,this.responseType=u,this.responseStream=h?!0:e,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=p}l.fromJSON=function(c,f){return new l(c,f.type,f.requestType,f.responseType,f.requestStream,f.responseStream,f.options,f.comment)},l.prototype.toJSON=function(c){var f=c?!!c.keepComments:!1;return o.toObject(["type",this.type!=="rpc"&&this.type||e,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",f?this.comment:e])},l.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(t,n,s){n.exports=d;var i=t(24);((d.prototype=Object.create(i.prototype)).constructor=d).className="Namespace";var o=t(15),l=t(16),a=t(37),c,f;d.fromJSON=function(p,y){return new d(p,y.options).addJSON(y.nested)};function u(m,p){if(!(m&&m.length))return e;for(var y={},w=0;w<m.length;++w)y[m[w].name]=m[w].toJSON(p);return y}d.arrayToJSON=u,d.isReservedId=function(p,y){if(p){for(var w=0;w<p.length;++w)if(typeof p[w]!="string"&&p[w][0]<=y&&p[w][1]>=y)return!0}return!1},d.isReservedName=function(p,y){if(p){for(var w=0;w<p.length;++w)if(p[w]===y)return!0}return!1};function d(m,p){i.call(this,m,p),this.nested=e,this._nestedArray=null}function h(m){return m._nestedArray=null,m}Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=a.toArray(this.nested))}}),d.prototype.toJSON=function(p){return a.toObject(["options",this.options,"nested",u(this.nestedArray,p)])},d.prototype.addJSON=function(p){var y=this;if(p)for(var w=Object.keys(p),g=0,b;g<w.length;++g)b=p[w[g]],y.add((b.fields!==e?c.fromJSON:b.values!==e?o.fromJSON:b.methods!==e?f.fromJSON:b.id!==e?l.fromJSON:d.fromJSON)(w[g],b));return this},d.prototype.get=function(p){return this.nested&&this.nested[p]||null},d.prototype.getEnum=function(p){if(this.nested&&this.nested[p]instanceof o)return this.nested[p].values;throw Error("no such enum: "+p)},d.prototype.add=function(p){if(!(p instanceof l&&p.extend!==e||p instanceof c||p instanceof o||p instanceof f||p instanceof d))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var y=this.get(p.name);if(y)if(y instanceof d&&p instanceof d&&!(y instanceof c||y instanceof f)){for(var w=y.nestedArray,g=0;g<w.length;++g)p.add(w[g]);this.remove(y),this.nested||(this.nested={}),p.setOptions(y.options,!0)}else throw Error("duplicate name '"+p.name+"' in "+this)}return this.nested[p.name]=p,p.onAdd(this),h(this)},d.prototype.remove=function(p){if(!(p instanceof i))throw TypeError("object must be a ReflectionObject");if(p.parent!==this)throw Error(p+" is not a member of "+this);return delete this.nested[p.name],Object.keys(this.nested).length||(this.nested=e),p.onRemove(this),h(this)},d.prototype.define=function(p,y){if(a.isString(p))p=p.split(".");else if(!Array.isArray(p))throw TypeError("illegal path");if(p&&p.length&&p[0]==="")throw Error("path must be relative");for(var w=this;p.length>0;){var g=p.shift();if(w.nested&&w.nested[g]){if(w=w.nested[g],!(w instanceof d))throw Error("path conflicts with non-namespace objects")}else w.add(w=new d(g))}return y&&w.addJSON(y),w},d.prototype.resolveAll=function(){for(var p=this.nestedArray,y=0;y<p.length;)p[y]instanceof d?p[y++].resolveAll():p[y++].resolve();return this.resolve()},d.prototype.lookup=function(p,y,w){if(typeof y=="boolean"?(w=y,y=e):y&&!Array.isArray(y)&&(y=[y]),a.isString(p)&&p.length){if(p===".")return this.root;p=p.split(".")}else if(!p.length)return this;if(p[0]==="")return this.root.lookup(p.slice(1),y);var g=this.get(p[0]);if(g){if(p.length===1){if(!y||y.indexOf(g.constructor)>-1)return g}else if(g instanceof d&&(g=g.lookup(p.slice(1),y,!0)))return g}else for(var b=0;b<this.nestedArray.length;++b)if(this._nestedArray[b]instanceof d&&(g=this._nestedArray[b].lookup(p,y,!0)))return g;return this.parent===null||w?null:this.parent.lookup(p,y)},d.prototype.lookupType=function(p){var y=this.lookup(p,[c]);if(!y)throw Error("no such type: "+p);return y},d.prototype.lookupEnum=function(p){var y=this.lookup(p,[o]);if(!y)throw Error("no such Enum '"+p+"' in "+this);return y},d.prototype.lookupTypeOrEnum=function(p){var y=this.lookup(p,[c,o]);if(!y)throw Error("no such Type or Enum '"+p+"' in "+this);return y},d.prototype.lookupService=function(p){var y=this.lookup(p,[f]);if(!y)throw Error("no such Service '"+p+"' in "+this);return y},d._configure=function(m,p){c=m,f=p}},{15:15,16:16,24:24,37:37}],24:[function(t,n,s){n.exports=l,l.className="ReflectionObject";var i=t(37),o;function l(a,c){if(!i.isString(a))throw TypeError("name must be a string");if(c&&!i.isObject(c))throw TypeError("options must be an object");this.options=c,this.name=a,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(l.prototype,{root:{get:function(){for(var a=this;a.parent!==null;)a=a.parent;return a}},fullName:{get:function(){for(var a=[this.name],c=this.parent;c;)a.unshift(c.name),c=c.parent;return a.join(".")}}}),l.prototype.toJSON=function(){throw Error()},l.prototype.onAdd=function(c){this.parent&&this.parent!==c&&this.parent.remove(this),this.parent=c,this.resolved=!1;var f=c.root;f instanceof o&&f._handleAdd(this)},l.prototype.onRemove=function(c){var f=c.root;f instanceof o&&f._handleRemove(this),this.parent=null,this.resolved=!1},l.prototype.resolve=function(){return this.resolved?this:(this.root instanceof o&&(this.resolved=!0),this)},l.prototype.getOption=function(c){return this.options?this.options[c]:e},l.prototype.setOption=function(c,f,u){return(!u||!this.options||this.options[c]===e)&&((this.options||(this.options={}))[c]=f),this},l.prototype.setOptions=function(c,f){if(c)for(var u=Object.keys(c),d=0;d<u.length;++d)this.setOption(u[d],c[u[d]],f);return this},l.prototype.toString=function(){var c=this.constructor.className,f=this.fullName;return f.length?c+" "+f:c},l._configure=function(a){o=a}},{37:37}],25:[function(t,n,s){n.exports=a;var i=t(24);((a.prototype=Object.create(i.prototype)).constructor=a).className="OneOf";var o=t(16),l=t(37);function a(f,u,d,h){if(Array.isArray(u)||(d=u,u=e),i.call(this,f,d),!(u===e||Array.isArray(u)))throw TypeError("fieldNames must be an Array");this.oneof=u||[],this.fieldsArray=[],this.comment=h}a.fromJSON=function(u,d){return new a(u,d.oneof,d.options,d.comment)},a.prototype.toJSON=function(u){var d=u?!!u.keepComments:!1;return l.toObject(["options",this.options,"oneof",this.oneof,"comment",d?this.comment:e])};function c(f){if(f.parent)for(var u=0;u<f.fieldsArray.length;++u)f.fieldsArray[u].parent||f.parent.add(f.fieldsArray[u])}a.prototype.add=function(u){if(!(u instanceof o))throw TypeError("field must be a Field");return u.parent&&u.parent!==this.parent&&u.parent.remove(u),this.oneof.push(u.name),this.fieldsArray.push(u),u.partOf=this,c(this),this},a.prototype.remove=function(u){if(!(u instanceof o))throw TypeError("field must be a Field");var d=this.fieldsArray.indexOf(u);if(d<0)throw Error(u+" is not a member of "+this);return this.fieldsArray.splice(d,1),d=this.oneof.indexOf(u.name),d>-1&&this.oneof.splice(d,1),u.partOf=null,this},a.prototype.onAdd=function(u){i.prototype.onAdd.call(this,u);for(var d=this,h=0;h<this.oneof.length;++h){var m=u.get(this.oneof[h]);m&&!m.partOf&&(m.partOf=d,d.fieldsArray.push(m))}c(this)},a.prototype.onRemove=function(u){for(var d=0,h;d<this.fieldsArray.length;++d)(h=this.fieldsArray[d]).parent&&h.parent.remove(h);i.prototype.onRemove.call(this,u)},a.d=function(){for(var u=new Array(arguments.length),d=0;d<arguments.length;)u[d]=arguments[d++];return function(m,p){l.decorateType(m.constructor).add(new a(p,u)),Object.defineProperty(m,p,{get:l.oneOfGetter(u),set:l.oneOfSetter(u)})}}},{16:16,24:24,37:37}],26:[function(t,n,s){n.exports=D,D.filename=null,D.defaults={keepCase:!1};var i=t(34),o=t(29),l=t(35),a=t(16),c=t(20),f=t(25),u=t(15),d=t(33),h=t(22),m=t(36),p=t(37),y=/^[1-9][0-9]*$/,w=/^-?[1-9][0-9]*$/,g=/^0[x][0-9a-fA-F]+$/,b=/^-?0[x][0-9a-fA-F]+$/,O=/^0[0-7]+$/,k=/^-?0[0-7]+$/,E=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,S=/^[a-zA-Z_][a-zA-Z_0-9]*$/,T=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,M=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function D(F,Q,P){Q instanceof o||(P=Q,Q=new o),P||(P=D.defaults);var z=i(F,P.alternateCommentMode||!1),C=z.next,Y=z.push,te=z.peek,_=z.skip,xe=z.cmnt,Be=!0,ce,B,K,X,ne=!1,he=Q,we=P.keepCase?function(A){return A}:p.camelCase;function V(A,x,R){var $=D.filename;return R||(D.filename=null),Error("illegal "+(x||"token")+" '"+A+"' ("+($?$+", ":"")+"line "+z.line+")")}function Ve(){var A=[],x;do{if((x=C())!=='"'&&x!=="'")throw V(x);A.push(C()),_(x),x=te()}while(x==='"'||x==="'");return A.join("")}function wr(A){var x=C();switch(x){case"'":case'"':return Y(x),Ve();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return Qi(x,!0)}catch{if(T.test(x))return x;throw V(x,"value")}}function Sn(A,x){var R,$;do x&&((R=te())==='"'||R==="'")?A.push(Ve()):A.push([$=at(C()),_("to",!0)?at(C()):$]);while(_(",",!0));_(";")}function Qi(A,x){var R=1;switch(A.charAt(0)==="-"&&(R=-1,A=A.substring(1)),A){case"inf":case"INF":case"Inf":return R*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(y.test(A))return R*parseInt(A,10);if(g.test(A))return R*parseInt(A,16);if(O.test(A))return R*parseInt(A,8);if(E.test(A))return R*parseFloat(A);throw V(A,"number",x)}function at(A,x){switch(A){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!x&&A.charAt(0)==="-")throw V(A,"id");if(w.test(A))return parseInt(A,10);if(b.test(A))return parseInt(A,16);if(k.test(A))return parseInt(A,8);throw V(A,"id")}function Ki(){if(ce!==e)throw V("package");if(ce=C(),!T.test(ce))throw V(ce,"name");he=he.define(ce),_(";")}function Xi(){var A=te(),x;switch(A){case"weak":x=K||(K=[]),C();break;case"public":C();default:x=B||(B=[]);break}A=Ve(),_(";"),x.push(A)}function eo(){if(_("="),X=Ve(),ne=X==="proto3",!ne&&X!=="proto2")throw V(X,"syntax");_(";")}function vn(A,x){switch(x){case"option":return Ce(A,x),_(";"),!0;case"message":return to(A,x),!0;case"enum":return io(A,x),!0;case"service":return ao(A,x),!0;case"extend":return uo(A,x),!0}return!1}function Fe(A,x,R){var $=z.line;if(A&&(A.comment=xe(),A.filename=D.filename),_("{",!0)){for(var j;(j=C())!=="}";)x(j);_(";",!0)}else R&&R(),_(";"),A&&typeof A.comment!="string"&&(A.comment=xe($))}function to(A,x){if(!S.test(x=C()))throw V(x,"type name");var R=new l(x);Fe(R,function(j){if(!vn(R,j))switch(j){case"map":ro(R);break;case"required":case"optional":case"repeated":lt(R,j);break;case"oneof":so(R,j);break;case"extensions":Sn(R.extensions||(R.extensions=[]));break;case"reserved":Sn(R.reserved||(R.reserved=[]),!0);break;default:if(!ne||!T.test(j))throw V(j);Y(j),lt(R,"optional");break}}),A.add(R)}function lt(A,x,R){var $=C();if($==="group"){no(A,x);return}if(!T.test($))throw V($,"type");var j=C();if(!S.test(j))throw V(j,"name");j=we(j),_("=");var ie=new a(j,at(C()),$,x,R);Fe(ie,function(Qe){if(Qe==="option")Ce(ie,Qe),_(";");else throw V(Qe)},function(){En(ie)}),A.add(ie),!ne&&ie.repeated&&(m.packed[$]!==e||m.basic[$]===e)&&ie.setOption("packed",!1,!0)}function no(A,x){var R=C();if(!S.test(R))throw V(R,"name");var $=p.lcFirst(R);R===$&&(R=p.ucFirst(R)),_("=");var j=at(C()),ie=new l(R);ie.group=!0;var Ae=new a($,j,R,x);Ae.filename=D.filename,Fe(ie,function(He){switch(He){case"option":Ce(ie,He),_(";");break;case"required":case"optional":case"repeated":lt(ie,He);break;default:throw V(He)}}),A.add(ie).add(Ae)}function ro(A){_("<");var x=C();if(m.mapKey[x]===e)throw V(x,"type");_(",");var R=C();if(!T.test(R))throw V(R,"type");_(">");var $=C();if(!S.test($))throw V($,"name");_("=");var j=new c(we($),at(C()),x,R);Fe(j,function(Ae){if(Ae==="option")Ce(j,Ae),_(";");else throw V(Ae)},function(){En(j)}),A.add(j)}function so(A,x){if(!S.test(x=C()))throw V(x,"name");var R=new f(we(x));Fe(R,function(j){j==="option"?(Ce(R,j),_(";")):(Y(j),lt(R,"optional"))}),A.add(R)}function io(A,x){if(!S.test(x=C()))throw V(x,"name");var R=new u(x);Fe(R,function(j){switch(j){case"option":Ce(R,j),_(";");break;case"reserved":Sn(R.reserved||(R.reserved=[]),!0);break;default:oo(R,j)}}),A.add(R)}function oo(A,x){if(!S.test(x))throw V(x,"name");_("=");var R=at(C(),!0),$={};Fe($,function(ie){if(ie==="option")Ce($,ie),_(";");else throw V(ie)},function(){En($)}),A.add(x,R,$.comment)}function Ce(A,x){var R=_("(",!0);if(!T.test(x=C()))throw V(x,"name");var $=x;R&&(_(")"),$="("+$+")",x=te(),M.test(x)&&($+=x,C())),_("="),kn(A,$)}function kn(A,x){if(_("{",!0))do{if(!S.test(be=C()))throw V(be,"name");te()==="{"?kn(A,x+"."+be):(_(":"),te()==="{"?kn(A,x+"."+be):br(A,x+"."+be,wr()))}while(!_("}",!0));else br(A,x,wr())}function br(A,x,R){A.setOption&&A.setOption(x,R)}function En(A){if(_("[",!0)){do Ce(A,"option");while(_(",",!0));_("]")}return A}function ao(A,x){if(!S.test(x=C()))throw V(x,"service name");var R=new d(x);Fe(R,function(j){if(!vn(R,j))if(j==="rpc")lo(R,j);else throw V(j)}),A.add(R)}function lo(A,x){var R=x;if(!S.test(x=C()))throw V(x,"name");var $=x,j,ie,Ae,Qe;if(_("("),_("stream",!0)&&(ie=!0),!T.test(x=C())||(j=x,_(")"),_("returns"),_("("),_("stream",!0)&&(Qe=!0),!T.test(x=C())))throw V(x);Ae=x,_(")");var He=new h($,R,j,Ae,ie,Qe);Fe(He,function(Tn){if(Tn==="option")Ce(He,Tn),_(";");else throw V(Tn)}),A.add(He)}function uo(A,x){if(!T.test(x=C()))throw V(x,"reference");var R=x;Fe(null,function(j){switch(j){case"required":case"repeated":case"optional":lt(A,j,R);break;default:if(!ne||!T.test(j))throw V(j);Y(j),lt(A,"optional",R);break}})}for(var be;(be=C())!==null;)switch(be){case"package":if(!Be)throw V(be);Ki();break;case"import":if(!Be)throw V(be);Xi();break;case"syntax":if(!Be)throw V(be);eo();break;case"option":if(!Be)throw V(be);Ce(he,be),_(";");break;default:if(vn(he,be)){Be=!1;continue}throw V(be)}return D.filename=null,{package:ce,imports:B,weakImports:K,syntax:X,root:Q}}},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(t,n,s){n.exports=f;var i=t(39),o,l=i.LongBits,a=i.utf8;function c(p,y){return RangeError("index out of range: "+p.pos+" + "+(y||1)+" > "+p.len)}function f(p){this.buf=p,this.pos=0,this.len=p.length}var u=typeof Uint8Array<"u"?function(y){if(y instanceof Uint8Array||Array.isArray(y))return new f(y);throw Error("illegal buffer")}:function(y){if(Array.isArray(y))return new f(y);throw Error("illegal buffer")};f.create=i.Buffer?function(y){return(f.create=function(g){return i.Buffer.isBuffer(g)?new o(g):u(g)})(y)}:u,f.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,f.prototype.uint32=(function(){var y=4294967295;return function(){if(y=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(y=(y|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(y=(y|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(y=(y|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(y=(y|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return y;if((this.pos+=5)>this.len)throw this.pos=this.len,c(this,10);return y}})(),f.prototype.int32=function(){return this.uint32()|0},f.prototype.sint32=function(){var y=this.uint32();return y>>>1^-(y&1)|0};function d(){var p=new l(0,0),y=0;if(this.len-this.pos>4){for(;y<4;++y)if(p.lo=(p.lo|(this.buf[this.pos]&127)<<y*7)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(this.buf[this.pos]&127)<<28)>>>0,p.hi=(p.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return p;y=0}else{for(;y<3;++y){if(this.pos>=this.len)throw c(this);if(p.lo=(p.lo|(this.buf[this.pos]&127)<<y*7)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(this.buf[this.pos++]&127)<<y*7)>>>0,p}if(this.len-this.pos>4){for(;y<5;++y)if(p.hi=(p.hi|(this.buf[this.pos]&127)<<y*7+3)>>>0,this.buf[this.pos++]<128)return p}else for(;y<5;++y){if(this.pos>=this.len)throw c(this);if(p.hi=(p.hi|(this.buf[this.pos]&127)<<y*7+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}f.prototype.bool=function(){return this.uint32()!==0};function h(p,y){return(p[y-4]|p[y-3]<<8|p[y-2]<<16|p[y-1]<<24)>>>0}f.prototype.fixed32=function(){if(this.pos+4>this.len)throw c(this,4);return h(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw c(this,4);return h(this.buf,this.pos+=4)|0};function m(){if(this.pos+8>this.len)throw c(this,8);return new l(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}f.prototype.float=function(){if(this.pos+4>this.len)throw c(this,4);var y=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,y},f.prototype.double=function(){if(this.pos+8>this.len)throw c(this,4);var y=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,y},f.prototype.bytes=function(){var y=this.uint32(),w=this.pos,g=this.pos+y;if(g>this.len)throw c(this,y);return this.pos+=y,Array.isArray(this.buf)?this.buf.slice(w,g):w===g?new this.buf.constructor(0):this._slice.call(this.buf,w,g)},f.prototype.string=function(){var y=this.bytes();return a.read(y,0,y.length)},f.prototype.skip=function(y){if(typeof y=="number"){if(this.pos+y>this.len)throw c(this,y);this.pos+=y}else do if(this.pos>=this.len)throw c(this);while(this.buf[this.pos++]&128);return this},f.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:do{if((p=this.uint32()&7)===4)break;this.skipType(p)}while(!0);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},f._configure=function(p){o=p;var y=i.Long?"toLong":"toNumber";i.merge(f.prototype,{int64:function(){return d.call(this)[y](!1)},uint64:function(){return d.call(this)[y](!0)},sint64:function(){return d.call(this).zzDecode()[y](!1)},fixed64:function(){return m.call(this)[y](!0)},sfixed64:function(){return m.call(this)[y](!1)}})}},{39:39}],28:[function(t,n,s){n.exports=l;var i=t(27);(l.prototype=Object.create(i.prototype)).constructor=l;var o=t(39);function l(a){i.call(this,a)}o.Buffer&&(l.prototype._slice=o.Buffer.prototype.slice),l.prototype.string=function(){var c=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+c,this.len))}},{27:27,39:39}],29:[function(t,n,s){n.exports=h;var i=t(23);((h.prototype=Object.create(i.prototype)).constructor=h).className="Root";var o=t(16),l=t(15),a=t(25),c=t(37),f,u,d;function h(w){i.call(this,"",w),this.deferred=[],this.files=[]}h.fromJSON=function(g,b){return b||(b=new h),g.options&&b.setOptions(g.options),b.addJSON(g.nested)},h.prototype.resolvePath=c.path.resolve;function m(){}h.prototype.load=function w(g,b,O){typeof b=="function"&&(O=b,b=e);var k=this;if(!O)return c.asPromise(w,k,g,b);var E=O===m;function S(P,z){if(O){var C=O;if(O=null,E)throw P;C(P,z)}}function T(P,z){try{if(c.isString(z)&&z.charAt(0)==="{"&&(z=JSON.parse(z)),!c.isString(z))k.setOptions(z.options).addJSON(z.nested);else{u.filename=P;var C=u(z,k,b),Y,te=0;if(C.imports)for(;te<C.imports.length;++te)(Y=k.resolvePath(P,C.imports[te]))&&M(Y);if(C.weakImports)for(te=0;te<C.weakImports.length;++te)(Y=k.resolvePath(P,C.weakImports[te]))&&M(Y,!0)}}catch(_){S(_)}!E&&!D&&S(null,k)}function M(P,z){var C=P.lastIndexOf("google/protobuf/");if(C>-1){var Y=P.substring(C);Y in d&&(P=Y)}if(!(k.files.indexOf(P)>-1)){if(k.files.push(P),P in d){E?T(P,d[P]):(++D,setTimeout(function(){--D,T(P,d[P])}));return}if(E){var te;try{te=c.fs.readFileSync(P).toString("utf8")}catch(_){z||S(_);return}T(P,te)}else++D,c.fetch(P,function(_,xe){if(--D,!!O){if(_){z?D||S(null,k):S(_);return}T(P,xe)}})}}var D=0;c.isString(g)&&(g=[g]);for(var F=0,Q;F<g.length;++F)(Q=k.resolvePath("",g[F]))&&M(Q);return E?k:(D||S(null,k),e)},h.prototype.loadSync=function(g,b){if(!c.isNode)throw Error("not supported");return this.load(g,b,m)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(g){return"'extend "+g.extend+"' in "+g.parent.fullName}).join(", "));return i.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function y(w,g){var b=g.parent.lookup(g.extend);if(b){var O=new o(g.fullName,g.id,g.type,g.rule,e,g.options);return O.declaringField=g,g.extensionField=O,b.add(O),!0}return!1}h.prototype._handleAdd=function(g){if(g instanceof o)g.extend!==e&&!g.extensionField&&(y(this,g)||this.deferred.push(g));else if(g instanceof l)p.test(g.name)&&(g.parent[g.name]=g.values);else if(!(g instanceof a)){if(g instanceof f)for(var b=0;b<this.deferred.length;)y(this,this.deferred[b])?this.deferred.splice(b,1):++b;for(var O=0;O<g.nestedArray.length;++O)this._handleAdd(g._nestedArray[O]);p.test(g.name)&&(g.parent[g.name]=g)}},h.prototype._handleRemove=function(g){if(g instanceof o){if(g.extend!==e)if(g.extensionField)g.extensionField.parent.remove(g.extensionField),g.extensionField=null;else{var b=this.deferred.indexOf(g);b>-1&&this.deferred.splice(b,1)}}else if(g instanceof l)p.test(g.name)&&delete g.parent[g.name];else if(g instanceof i){for(var O=0;O<g.nestedArray.length;++O)this._handleRemove(g._nestedArray[O]);p.test(g.name)&&delete g.parent[g.name]}},h._configure=function(w,g,b){f=w,u=g,d=b}},{15:15,16:16,23:23,25:25,37:37}],30:[function(t,n,s){n.exports={}},{}],31:[function(t,n,s){var i=s;i.Service=t(32)},{32:32}],32:[function(t,n,s){n.exports=o;var i=t(39);(o.prototype=Object.create(i.EventEmitter.prototype)).constructor=o;function o(l,a,c){if(typeof l!="function")throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=l,this.requestDelimited=!!a,this.responseDelimited=!!c}o.prototype.rpcCall=function l(a,c,f,u,d){if(!u)throw TypeError("request must be specified");var h=this;if(!d)return i.asPromise(l,h,a,c,f,u);if(!h.rpcImpl)return setTimeout(function(){d(Error("already ended"))},0),e;try{return h.rpcImpl(a,c[h.requestDelimited?"encodeDelimited":"encode"](u).finish(),function(p,y){if(p)return h.emit("error",p,a),d(p);if(y===null)return h.end(!0),e;if(!(y instanceof f))try{y=f[h.responseDelimited?"decodeDelimited":"decode"](y)}catch(w){return h.emit("error",w,a),d(w)}return h.emit("data",y,a),d(null,y)})}catch(m){return h.emit("error",m,a),setTimeout(function(){d(m)},0),e}},o.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(t,n,s){n.exports=c;var i=t(23);((c.prototype=Object.create(i.prototype)).constructor=c).className="Service";var o=t(22),l=t(37),a=t(31);function c(u,d){i.call(this,u,d),this.methods={},this._methodsArray=null}c.fromJSON=function(d,h){var m=new c(d,h.options);if(h.methods)for(var p=Object.keys(h.methods),y=0;y<p.length;++y)m.add(o.fromJSON(p[y],h.methods[p[y]]));return h.nested&&m.addJSON(h.nested),m.comment=h.comment,m},c.prototype.toJSON=function(d){var h=i.prototype.toJSON.call(this,d),m=d?!!d.keepComments:!1;return l.toObject(["options",h&&h.options||e,"methods",i.arrayToJSON(this.methodsArray,d)||{},"nested",h&&h.nested||e,"comment",m?this.comment:e])},Object.defineProperty(c.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=l.toArray(this.methods))}});function f(u){return u._methodsArray=null,u}c.prototype.get=function(d){return this.methods[d]||i.prototype.get.call(this,d)},c.prototype.resolveAll=function(){for(var d=this.methodsArray,h=0;h<d.length;++h)d[h].resolve();return i.prototype.resolve.call(this)},c.prototype.add=function(d){if(this.get(d.name))throw Error("duplicate name '"+d.name+"' in "+this);return d instanceof o?(this.methods[d.name]=d,d.parent=this,f(this)):i.prototype.add.call(this,d)},c.prototype.remove=function(d){if(d instanceof o){if(this.methods[d.name]!==d)throw Error(d+" is not a member of "+this);return delete this.methods[d.name],d.parent=null,f(this)}return i.prototype.remove.call(this,d)},c.prototype.create=function(d,h,m){for(var p=new a.Service(d,h,m),y=0,w;y<this.methodsArray.length;++y){var g=l.lcFirst((w=this._methodsArray[y]).resolve().name).replace(/[^$\w_]/g,"");p[g]=l.codegen(["r","c"],l.isReserved(g)?g+"_":g)("return this.rpcCall(m,q,s,r,c)")({m:w,q:w.resolvedRequestType.ctor,s:w.resolvedResponseType.ctor})}return p}},{22:22,23:23,31:31,37:37}],34:[function(t,n,s){n.exports=p;var i=/[\s{}=;:[\],'"()<>]/g,o=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,l=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,a=/^ *[*/]+ */,c=/^\s*\*?\/*/,f=/\n/g,u=/\s/,d=/\\(.?)/g,h={0:"\0",r:"\r",n:`
`,t:"	"};function m(y){return y.replace(d,function(w,g){switch(g){case"\\":case"":return g;default:return h[g]||""}})}p.unescape=m;function p(y,w){y=y.toString();var g=0,b=y.length,O=1,k=null,E=null,S=0,T=!1,M=[],D=null;function F(B){return Error("illegal "+B+" (line "+O+")")}function Q(){var B=D==="'"?l:o;B.lastIndex=g-1;var K=B.exec(y);if(!K)throw F("string");return g=B.lastIndex,_(D),D=null,m(K[1])}function P(B){return y.charAt(B)}function z(B,K){k=y.charAt(B++),S=O,T=!1;var X;w?X=2:X=3;var ne=B-X,he;do if(--ne<0||(he=y.charAt(ne))===`
`){T=!0;break}while(he===" "||he==="	");for(var we=y.substring(B,K).split(f),V=0;V<we.length;++V)we[V]=we[V].replace(w?c:a,"").trim();E=we.join(`
`).trim()}function C(B){var K=Y(B),X=y.substring(B,K),ne=/^\s*\/{1,2}/.test(X);return ne}function Y(B){for(var K=B;K<b&&P(K)!==`
`;)K++;return K}function te(){if(M.length>0)return M.shift();if(D)return Q();var B,K,X,ne,he;do{if(g===b)return null;for(B=!1;u.test(X=P(g));)if(X===`
`&&++O,++g===b)return null;if(P(g)==="/"){if(++g===b)throw F("comment");if(P(g)==="/")if(w){if(ne=g,he=!1,C(g)){he=!0;do{if(g=Y(g),g===b)break;g++}while(C(g))}else g=Math.min(b,Y(g)+1);he&&z(ne,g),O++,B=!0}else{for(he=P(ne=g+1)==="/";P(++g)!==`
`;)if(g===b)return null;++g,he&&z(ne,g-1),++O,B=!0}else if((X=P(g))==="*"){ne=g+1,he=w||P(ne)==="*";do{if(X===`
`&&++O,++g===b)throw F("comment");K=X,X=P(g)}while(K!=="*"||X!=="/");++g,he&&z(ne,g-2),B=!0}else return"/"}}while(B);var we=g;i.lastIndex=0;var V=i.test(P(we++));if(!V)for(;we<b&&!i.test(P(we));)++we;var Ve=y.substring(g,g=we);return(Ve==='"'||Ve==="'")&&(D=Ve),Ve}function _(B){M.push(B)}function xe(){if(!M.length){var B=te();if(B===null)return null;_(B)}return M[0]}function Be(B,K){var X=xe(),ne=X===B;if(ne)return te(),!0;if(!K)throw F("token '"+X+"', '"+B+"' expected");return!1}function ce(B){var K=null;return B===e?S===O-1&&(w||k==="*"||T)&&(K=E):(S<B&&xe(),S===B&&!T&&(w||k==="/")&&(K=E)),K}return Object.defineProperty({next:te,peek:xe,push:_,skip:Be,cmnt:ce},"line",{get:function(){return O}})}},{}],35:[function(t,n,s){n.exports=O;var i=t(23);((O.prototype=Object.create(i.prototype)).constructor=O).className="Type";var o=t(15),l=t(25),a=t(16),c=t(20),f=t(33),u=t(21),d=t(27),h=t(42),m=t(37),p=t(14),y=t(13),w=t(40),g=t(12),b=t(41);function O(E,S){i.call(this,E,S),this.fields={},this.oneofs=e,this.extensions=e,this.reserved=e,this.group=e,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(O.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var E=Object.keys(this.fields),S=0;S<E.length;++S){var T=this.fields[E[S]],M=T.id;if(this._fieldsById[M])throw Error("duplicate id "+M+" in "+this);this._fieldsById[M]=T}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=m.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=m.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=O.generateConstructor(this)())},set:function(E){var S=E.prototype;S instanceof u||((E.prototype=new u).constructor=E,m.merge(E.prototype,S)),E.$type=E.prototype.$type=this,m.merge(E,u,!0),this._ctor=E;for(var T=0;T<this.fieldsArray.length;++T)this._fieldsArray[T].resolve();var M={};for(T=0;T<this.oneofsArray.length;++T)M[this._oneofsArray[T].resolve().name]={get:m.oneOfGetter(this._oneofsArray[T].oneof),set:m.oneOfSetter(this._oneofsArray[T].oneof)};T&&Object.defineProperties(E.prototype,M)}}}),O.generateConstructor=function(S){for(var T=m.codegen(["p"],S.name),M=0,D;M<S.fieldsArray.length;++M)(D=S._fieldsArray[M]).map?T("this%s={}",m.safeProp(D.name)):D.repeated&&T("this%s=[]",m.safeProp(D.name));return T("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function k(E){return E._fieldsById=E._fieldsArray=E._oneofsArray=null,delete E.encode,delete E.decode,delete E.verify,E}O.fromJSON=function(S,T){var M=new O(S,T.options);M.extensions=T.extensions,M.reserved=T.reserved;for(var D=Object.keys(T.fields),F=0;F<D.length;++F)M.add((typeof T.fields[D[F]].keyType<"u"?c.fromJSON:a.fromJSON)(D[F],T.fields[D[F]]));if(T.oneofs)for(D=Object.keys(T.oneofs),F=0;F<D.length;++F)M.add(l.fromJSON(D[F],T.oneofs[D[F]]));if(T.nested)for(D=Object.keys(T.nested),F=0;F<D.length;++F){var Q=T.nested[D[F]];M.add((Q.id!==e?a.fromJSON:Q.fields!==e?O.fromJSON:Q.values!==e?o.fromJSON:Q.methods!==e?f.fromJSON:i.fromJSON)(D[F],Q))}return T.extensions&&T.extensions.length&&(M.extensions=T.extensions),T.reserved&&T.reserved.length&&(M.reserved=T.reserved),T.group&&(M.group=!0),T.comment&&(M.comment=T.comment),M},O.prototype.toJSON=function(S){var T=i.prototype.toJSON.call(this,S),M=S?!!S.keepComments:!1;return m.toObject(["options",T&&T.options||e,"oneofs",i.arrayToJSON(this.oneofsArray,S),"fields",i.arrayToJSON(this.fieldsArray.filter(function(D){return!D.declaringField}),S)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:e,"reserved",this.reserved&&this.reserved.length?this.reserved:e,"group",this.group||e,"nested",T&&T.nested||e,"comment",M?this.comment:e])},O.prototype.resolveAll=function(){for(var S=this.fieldsArray,T=0;T<S.length;)S[T++].resolve();var M=this.oneofsArray;for(T=0;T<M.length;)M[T++].resolve();return i.prototype.resolveAll.call(this)},O.prototype.get=function(S){return this.fields[S]||this.oneofs&&this.oneofs[S]||this.nested&&this.nested[S]||null},O.prototype.add=function(S){if(this.get(S.name))throw Error("duplicate name '"+S.name+"' in "+this);if(S instanceof a&&S.extend===e){if(this._fieldsById?this._fieldsById[S.id]:this.fieldsById[S.id])throw Error("duplicate id "+S.id+" in "+this);if(this.isReservedId(S.id))throw Error("id "+S.id+" is reserved in "+this);if(this.isReservedName(S.name))throw Error("name '"+S.name+"' is reserved in "+this);return S.parent&&S.parent.remove(S),this.fields[S.name]=S,S.message=this,S.onAdd(this),k(this)}return S instanceof l?(this.oneofs||(this.oneofs={}),this.oneofs[S.name]=S,S.onAdd(this),k(this)):i.prototype.add.call(this,S)},O.prototype.remove=function(S){if(S instanceof a&&S.extend===e){if(!this.fields||this.fields[S.name]!==S)throw Error(S+" is not a member of "+this);return delete this.fields[S.name],S.parent=null,S.onRemove(this),k(this)}if(S instanceof l){if(!this.oneofs||this.oneofs[S.name]!==S)throw Error(S+" is not a member of "+this);return delete this.oneofs[S.name],S.parent=null,S.onRemove(this),k(this)}return i.prototype.remove.call(this,S)},O.prototype.isReservedId=function(S){return i.isReservedId(this.reserved,S)},O.prototype.isReservedName=function(S){return i.isReservedName(this.reserved,S)},O.prototype.create=function(S){return new this.ctor(S)},O.prototype.setup=function(){for(var S=this.fullName,T=[],M=0;M<this.fieldsArray.length;++M)T.push(this._fieldsArray[M].resolve().resolvedType);this.encode=p(this)({Writer:h,types:T,util:m}),this.decode=y(this)({Reader:d,types:T,util:m}),this.verify=w(this)({types:T,util:m}),this.fromObject=g.fromObject(this)({types:T,util:m}),this.toObject=g.toObject(this)({types:T,util:m});var D=b[S];if(D){var F=Object.create(this);F.fromObject=this.fromObject,this.fromObject=D.fromObject.bind(F),F.toObject=this.toObject,this.toObject=D.toObject.bind(F)}return this},O.prototype.encode=function(S,T){return this.setup().encode(S,T)},O.prototype.encodeDelimited=function(S,T){return this.encode(S,T&&T.len?T.fork():T).ldelim()},O.prototype.decode=function(S,T){return this.setup().decode(S,T)},O.prototype.decodeDelimited=function(S){return S instanceof d||(S=d.create(S)),this.decode(S,S.uint32())},O.prototype.verify=function(S){return this.setup().verify(S)},O.prototype.fromObject=function(S){return this.setup().fromObject(S)},O.prototype.toObject=function(S,T){return this.setup().toObject(S,T)},O.d=function(S){return function(M){m.decorateType(M,S)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(t,n,s){var i=s,o=t(37),l=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(c,f){var u=0,d={};for(f|=0;u<c.length;)d[l[u+f]]=c[u++];return d}i.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),i.long=a([0,0,0,1,1],7),i.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(t,n,s){var i=n.exports=t(39),o=t(30),l,a;i.codegen=t(3),i.fetch=t(5),i.path=t(8),i.fs=i.inquire("fs"),i.toArray=function(m){if(m){for(var p=Object.keys(m),y=new Array(p.length),w=0;w<p.length;)y[w]=m[p[w++]];return y}return[]},i.toObject=function(m){for(var p={},y=0;y<m.length;){var w=m[y++],g=m[y++];g!==e&&(p[w]=g)}return p};var c=/\\/g,f=/"/g;i.isReserved=function(m){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(m)},i.safeProp=function(m){return!/^[$\w_]+$/.test(m)||i.isReserved(m)?'["'+m.replace(c,"\\\\").replace(f,'\\"')+'"]':"."+m},i.ucFirst=function(m){return m.charAt(0).toUpperCase()+m.substring(1)};var u=/_([a-z])/g;i.camelCase=function(m){return m.substring(0,1)+m.substring(1).replace(u,function(p,y){return y.toUpperCase()})},i.compareFieldsById=function(m,p){return m.id-p.id},i.decorateType=function(m,p){if(m.$type)return p&&m.$type.name!==p&&(i.decorateRoot.remove(m.$type),m.$type.name=p,i.decorateRoot.add(m.$type)),m.$type;l||(l=t(35));var y=new l(p||m.name);return i.decorateRoot.add(y),y.ctor=m,Object.defineProperty(m,"$type",{value:y,enumerable:!1}),Object.defineProperty(m.prototype,"$type",{value:y,enumerable:!1}),y};var d=0;i.decorateEnum=function(m){if(m.$type)return m.$type;a||(a=t(15));var p=new a("Enum"+d++,m);return i.decorateRoot.add(p),Object.defineProperty(m,"$type",{value:p,enumerable:!1}),p},Object.defineProperty(i,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(t(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(t,n,s){n.exports=o;var i=t(39);function o(f,u){this.lo=f>>>0,this.hi=u>>>0}var l=o.zero=new o(0,0);l.toNumber=function(){return 0},l.zzEncode=l.zzDecode=function(){return this},l.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(u){if(u===0)return l;var d=u<0;d&&(u=-u);var h=u>>>0,m=(u-h)/4294967296>>>0;return d&&(m=~m>>>0,h=~h>>>0,++h>4294967295&&(h=0,++m>4294967295&&(m=0))),new o(h,m)},o.from=function(u){if(typeof u=="number")return o.fromNumber(u);if(i.isString(u))if(i.Long)u=i.Long.fromString(u);else return o.fromNumber(parseInt(u,10));return u.low||u.high?new o(u.low>>>0,u.high>>>0):l},o.prototype.toNumber=function(u){if(!u&&this.hi>>>31){var d=~this.lo+1>>>0,h=~this.hi>>>0;return d||(h=h+1>>>0),-(d+h*4294967296)}return this.lo+this.hi*4294967296},o.prototype.toLong=function(u){return i.Long?new i.Long(this.lo|0,this.hi|0,!!u):{low:this.lo|0,high:this.hi|0,unsigned:!!u}};var c=String.prototype.charCodeAt;o.fromHash=function(u){return u===a?l:new o((c.call(u,0)|c.call(u,1)<<8|c.call(u,2)<<16|c.call(u,3)<<24)>>>0,(c.call(u,4)|c.call(u,5)<<8|c.call(u,6)<<16|c.call(u,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var u=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^u)>>>0,this.lo=(this.lo<<1^u)>>>0,this},o.prototype.zzDecode=function(){var u=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^u)>>>0,this.hi=(this.hi>>>1^u)>>>0,this},o.prototype.length=function(){var u=this.lo,d=(this.lo>>>28|this.hi<<4)>>>0,h=this.hi>>>24;return h===0?d===0?u<16384?u<128?1:2:u<2097152?3:4:d<16384?d<128?5:6:d<2097152?7:8:h<128?9:10}},{39:39}],39:[function(t,n,s){var i=s;i.asPromise=t(1),i.base64=t(2),i.EventEmitter=t(4),i.float=t(6),i.inquire=t(7),i.utf8=t(10),i.pool=t(9),i.LongBits=t(38),i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isNode=!!(xt.process&&xt.process.versions&&xt.process.versions.node),i.isInteger=Number.isInteger||function(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c},i.isString=function(c){return typeof c=="string"||c instanceof String},i.isObject=function(c){return c&&typeof c=="object"},i.isset=i.isSet=function(c,f){var u=c[f];return u!=null&&c.hasOwnProperty(f)?typeof u!="object"||(Array.isArray(u)?u.length:Object.keys(u).length)>0:!1},i.Buffer=(function(){try{var a=i.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}})(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(c){return typeof c=="number"?i.Buffer?i._Buffer_allocUnsafe(c):new i.Array(c):i.Buffer?i._Buffer_from(c):typeof Uint8Array>"u"?c:new Uint8Array(c)},i.Array=typeof Uint8Array<"u"?Uint8Array:Array,i.Long=xt.dcodeIO&&xt.dcodeIO.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(c){return c?i.LongBits.from(c).toHash():i.LongBits.zeroHash},i.longFromHash=function(c,f){var u=i.LongBits.fromHash(c);return i.Long?i.Long.fromBits(u.lo,u.hi,f):u.toNumber(!!f)};function o(a,c,f){for(var u=Object.keys(c),d=0;d<u.length;++d)(a[u[d]]===e||!f)&&(a[u[d]]=c[u[d]]);return a}i.merge=o,i.lcFirst=function(c){return c.charAt(0).toLowerCase()+c.substring(1)};function l(a){function c(f,u){if(!(this instanceof c))return new c(f,u);Object.defineProperty(this,"message",{get:function(){return f}}),Error.captureStackTrace?Error.captureStackTrace(this,c):Object.defineProperty(this,"stack",{value:new Error().stack||""}),u&&o(this,u)}return(c.prototype=Object.create(Error.prototype)).constructor=c,Object.defineProperty(c.prototype,"name",{get:function(){return a}}),c.prototype.toString=function(){return this.name+": "+this.message},c}i.newError=l,i.ProtocolError=l("ProtocolError"),i.oneOfGetter=function(c){for(var f={},u=0;u<c.length;++u)f[c[u]]=1;return function(){for(var d=Object.keys(this),h=d.length-1;h>-1;--h)if(f[d[h]]===1&&this[d[h]]!==e&&this[d[h]]!==null)return d[h]}},i.oneOfSetter=function(c){return function(f){for(var u=0;u<c.length;++u)c[u]!==f&&delete this[c[u]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var a=i.Buffer;if(!a){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=a.from!==Uint8Array.from&&a.from||function(f,u){return new a(f,u)},i._Buffer_allocUnsafe=a.allocUnsafe||function(f){return new a(f)}}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(t,n,s){n.exports=f;var i=t(15),o=t(37);function l(u,d){return u.name+": "+d+(u.repeated&&d!=="array"?"[]":u.map&&d!=="object"?"{k:"+u.keyType+"}":"")+" expected"}function a(u,d,h,m){if(d.resolvedType)if(d.resolvedType instanceof i){u("switch(%s){",m)("default:")("return%j",l(d,"enum value"));for(var p=Object.keys(d.resolvedType.values),y=0;y<p.length;++y)u("case %i:",d.resolvedType.values[p[y]]);u("break")("}")}else u("{")("var e=types[%i].verify(%s);",h,m)("if(e)")("return%j+e",d.name+".")("}");else switch(d.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":u("if(!util.isInteger(%s))",m)("return%j",l(d,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":u("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",m,m,m,m)("return%j",l(d,"integer|Long"));break;case"float":case"double":u('if(typeof %s!=="number")',m)("return%j",l(d,"number"));break;case"bool":u('if(typeof %s!=="boolean")',m)("return%j",l(d,"boolean"));break;case"string":u("if(!util.isString(%s))",m)("return%j",l(d,"string"));break;case"bytes":u('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',m,m,m)("return%j",l(d,"buffer"));break}return u}function c(u,d,h){switch(d.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":u("if(!util.key32Re.test(%s))",h)("return%j",l(d,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":u("if(!util.key64Re.test(%s))",h)("return%j",l(d,"integer|Long key"));break;case"bool":u("if(!util.key2Re.test(%s))",h)("return%j",l(d,"boolean key"));break}return u}function f(u){var d=o.codegen(["m"],u.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),h=u.oneofsArray,m={};h.length&&d("var p={}");for(var p=0;p<u.fieldsArray.length;++p){var y=u._fieldsArray[p].resolve(),w="m"+o.safeProp(y.name);if(y.optional&&d("if(%s!=null&&m.hasOwnProperty(%j)){",w,y.name),y.map)d("if(!util.isObject(%s))",w)("return%j",l(y,"object"))("var k=Object.keys(%s)",w)("for(var i=0;i<k.length;++i){"),c(d,y,"k[i]"),a(d,y,p,w+"[k[i]]")("}");else if(y.repeated)d("if(!Array.isArray(%s))",w)("return%j",l(y,"array"))("for(var i=0;i<%s.length;++i){",w),a(d,y,p,w+"[i]")("}");else{if(y.partOf){var g=o.safeProp(y.partOf.name);m[y.partOf.name]===1&&d("if(p%s===1)",g)("return%j",y.partOf.name+": multiple values"),m[y.partOf.name]=1,d("p%s=1",g)}a(d,y,p,w)}y.optional&&d("}")}return d("return null")}},{15:15,37:37}],41:[function(t,n,s){var i=s,o=t(21);i[".google.protobuf.Any"]={fromObject:function(l){if(l&&l["@type"]){var a=this.lookup(l["@type"]);if(a){var c=l["@type"].charAt(0)==="."?l["@type"].substr(1):l["@type"];return this.create({type_url:"/"+c,value:a.encode(a.fromObject(l)).finish()})}}return this.fromObject(l)},toObject:function(l,a){if(a&&a.json&&l.type_url&&l.value){var c=l.type_url.substring(l.type_url.lastIndexOf("/")+1),f=this.lookup(c);f&&(l=f.decode(l.value))}if(!(l instanceof this.ctor)&&l instanceof o){var u=l.$type.toObject(l,a);return u["@type"]=l.$type.fullName,u}return this.toObject(l,a)}}},{21:21}],42:[function(t,n,s){n.exports=h;var i=t(39),o,l=i.LongBits,a=i.base64,c=i.utf8;function f(O,k,E){this.fn=O,this.len=k,this.next=e,this.val=E}function u(){}function d(O){this.head=O.head,this.tail=O.tail,this.len=O.len,this.next=O.states}function h(){this.len=0,this.head=new f(u,0,0),this.tail=this.head,this.states=null}h.create=i.Buffer?function(){return(h.create=function(){return new o})()}:function(){return new h},h.alloc=function(k){return new i.Array(k)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(k,E,S){return this.tail=this.tail.next=new f(k,E,S),this.len+=E,this};function m(O,k,E){k[E]=O&255}function p(O,k,E){for(;O>127;)k[E++]=O&127|128,O>>>=7;k[E]=O}function y(O,k){this.len=O,this.next=e,this.val=k}y.prototype=Object.create(f.prototype),y.prototype.fn=p,h.prototype.uint32=function(k){return this.len+=(this.tail=this.tail.next=new y((k=k>>>0)<128?1:k<16384?2:k<2097152?3:k<268435456?4:5,k)).len,this},h.prototype.int32=function(k){return k<0?this._push(w,10,l.fromNumber(k)):this.uint32(k)},h.prototype.sint32=function(k){return this.uint32((k<<1^k>>31)>>>0)};function w(O,k,E){for(;O.hi;)k[E++]=O.lo&127|128,O.lo=(O.lo>>>7|O.hi<<25)>>>0,O.hi>>>=7;for(;O.lo>127;)k[E++]=O.lo&127|128,O.lo=O.lo>>>7;k[E++]=O.lo}h.prototype.uint64=function(k){var E=l.from(k);return this._push(w,E.length(),E)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(k){var E=l.from(k).zzEncode();return this._push(w,E.length(),E)},h.prototype.bool=function(k){return this._push(m,1,k?1:0)};function g(O,k,E){k[E]=O&255,k[E+1]=O>>>8&255,k[E+2]=O>>>16&255,k[E+3]=O>>>24}h.prototype.fixed32=function(k){return this._push(g,4,k>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(k){var E=l.from(k);return this._push(g,4,E.lo)._push(g,4,E.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(k){return this._push(i.float.writeFloatLE,4,k)},h.prototype.double=function(k){return this._push(i.float.writeDoubleLE,8,k)};var b=i.Array.prototype.set?function(k,E,S){E.set(k,S)}:function(k,E,S){for(var T=0;T<k.length;++T)E[S+T]=k[T]};h.prototype.bytes=function(k){var E=k.length>>>0;if(!E)return this._push(m,1,0);if(i.isString(k)){var S=h.alloc(E=a.length(k));a.decode(k,S,0),k=S}return this.uint32(E)._push(b,E,k)},h.prototype.string=function(k){var E=c.length(k);return E?this.uint32(E)._push(c.write,E,k):this._push(m,1,0)},h.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new f(u,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(u,0,0),this.len=0),this},h.prototype.ldelim=function(){var k=this.head,E=this.tail,S=this.len;return this.reset().uint32(S),S&&(this.tail.next=k.next,this.tail=E,this.len+=S),this},h.prototype.finish=function(){for(var k=this.head.next,E=this.constructor.alloc(this.len),S=0;k;)k.fn(k.val,E,S),S+=k.len,k=k.next;return E},h._configure=function(O){o=O}},{39:39}],43:[function(t,n,s){n.exports=a;var i=t(42);(a.prototype=Object.create(i.prototype)).constructor=a;var o=t(39),l=o.Buffer;function a(){i.call(this)}a.alloc=function(d){return(a.alloc=o._Buffer_allocUnsafe)(d)};var c=l&&l.prototype instanceof Uint8Array&&l.prototype.set.name==="set"?function(d,h,m){h.set(d,m)}:function(d,h,m){if(d.copy)d.copy(h,m,0,d.length);else for(var p=0;p<d.length;)h[m++]=d[p++]};a.prototype.bytes=function(d){o.isString(d)&&(d=o._Buffer_from(d,"base64"));var h=d.length>>>0;return this.uint32(h),h&&this._push(c,h,d),this};function f(u,d,h){u.length<40?o.utf8.write(u,d,h):d.utf8Write(u,h)}a.prototype.string=function(d){var h=l.byteLength(d);return this.uint32(h),h&&this._push(f,h,d),this}},{39:39,42:42}]},{},[19])})()})(Wn)),Wn.exports}var Bc=Uc();const Mt=jc(Bc);let q=Mt.Reader,ye=Mt.Writer,ue=Mt.util;const I=Mt.roots["push-server"]||(Mt.roots["push-server"]={});I.RequestBatch=(function(){function r(e){if(this.requests=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.requests=ue.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,n){if(n||(n=ye.create()),t.requests!=null&&t.requests.length)for(var s=0;s<t.requests.length;++s)I.Request.encode(t.requests[s],n.uint32(10).fork()).ldelim();return n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.RequestBatch;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.requests&&i.requests.length||(i.requests=[]),i.requests.push(I.Request.decode(t,t.uint32()));break;default:t.skipType(o&7);break}}return i},r})();I.Request=(function(){function r(t){if(t)for(var n=Object.keys(t),s=0;s<n.length;++s)t[n[s]]!=null&&(this[n[s]]=t[n[s]])}r.prototype.incomingMessages=null,r.prototype.channelStats=null,r.prototype.serverStats=null;var e;return Object.defineProperty(r.prototype,"command",{get:ue.oneOfGetter(e=["incomingMessages","channelStats","serverStats"]),set:ue.oneOfSetter(e)}),r.create=function(n){return new r(n)},r.encode=function(n,s){return s||(s=ye.create()),n.incomingMessages!=null&&n.hasOwnProperty("incomingMessages")&&I.IncomingMessagesRequest.encode(n.incomingMessages,s.uint32(10).fork()).ldelim(),n.channelStats!=null&&n.hasOwnProperty("channelStats")&&I.ChannelStatsRequest.encode(n.channelStats,s.uint32(18).fork()).ldelim(),n.serverStats!=null&&n.hasOwnProperty("serverStats")&&I.ServerStatsRequest.encode(n.serverStats,s.uint32(26).fork()).ldelim(),s},r.decode=function(n,s){n instanceof q||(n=q.create(n));for(var i=s===void 0?n.len:n.pos+s,o=new I.Request;n.pos<i;){var l=n.uint32();switch(l>>>3){case 1:o.incomingMessages=I.IncomingMessagesRequest.decode(n,n.uint32());break;case 2:o.channelStats=I.ChannelStatsRequest.decode(n,n.uint32());break;case 3:o.serverStats=I.ServerStatsRequest.decode(n,n.uint32());break;default:n.skipType(l&7);break}}return o},r})();I.IncomingMessagesRequest=(function(){function r(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.messages=ue.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,n){if(n||(n=ye.create()),t.messages!=null&&t.messages.length)for(var s=0;s<t.messages.length;++s)I.IncomingMessage.encode(t.messages[s],n.uint32(10).fork()).ldelim();return n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.IncomingMessagesRequest;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.messages&&i.messages.length||(i.messages=[]),i.messages.push(I.IncomingMessage.decode(t,t.uint32()));break;default:t.skipType(o&7);break}}return i},r})();I.IncomingMessage=(function(){function r(e){if(this.receivers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.receivers=ue.emptyArray,r.prototype.sender=null,r.prototype.body="",r.prototype.expiry=0,r.prototype.type="",r.create=function(t){return new r(t)},r.encode=function(t,n){if(n||(n=ye.create()),t.receivers!=null&&t.receivers.length)for(var s=0;s<t.receivers.length;++s)I.Receiver.encode(t.receivers[s],n.uint32(10).fork()).ldelim();return t.sender!=null&&t.hasOwnProperty("sender")&&I.Sender.encode(t.sender,n.uint32(18).fork()).ldelim(),t.body!=null&&t.hasOwnProperty("body")&&n.uint32(26).string(t.body),t.expiry!=null&&t.hasOwnProperty("expiry")&&n.uint32(32).uint32(t.expiry),t.type!=null&&t.hasOwnProperty("type")&&n.uint32(42).string(t.type),n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.IncomingMessage;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.receivers&&i.receivers.length||(i.receivers=[]),i.receivers.push(I.Receiver.decode(t,t.uint32()));break;case 2:i.sender=I.Sender.decode(t,t.uint32());break;case 3:i.body=t.string();break;case 4:i.expiry=t.uint32();break;case 5:i.type=t.string();break;default:t.skipType(o&7);break}}return i},r})();I.ChannelStatsRequest=(function(){function r(e){if(this.channels=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.channels=ue.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,n){if(n||(n=ye.create()),t.channels!=null&&t.channels.length)for(var s=0;s<t.channels.length;++s)I.ChannelId.encode(t.channels[s],n.uint32(10).fork()).ldelim();return n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.ChannelStatsRequest;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.channels&&i.channels.length||(i.channels=[]),i.channels.push(I.ChannelId.decode(t,t.uint32()));break;default:t.skipType(o&7);break}}return i},r})();I.ChannelId=(function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.id=ue.newBuffer([]),r.prototype.isPrivate=!1,r.prototype.signature=ue.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=ye.create()),t.id!=null&&t.hasOwnProperty("id")&&n.uint32(10).bytes(t.id),t.isPrivate!=null&&t.hasOwnProperty("isPrivate")&&n.uint32(16).bool(t.isPrivate),t.signature!=null&&t.hasOwnProperty("signature")&&n.uint32(26).bytes(t.signature),n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.ChannelId;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.id=t.bytes();break;case 2:i.isPrivate=t.bool();break;case 3:i.signature=t.bytes();break;default:t.skipType(o&7);break}}return i},r})();I.ServerStatsRequest=(function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=ye.create()),n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.ServerStatsRequest;t.pos<s;){var o=t.uint32();switch(o>>>3){default:t.skipType(o&7);break}}return i},r})();I.Sender=(function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.type=0,r.prototype.id=ue.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=ye.create()),t.type!=null&&t.hasOwnProperty("type")&&n.uint32(8).int32(t.type),t.id!=null&&t.hasOwnProperty("id")&&n.uint32(18).bytes(t.id),n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.Sender;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.type=t.int32();break;case 2:i.id=t.bytes();break;default:t.skipType(o&7);break}}return i},r})();I.SenderType=(function(){var r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="CLIENT"]=1,e[r[2]="BACKEND"]=2,e})();I.Receiver=(function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.id=ue.newBuffer([]),r.prototype.isPrivate=!1,r.prototype.signature=ue.newBuffer([]),r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=ye.create()),t.id!=null&&t.hasOwnProperty("id")&&n.uint32(10).bytes(t.id),t.isPrivate!=null&&t.hasOwnProperty("isPrivate")&&n.uint32(16).bool(t.isPrivate),t.signature!=null&&t.hasOwnProperty("signature")&&n.uint32(26).bytes(t.signature),n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.Receiver;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.id=t.bytes();break;case 2:i.isPrivate=t.bool();break;case 3:i.signature=t.bytes();break;default:t.skipType(o&7);break}}return i},r})();I.ResponseBatch=(function(){function r(e){if(this.responses=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.responses=ue.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,n){if(n||(n=ye.create()),t.responses!=null&&t.responses.length)for(var s=0;s<t.responses.length;++s)I.Response.encode(t.responses[s],n.uint32(10).fork()).ldelim();return n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.ResponseBatch;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.responses&&i.responses.length||(i.responses=[]),i.responses.push(I.Response.decode(t,t.uint32()));break;default:t.skipType(o&7);break}}return i},r})();I.Response=(function(){function r(t){if(t)for(var n=Object.keys(t),s=0;s<n.length;++s)t[n[s]]!=null&&(this[n[s]]=t[n[s]])}r.prototype.outgoingMessages=null,r.prototype.channelStats=null,r.prototype.serverStats=null;var e;return Object.defineProperty(r.prototype,"command",{get:ue.oneOfGetter(e=["outgoingMessages","channelStats","serverStats"]),set:ue.oneOfSetter(e)}),r.create=function(n){return new r(n)},r.encode=function(n,s){return s||(s=ye.create()),n.outgoingMessages!=null&&n.hasOwnProperty("outgoingMessages")&&I.OutgoingMessagesResponse.encode(n.outgoingMessages,s.uint32(10).fork()).ldelim(),n.channelStats!=null&&n.hasOwnProperty("channelStats")&&I.ChannelStatsResponse.encode(n.channelStats,s.uint32(18).fork()).ldelim(),n.serverStats!=null&&n.hasOwnProperty("serverStats")&&I.JsonResponse.encode(n.serverStats,s.uint32(26).fork()).ldelim(),s},r.decode=function(n,s){n instanceof q||(n=q.create(n));for(var i=s===void 0?n.len:n.pos+s,o=new I.Response;n.pos<i;){var l=n.uint32();switch(l>>>3){case 1:o.outgoingMessages=I.OutgoingMessagesResponse.decode(n,n.uint32());break;case 2:o.channelStats=I.ChannelStatsResponse.decode(n,n.uint32());break;case 3:o.serverStats=I.JsonResponse.decode(n,n.uint32());break;default:n.skipType(l&7);break}}return o},r})();I.OutgoingMessagesResponse=(function(){function r(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.messages=ue.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,n){if(n||(n=ye.create()),t.messages!=null&&t.messages.length)for(var s=0;s<t.messages.length;++s)I.OutgoingMessage.encode(t.messages[s],n.uint32(10).fork()).ldelim();return n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.OutgoingMessagesResponse;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.messages&&i.messages.length||(i.messages=[]),i.messages.push(I.OutgoingMessage.decode(t,t.uint32()));break;default:t.skipType(o&7);break}}return i},r})();I.OutgoingMessage=(function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.id=ue.newBuffer([]),r.prototype.body="",r.prototype.expiry=0,r.prototype.created=0,r.prototype.sender=null,r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=ye.create()),t.id!=null&&t.hasOwnProperty("id")&&n.uint32(10).bytes(t.id),t.body!=null&&t.hasOwnProperty("body")&&n.uint32(18).string(t.body),t.expiry!=null&&t.hasOwnProperty("expiry")&&n.uint32(24).uint32(t.expiry),t.created!=null&&t.hasOwnProperty("created")&&n.uint32(37).fixed32(t.created),t.sender!=null&&t.hasOwnProperty("sender")&&I.Sender.encode(t.sender,n.uint32(42).fork()).ldelim(),n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.OutgoingMessage;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.id=t.bytes();break;case 2:i.body=t.string();break;case 3:i.expiry=t.uint32();break;case 4:i.created=t.fixed32();break;case 5:i.sender=I.Sender.decode(t,t.uint32());break;default:t.skipType(o&7);break}}return i},r})();I.ChannelStatsResponse=(function(){function r(e){if(this.channels=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.channels=ue.emptyArray,r.create=function(t){return new r(t)},r.encode=function(t,n){if(n||(n=ye.create()),t.channels!=null&&t.channels.length)for(var s=0;s<t.channels.length;++s)I.ChannelStats.encode(t.channels[s],n.uint32(10).fork()).ldelim();return n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.ChannelStatsResponse;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.channels&&i.channels.length||(i.channels=[]),i.channels.push(I.ChannelStats.decode(t,t.uint32()));break;default:t.skipType(o&7);break}}return i},r})();I.ChannelStats=(function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.id=ue.newBuffer([]),r.prototype.isPrivate=!1,r.prototype.isOnline=!1,r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=ye.create()),t.id!=null&&t.hasOwnProperty("id")&&n.uint32(10).bytes(t.id),t.isPrivate!=null&&t.hasOwnProperty("isPrivate")&&n.uint32(16).bool(t.isPrivate),t.isOnline!=null&&t.hasOwnProperty("isOnline")&&n.uint32(24).bool(t.isOnline),n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.ChannelStats;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.id=t.bytes();break;case 2:i.isPrivate=t.bool();break;case 3:i.isOnline=t.bool();break;default:t.skipType(o&7);break}}return i},r})();I.JsonResponse=(function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.json="",r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=ye.create()),t.json!=null&&t.hasOwnProperty("json")&&n.uint32(10).string(t.json),n},r.decode=function(t,n){t instanceof q||(t=q.create(t));for(var s=n===void 0?t.len:t.pos+n,i=new I.JsonResponse;t.pos<s;){var o=t.uint32();switch(o>>>3){case 1:i.json=t.string();break;default:t.skipType(o&7);break}}return i},r})();I.ResponseBatch;I.RequestBatch;I.IncomingMessage;I.Receiver;const Vc=50;let Ye=null,un=!1,dt=null,ws=!1,cn=[],bs=!1;function Gi(){window.setTimeout(()=>{if(!un||Ye===null){Gi();return}Wc(),cn=[]},Vc)}function Wc(){if(dt!==null)for(const r of cn)r.reject(dt);if(!(!un||Ye===null))for(const r of cn)r.resolve(Ye)}async function uf(){return un&&Ye!==null?Promise.resolve(Ye):ws?(bs||(bs=!0,Gi()),new Promise((r,e)=>{cn.push({resolve:r,reject:e})})):(ws=!0,new Promise((r,e)=>{const t={DOMAIN:null,PROTOCOL:!1,APP_SID:null,LANG:null};if(window.name){const[n,s,i]=window.name.split("|");t.DOMAIN=n,t.PROTOCOL=Number.parseInt(s)===1,t.APP_SID=i,t.LANG=null}(!t.DOMAIN||!t.APP_SID)&&(dt=new Error("Unable to initialize Bitrix24Frame library!"),e(dt)),Ye=new Lc(t),Ye.init().then(()=>{un=!0,r(Ye)}).catch(n=>{dt=n,e(dt)})}))}export{ln as AbstractB24,Ue as AjaxError,Vn as AjaxResult,Ic as AppFrame,_c as AuthManager,Lc as B24Frame,Yi as B24LangList,Fc as DialogManager,it as LoggerBrowser,J as LoggerType,ee as MessageCommands,Rc as MessageManager,Mc as OptionsManager,Dc as ParentManager,Pc as PlacementManager,Oc as RestrictionManagerParamsBase,je as Result,Cc as SliderManager,Dt as Text,le as Type,uf as initializeB24Frame,hc as omit};
